# 2021å¹´05æœˆ25æ—¥ code
<a href="https://toutiao.io/k/18gz8ap">ç™¾äº¿è§„æ¨¡ API ç½‘å…³æœåŠ¡ Shepherd çš„è®¾è®¡ä¸å®ç°</a><br /><a href="https://toutiao.io/k/5za3e5u">Golang å†…å­˜ç®¡ç†åˆ†æ</a><br /><a href="https://toutiao.io/k/25bbheg">é€›åˆ°åº•å±‚çœ‹ NIO çš„é›¶æ‹·è´</a><br /><a href="https://toutiao.io/k/g6gcl8g">DuckDBï¼šå¼€ç¯‡</a><br /><a href="https://toutiao.io/k/qrqp4ja">15 åˆ†é’Ÿï¼ä¸€æ–‡å¸®å°ç™½ææ‡‚æ“ä½œç³»ç»Ÿä¹‹å†…å­˜</a><br /><a href="https://toutiao.io/k/d1elomi">FastAPI çš„ swagger ui ç•Œé¢å´©æºƒä¿®å¤è®°</a><br /><a href="https://toutiao.io/k/k3yowca">è°ˆè°ˆ Service Worker ä¸ PWA</a><br /><a href="https://toutiao.io/k/hrzbl6z">è§£è°œè‹±è¯­è¯­æ³•</a><br /><a href="https://toutiao.io/k/b4qs5mi">ç¨‹åºå‘˜å¦‚ä½•è°ˆè–ªèµ„</a><br /><a href="https://toutiao.io/k/5f0vunw">Lambda è¡¨è¾¾å¼å®ç°åŸç†åˆ†æ</a><br /><a href="https://toutiao.io/k/8j22qny">æŠ„åº•çš„è‰ºæœ¯ï¼šé‡åŒ–äº¤æ˜“ä¹‹è·¯</a><br /><a href="https://toutiao.io/k/nsuesyp">Kubernetes å®ç”¨æŠ€å·§ï¼šä½¿ç”¨ ksniff æŠ“åŒ…</a><br /><a href="https://toutiao.io/k/9lcpv5e">è¿‘ä¸šåŠ¡ = å›°æ­»åœ¨ä¸€æ¡èˆ¹ä¸Šï¼Ÿ</a><br /><a href="https://toutiao.io/k/s8qw93o">ElasticSearch æµ·é‡æ•°æ®æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–</a><br /><a href="https://toutiao.io/k/0nl82hl">å›¢é˜Ÿå¤§äº†ï¼Œèƒ†å„¿å˜å°äº†</a><br /><a href="https://toutiao.io/k/viaayf9">Chrome æ’ä»¶ï¼šå›¾ç‰‡æ‰¹é‡ä¸‹è½½</a><br /><a href="https://toutiao.io/k/1mxnn0j">èŠèŠå®‰å…¨æº¯æºåˆ†æ</a><br /><a href="https://toutiao.io/k/07ie7w9">åœ¨ Python ä¸­åˆ¤æ–­ä¸¤ä¸ªæµ®ç‚¹æ•°çš„ç›¸ç­‰</a><br /><a href="https://toutiao.io/k/fg5b2h9">æµ‹è¯•çš„æ€è™«å‰‚ç°è±¡</a><br /><a href="https://toutiao.io/k/zu0ile7">React + TypeScript å®è·µ</a><br /><a href="https://toutiao.io/k/wa52n1g">[æ¨è] é«˜å¹¶å‘ï¼Œæˆ‘æŠŠæ¡ä¸ä½å•Š</a><br /><a href="https://toutiao.io/k/0hjw87u">[æ¨è] æ—¥è®¢å•é‡è¾¾åˆ° 100 ä¸‡å•åï¼Œæˆ‘ä»¬åšäº†è®¢å•ä¸­å¿ƒé‡æ„</a><br /><a href="https://toutiao.io/k/jt9e5bq">[æ¨è] åŠ¨å›¾å›¾è§£ï¼æ—¢ç„¶ IP å±‚ä¼šåˆ†ç‰‡ï¼Œä¸ºä»€ä¹ˆ TCP å±‚ä¹Ÿè¿˜è¦åˆ†æ®µï¼Ÿ</a><br /><a href="https://toutiao.io/k/k1o0w99">[æ¨è] å“ˆå•°åœ¨åˆ†å¸ƒå¼æ¶ˆæ¯æ²»ç†å’Œå¾®æœåŠ¡æ²»ç†ä¸­çš„å®è·µ</a><br /><a href="https://toutiao.io/k/r3kppel">[æ¨è] WebRTC çš„å‰ä¸–ä»Šç”Ÿ</a><br /><a href="https://toutiao.io/k/2tnj5np">[æ¨è] RabbitMQã€Kafkaã€RocketMQ æ˜¯å¦‚ä½•å®ç°é«˜å¯ç”¨çš„ï¼Ÿ</a><br /><a href="https://toutiao.io/k/3byclqk">[æ¨è] è¿™ä¸ª GitHub é¡¹ç›®èƒ½å…‹éš†ä½ çš„å£°éŸ³</a><br /><a href="https://toutiao.io/k/ep5e8sd">[æ¨è] äº¿çº§ç³»ç»Ÿçš„ Redis ç¼“å­˜å¦‚ä½•è®¾è®¡ï¼Ÿ</a><br /><a href="https://toutiao.io/k/bzx7ri7">[æ¨è] Spring Boot å¼€å‘ç§˜ç±ï¼šé›†æˆå‚æ•°æ ¡éªŒåŠé«˜é˜¶æŠ€å·§</a><br /><a href="https://toutiao.io/k/w8wyj2e">[æ¨è] æ¶ˆæ¯é˜Ÿåˆ—æŠŠæ¶ˆæ¯å¼„ä¸¢äº†æ€ä¹ˆåŠï¼Ÿ</a><br /><a href="https://toutiao.io/k/ca8fe6d">[æ¨è] åŠç‚¸å¤©çš„ Docker å›¾å½¢åŒ–å·¥å…· Portainerï¼Œå¿…é¡»æ¨èç»™ä½ </a><br /><a href="https://toutiao.io/k/osge9c2">[æ¨è] è¿™æ¬¾è¿œç¨‹æ¡Œé¢è½¯ä»¶å¼€æºäº†</a><br /><a href="https://toutiao.io/k/9yex08q">[æ¨è] æˆ‘æŠŠè¿™ä¸ªè½¯ä»¶ï¼Œæ¨èç»™äº†æ€»ç›‘</a><br /><a href="https://toutiao.io/k/bjis3t4">[æ¨è] 36 å¼ å›¾è¯¦è§£ç½‘ç»œåŸºç¡€çŸ¥è¯†</a><br /><hr /><a href="https://github.com/iptv-org/iptv">Collection of publicly available IPTV channels from all over the world</a><br /><a href="https://github.com/login?return_to=%2Frustdesk%2Frustdesk">The best open source remote desktop client software</a><br /><a href="https://github.com/utam0k/youki">An experimental container runtime written in Rust</a><br /><a href="https://github.com/cdr/code-server">VS Code in the browser</a><br /><a href="https://github.com/donnemartin/system-design-primer">Learn how to design large-scale systems. Prep for the system design interview. Includes Anki flashcards.</a><br /><a href="https://github.com/juce-framework/JUCE">JUCE is an open-source cross-platform C++ application framework for desktop and mobile applications, including VST, VST3, AU, AUv3, RTAS and AAX audio plug-ins.</a><br /><a href="https://github.com/gwuhaolin/livego">live video streaming server in golang</a><br /><a href="https://github.com/dotnet/maui">.NET MAUI is the .NET Multi-platform App UI, a framework for building native device applications spanning mobile, tablet, and desktop.</a><br /><a href="https://github.com/mehdihadeli/awesome-software-architecture">A curated list of awesome articles and resources to learn and practice about software architecture, patterns, and principles.</a><br /><a href="https://github.com/a327ex/SNKRX">A replayable arcade shooter where you control a snake of heroes.</a><br /><a href="https://github.com/appwrite/appwrite">Appwrite is a secure end-to-end backend server for Web, Mobile, and Flutter developers that is packaged as a set of Docker containers for easy deployment ğŸš€</a><br /><a href="https://github.com/discordjs/discord.js">A powerful JavaScript library for interacting with the Discord API</a><br /><a href="https://github.com/Pierian-Data/Complete-Python-3-Bootcamp">Course Files for Complete Python 3 Bootcamp Course on Udemy</a><br /><a href="https://github.com/ethereumbook/ethereumbook">Mastering Ethereum, by Andreas M. Antonopoulos, Gavin Wood</a><br /><a href="https://github.com/CyberPunkMetalHead/Binance-volatility-trading-bot">This is a fully functioning Binance trading bot that measures the volatility of every coin on Binance and places trades with the highest gaining coins If you like this project consider donating though the Brave browser to allow me to continuously improve the script.</a><br /><a href="https://github.com/ZLMediaKit/ZLMediaKit">A lightweight RTSP/RTMP/HTTP/HLS/HTTP-FLV/WebSocket-FLV/HTTP-TS/HTTP-fMP4/WebSocket-TS/WebSocket-fMP4/GB28181/WebRTC server and client framework based on C++11</a><br /><a href="https://github.com/fireship-io/threejs-scroll-animation-demo">3D Scrolling Portfolio Website with Three.js</a><br /><a href="https://github.com/pytorch/fairseq">Facebook AI Research Sequence-to-Sequence Toolkit written in Python.</a><br /><a href="https://github.com/geekcomputers/Python">My Python Examples</a><br /><a href="https://github.com/home-assistant/core">ğŸ¡ Open source home automation that puts local control and privacy first</a><br /><a href="https://github.com/saadeghi/daisyui">â­ï¸ â­ï¸ â­ï¸ â­ï¸ â­ï¸ â€ƒTailwind Components</a><br /><a href="https://github.com/sonnysangha/Amazon-starter-template-nextjs">This is the Official Starter template for the AMAZON 5 Day challenge (The SECRET Challenge!) - Next.js | React.js | Tailwind CSS | Redux | Tailwind | Firebase</a><br /><a href="https://github.com/lyswhut/lx-music-desktop">ä¸€ä¸ªåŸºäº electron çš„éŸ³ä¹è½¯ä»¶</a><br /><a href="https://github.com/login?return_to=%2Fwillmcgugan%2Frich">Rich is a Python library for rich text and beautiful formatting in the terminal.</a><br /><a href="https://github.com/ashishpatel26/500-AI-Machine-learning-Deep-learning-Computer-vision-NLP-Projects-with-code">500 AI Machine learning Deep learning Computer vision NLP Projects with code</a><br /><hr />ä½¿æ‰€æœ‰åŒºé—´çš„å¼‚æˆ–ç»“æœä¸ºé›¶<br /><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code>â€‹â€‹â€‹ å’Œä¸€ä¸ªæ•´æ•° <code>k</code>â€‹â€‹â€‹â€‹â€‹ ã€‚åŒºé—´ <code>[left, right]</code>ï¼ˆ<code>left <= right</code>ï¼‰çš„ <strong>å¼‚æˆ–ç»“æœ</strong> æ˜¯å¯¹ä¸‹æ ‡ä½äºÂ <code>left</code> å’Œ <code>right</code>ï¼ˆåŒ…æ‹¬ <code>left</code> å’Œ <code>right</code> ï¼‰ä¹‹é—´æ‰€æœ‰å…ƒç´ è¿›è¡Œ <code>XOR</code> è¿ç®—çš„ç»“æœï¼š<code>nums[left] XOR nums[left+1] XOR ... XOR nums[right]</code> ã€‚</p>

<p>è¿”å›æ•°ç»„ä¸­ <strong>è¦æ›´æ”¹çš„æœ€å°å…ƒç´ æ•°</strong> ï¼Œä»¥ä½¿æ‰€æœ‰é•¿åº¦ä¸º <code>k</code> çš„åŒºé—´å¼‚æˆ–ç»“æœç­‰äºé›¶ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,2,0,3,0], k = 1
<strong>è¾“å‡ºï¼š</strong>3
<strong>è§£é‡Šï¼š</strong>å°†æ•°ç»„ [<strong>1</strong>,<strong>2</strong>,0,<strong>3</strong>,0] ä¿®æ”¹ä¸º [<strong>0</strong>,<strong>0</strong>,0,<strong>0</strong>,0]
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [3,4,5,2,1,7,3,4,7], k = 3
<strong>è¾“å‡ºï¼š</strong>3
<strong>è§£é‡Šï¼š</strong>å°†æ•°ç»„ [3,4,<strong>5</strong>,<strong>2</strong>,<strong>1</strong>,7,3,4,7] ä¿®æ”¹ä¸º [3,4,<strong>7</strong>,<strong>3</strong>,<strong>4</strong>,7,3,4,7]
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,2,4,1,2,5,1,2,6], k = 3
<strong>è¾“å‡ºï¼š</strong>3
<strong>è§£é‡Šï¼š</strong>å°†æ•°ç»„[1,2,<strong>4,</strong>1,2,<strong>5</strong>,1,2,<strong>6</strong>] ä¿®æ”¹ä¸º [1,2,<strong>3</strong>,1,2,<strong>3</strong>,1,2,<strong>3</strong>]</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= k <= nums.length <= 2000</code></li>
	<li><code>â€‹â€‹â€‹â€‹â€‹â€‹0 <= nums[i] < 2<sup>10</sup></code></li>
</ul>
<br />#### æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’

**æ€è·¯ä¸ç®—æ³•**

è®¾æ•°ç»„ $\textit{nums}$ çš„é•¿åº¦ä¸º $n$ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ†æå‡ºæ•°ç»„ $\textit{nums}$ åœ¨ä¿®æ”¹ä¹‹ååº”å½“å…·æœ‰å“ªäº›æ€§è´¨ã€‚

ç”±äºä»»æ„é•¿åº¦ä¸º $k$ çš„åŒºé—´å¼‚æˆ–ç»“æœç­‰äº $0$ï¼Œé‚£ä¹ˆå¯¹äºä»»æ„çš„ $i$ï¼Œæœ‰ï¼š

$$
\textit{nums}[i] \oplus \textit{nums}[i+1] \oplus \cdots \oplus \textit{nums}[i+k-1] = 0 \tag{1}
$$

ä»¥åŠï¼š

$$
\textit{nums}[i+1] \oplus \textit{nums}[i+2] \oplus \cdots \oplus \textit{nums}[i+k] = 0 \tag{2}
$$

å…¶ä¸­ $\oplus$ è¡¨ç¤ºå¼‚æˆ–è¿ç®—ã€‚æ ¹æ®å¼‚æˆ–è¿ç®—çš„æ€§è´¨ $a \oplus b \oplus b = a$ï¼Œå°† $(1)(2)$ ä¸¤å¼è”ç«‹ï¼Œå³å¯å¾—åˆ°ï¼š

$$
\textit{nums}[i] \oplus \textit{nums}[i+k] = 0
$$

å…¶ç­‰ä»·äº $\textit{nums}[i] = \textit{nums}[i+k]$ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªé‡è¦çš„ç»“è®ºï¼š

> æ•°ç»„ $\textit{nums}$ åœ¨ä¿®æ”¹ä¹‹åæ˜¯ä¸€ä¸ªä»¥ $k$ ä¸ºå‘¨æœŸçš„å‘¨æœŸæ€§æ•°ç»„ï¼Œå³ $\forall i \in [0, n-k), \textit{nums}[i] = \textit{nums}[i+k]$ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°ç»„ $\textit{nums}$ æŒ‰ç…§ä¸‹æ ‡å¯¹ $k$ å–æ¨¡çš„ç»“æœ $0, 1, \cdots, k-1$ åˆ†æˆ $k$ ä¸ªç»„ï¼Œæ¯ä¸ªç»„å†…çš„å…ƒç´ å¿…é¡»è¦ç›¸ç­‰ï¼Œå¹¶ä¸”è¿™ $k$ ä¸ªç»„å¯¹åº”çš„å…ƒç´ çš„å¼‚æˆ–å’Œä¸º $0$ï¼Œå³ï¼š

$$
\textit{nums}[0] \oplus \textit{nums}[1] \oplus \cdots \oplus \textit{nums}[k-1] = 0
$$

åªè¦æ»¡è¶³ä¸Šè¿°çš„è¦æ±‚ï¼Œä¿®æ”¹åçš„æ•°ç»„çš„æ‰€æœ‰é•¿åº¦ä¸º $k$ çš„åŒºé—´å¼‚æˆ–ç»“æœä¸€å®šç­‰äº $0$ã€‚

å¯¹äºç¬¬ $i$ ä¸ªç»„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ˆå¸Œæ˜ å°„æ¥å­˜å‚¨è¯¥ç»„å†…çš„å…ƒç´ ä»¥åŠæ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°è¯•ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³æœ¬é¢˜äº†ã€‚

è®¾ $f(i, \textit{mask})$ è¡¨ç¤ºæˆ‘ä»¬å·²ç»å¤„ç†äº†ç¬¬ $0, 1, \cdots, i$ ä¸ªç»„ï¼Œå¹¶ä¸”è¿™äº›ç»„å¯¹åº”å…ƒç´ çš„å¼‚æˆ–å’Œï¼š

$$
\textit{nums}[0] \oplus \textit{nums}[1] \oplus \cdots \oplus \textit{nums}[i]
$$

ä¸º $\textit{mask}$ çš„å‰æä¸‹ï¼Œè¿™äº›ç»„**æ€»è®¡**æœ€å°‘éœ€è¦ä¿®æ”¹çš„å…ƒç´ ä¸ªæ•°ã€‚åœ¨è¿›è¡ŒçŠ¶æ€è½¬ç§»æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æšä¸¾ç¬¬ $i$ ç»„è¢«ä¿®æ”¹æˆäº†å“ªä¸ªæ•°ã€‚å‡è®¾å…¶è¢«ä¿®æ”¹æˆäº† $x$ï¼Œé‚£ä¹ˆç¬¬ $0, 1, \cdots, i-1$ ä¸ªç»„å¯¹åº”çš„å…ƒç´ çš„å¼‚æˆ–å’Œå³ä¸º $\textit{mask} \oplus x$ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

$$
f(i, \textit{mask}) = \min_x \big\{ f(i-1, \textit{mask} \oplus x) + \text{size}(i) - \text{count}(i, x) \big\}
$$

å…¶ä¸­ $\text{size}(i)$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç»„é‡Œçš„å…ƒç´ ä¸ªæ•°ï¼Œ$\text{count}(i, x)$ è¡¨ç¤ºç¬¬ $i$ ä¸ªç»„é‡Œå…ƒç´  $x$ çš„æ¬¡æ•°ï¼Œå®ƒä»¬çš„å€¼éƒ½å¯ä»¥é€šè¿‡å“ˆå¸Œæ˜ å°„å¾—åˆ°ã€‚ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ„ä¹‰å³ä¸ºï¼šå¦‚æœæˆ‘ä»¬é€‰æ‹©å°†ç¬¬ $i$ ç»„å…¨éƒ¨ä¿®æ”¹ä¸º $x$ï¼Œé‚£ä¹ˆæœ‰ $\text{count}(i, x)$ ä¸ªæ•°æ˜¯æ— éœ€ä¿®æ”¹çš„ï¼Œè¿™æ ·å°±éœ€è¦ä¿®æ”¹ $\text{size}(i) - \text{count}(i, x)$ æ¬¡ã€‚

åŠ¨æ€è§„åˆ’çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿæˆ‘ä»¬å‘ç°è¿™å¹¶ä¸å¥½ä¼°è®¡ï¼Œè¿™æ˜¯å› ä¸º $x$ å¯ä»¥å¾ˆå°ï¼Œä¹Ÿå¯ä»¥å¾ˆå¤§ï¼Œå®ƒå¹¶æ²¡æœ‰ä¸€ä¸ªå›ºå®šçš„èŒƒå›´ã€‚ç„¶è€Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé¢˜ç›®ä¸­è§„å®šäº† $\textit{nums}[i] < 2^{10}$ï¼Œä¹Ÿå°±æ˜¯ **$\textit{nums}[i]$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„ä½æ•°ä¸è¶…è¿‡ $10$**ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æ–­å®šï¼Œ$x$ çš„ä¸Šé™å°±æ˜¯ $2^{10}$ã€‚

> å¦‚æœ $x \geq 2^{10}$ï¼Œé‚£ä¹ˆ $x$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€é«˜ä½ $1$ æ˜¯åœ¨æ•°ç»„ $\textit{nums}$ çš„å…¶å®ƒå…ƒç´ ä¸­æ²¡æœ‰å‡ºç°è¿‡çš„ï¼Œå› æ­¤æ ¹æ®å¼‚æˆ–çš„æ€§è´¨ï¼Œè¦æƒ³å°†æœ€ç»ˆçš„å¼‚æˆ–ç»“æœå˜ä¸º $0$ï¼Œæˆ‘ä»¬éœ€è¦å°†å¦ä¸€ä¸ªç»„çš„æ‰€æœ‰å…ƒç´ æ”¹ä¸º $y$ï¼Œä¸” $y$ æœ‰ä¸ $x$ ç›¸åŒçš„é«˜ä½ $1$ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ä¸å¦‚å°† $x$ å’Œ $y$ çš„é«˜ä½ $1$ ç§»é™¤ï¼Œè®©å®ƒä»¬éƒ½åœ¨ $[0, 2^{10})$ çš„èŒƒå›´å†…ï¼Œè¿™æ ·æ›´å®¹æ˜“å¢å¤§ $\text{count}(i, x)$ï¼Œå‡å°‘æœ€ç»ˆçš„ä¿®æ”¹æ¬¡æ•°ã€‚

å½“æˆ‘ä»¬ç¡®å®šäº† $x$ çš„ä¸Šé™ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºåŠ¨æ€è§„åˆ’çš„æ—¶é—´å¤æ‚åº¦äº†ã€‚çŠ¶æ€çš„æ•°é‡æœ‰ $k \times 2^{10}$ ä¸ªï¼Œå¯¹äºæ¯ä¸€ä¸ªçŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾ $x$ æ¥è¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼Œè€Œ $x$ çš„æ•°é‡åŒæ ·æœ‰ $2^{10}$ ä¸ªï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º $O(2^{20} k) = O(2^{20} n)$ï¼Œæ•°é‡çº§çº¦ä¸º $2 \times 10^9$ï¼Œè¶…å‡ºäº†æ—¶é—´é™åˆ¶ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»è¦è¿›è¡Œä¼˜åŒ–ã€‚

**ä¼˜åŒ–**

å¯¹äºæœªä¼˜åŒ–çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

$$
f(i, \textit{mask}) = \min_x \big\{ f(i-1, \textit{mask} \oplus x) + \text{size}(i) - \text{count}(i, x) \big\}
$$

é¦–å…ˆ $\text{size}(i)$ æ˜¯ä¸ $x$ æ— å…³çš„å¸¸é‡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç§»å‡ºæœ€å°å€¼çš„é™åˆ¶ï¼Œå³ï¼š

$$
f(i, \textit{mask}) = \text{size}(i) + \min_x \big\{ f(i-1, \textit{mask} \oplus x) - \text{count}(i, x) \big\}
$$

ç”±äºæˆ‘ä»¬éœ€è¦æ±‚çš„æ˜¯ã€Œæœ€å°å€¼ã€ï¼Œå› æ­¤åœ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­æ·»åŠ è‹¥å¹²å¤§äºç­‰äºã€Œæœ€å°å€¼ã€çš„é¡¹ï¼Œå¯¹æœ€ç»ˆçš„ç­”æ¡ˆä¸ä¼šäº§ç”Ÿå½±å“ã€‚

è€ƒè™‘ $\text{count}(i, x)$ è¿™ä¸€é¡¹ï¼Œå¦‚æœ $x$ æ²¡æœ‰åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°ï¼Œé‚£ä¹ˆè¿™ä¸€é¡¹çš„å€¼ä¸º $0$ï¼Œå¦åˆ™è¿™ä¸€é¡¹çš„å€¼å¤§äº $0$ã€‚å³ï¼š

- å¦‚æœ $x$ æ²¡æœ‰åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°ï¼Œé‚£ä¹ˆè½¬ç§»çš„çŠ¶æ€ä¸ºï¼š

    $$
    f(i-1, \textit{mask} \oplus x)
    $$

- å¦‚æœ $x$ åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°ï¼Œé‚£ä¹ˆè½¬ç§»çš„çŠ¶æ€ä¸ºï¼š

    $$
    f(i-1, \textit{mask} \oplus x) - \text{count}(i, x)
    $$

    å®ƒä¸¥æ ¼å°äº $f(i-1, \textit{mask} \oplus x)$ã€‚å¦‚æœæˆ‘ä»¬åœ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­æ·»åŠ  $f(i-1, \textit{mask} \oplus x)$ï¼Œæœ€ç»ˆçš„ç­”æ¡ˆä¸ä¼šå˜åŒ–ã€‚

å› æ­¤æˆ‘ä»¬å¯ä»¥å°†çŠ¶æ€è½¬ç§»æ–¹ç¨‹å˜åŒ–ä¸ºï¼š

$$
f(i, \textit{mask}) = \text{size}(i) + \min\{ t_1, t_2 \}
$$

å…¶ä¸­ $t_1$ å¯¹åº” $x$ åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°çš„çŠ¶æ€ï¼Œå³ï¼š

$$
t_1 = \min_{x \in \text{HashTable}(i)} \big\{ f(i-1, \textit{mask} \oplus x) - \text{count}(i, x) \big\}
$$

$t_2$ å¯¹åº” $x$ ä¸åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°çš„çŠ¶æ€ï¼Œä»¥åŠ $x$ åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°å¹¶ä¸”æˆ‘ä»¬é¢å¤–æ·»åŠ çš„çŠ¶æ€ï¼Œå³ï¼š

$$
t_2 = \min_x f(i - 1, \textit{mask} \oplus x)
$$

ç”±äº $\textit{mask}$ çš„å–å€¼èŒƒå›´æ˜¯ $[0, 2^{10})$ï¼Œ$x$ çš„å–å€¼èŒƒå›´ä¹Ÿæ˜¯ $[0, 2^{10})$ï¼Œå› æ­¤ **$\textit{mask} \oplus x$ çš„å–å€¼èŒƒå›´å°±æ˜¯ $[0, 2^{10})$ï¼Œä¸ $x$ æ— å…³**ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š

> $t_2$ å°±æ˜¯æ‰€æœ‰çŠ¶æ€ $f(i-1, ..)$ ä¸­çš„æœ€å°å€¼ã€‚

é‚£ä¹ˆä¼˜åŒ–åçš„åŠ¨æ€è§„åˆ’çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿå¯¹äºç¬¬ $i$ ç»„ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºç¬¬ $i-1$ ç»„å¯¹åº”çš„çŠ¶æ€ $f(i-1, ..)$ ä¸­çš„æœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(2^{10})$ï¼Œå³ä¸º $t_2$ éƒ¨åˆ†çš„çŠ¶æ€è½¬ç§»ã€‚è€Œå¯¹äº $t_1$ éƒ¨åˆ†ï¼ŒçŠ¶æ€è½¬ç§»çš„æ¬¡æ•°ç­‰äºç¬¬ $i$ ç»„å“ˆå¸Œæ˜ å°„çš„å¤§å°ï¼Œå°äºç­‰äº $\text{size}(i)$ã€‚å› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼š

$$
O\left( k \times \sum_{i=0}^{k-1} \big( 2^{10} + \text{size}(i) \big) \right) = O(2^{10}k + n)
$$

æœ€ç»ˆçš„ç­”æ¡ˆå³ä¸º $f(k-1, 0)$ã€‚

**ç»†èŠ‚**

ç”±äº $f(i, ..)$ åªä¼šä» $f(i-1, ..)$ è½¬ç§»è€Œæ¥ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªé•¿åº¦ä¸º $2^{10}$ çš„ä¸€ç»´æ•°ç»„ä»£æ›¿äºŒç»´æ•°ç»„ï¼Œäº¤æ›¿åœ°è¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼Œå‡å°‘ç©ºé—´å¤æ‚åº¦ã€‚

æ­¤å¤–ï¼Œå½“ $i=0$ æ—¶ï¼Œ$f(-1, ..)$ éƒ½æ˜¯éœ€è¦ç‰¹æ®Šè€ƒè™‘çš„è¾¹ç•Œæ¡ä»¶ã€‚ç”±äº $f(-1, ..)$ è¡¨ç¤ºæ²¡æœ‰è€ƒè™‘ä»»ä½•ç»„æ—¶çš„å¼‚æˆ–å’Œï¼Œå› æ­¤è¯¥å¼‚æˆ–å’Œä¸€å®šä¸º $0$ï¼Œå³ $f(-1, 0) = 0$ã€‚å…¶å®ƒçš„çŠ¶æ€éƒ½æ˜¯ä¸åˆæ³•çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬èµ‹äºˆä¸€ä¸ªæå¤§å€¼ $\infty$ã€‚

**ä»£ç **

```C++ [sol1-C++]
class Solution {
private:
    // x çš„èŒƒå›´ä¸º [0, 2^10)
    static constexpr int MAXX = 1 << 10;
    // æå¤§å€¼ï¼Œä¸ºäº†é˜²æ­¢æ•´æ•°æº¢å‡ºé€‰æ‹© INT_MAX / 2
    static constexpr int INFTY = INT_MAX / 2;
    
public:
    int minChanges(vector<int>& nums, int k) {
        int n = nums.size();
        vector<int> f(MAXX, INFTY);
        // è¾¹ç•Œæ¡ä»¶ f(-1,0)=0
        f[0] = 0;
        
        for (int i = 0; i < k; ++i) {
            // ç¬¬ i ä¸ªç»„çš„å“ˆå¸Œæ˜ å°„
            unordered_map<int, int> cnt;
            int size = 0;
            for (int j = i; j < n; j += k) {
                ++cnt[nums[j]];
                ++size;
            }

            // æ±‚å‡º t2
            int t2min = *min_element(f.begin(), f.end());

            vector<int> g(MAXX, t2min);
            for (int mask = 0; mask < MAXX; ++mask) {
                // t1 åˆ™éœ€è¦æšä¸¾ x æ‰èƒ½æ±‚å‡º
                for (auto [x, countx]: cnt) {
                    g[mask] = min(g[mask], f[mask ^ x] - countx);
                }
            }
            
            // åˆ«å¿˜äº†åŠ ä¸Š size
            for_each(g.begin(), g.end(), [&](int& val) {val += size;});
            f = move(g);
        }

        return f[0];
    }
};
```

```Java [sol1-Java]
class Solution {
    // x çš„èŒƒå›´ä¸º [0, 2^10)
    static final int MAXX = 1 << 10;
    // æå¤§å€¼ï¼Œä¸ºäº†é˜²æ­¢æ•´æ•°æº¢å‡ºé€‰æ‹© INT_MAX / 2
    static final int INFTY = Integer.MAX_VALUE / 2;

    public int minChanges(int[] nums, int k) {
        int n = nums.length;
        int[] f = new int[MAXX];
        Arrays.fill(f, INFTY);
        // è¾¹ç•Œæ¡ä»¶ f(-1,0)=0
        f[0] = 0;
        
        for (int i = 0; i < k; ++i) {
            // ç¬¬ i ä¸ªç»„çš„å“ˆå¸Œæ˜ å°„
            Map<Integer, Integer> cnt = new HashMap<Integer, Integer>();
            int size = 0;
            for (int j = i; j < n; j += k) {
                cnt.put(nums[j], cnt.getOrDefault(nums[j], 0) + 1);
                ++size;
            }

            // æ±‚å‡º t2
            int t2min = Arrays.stream(f).min().getAsInt();

            int[] g = new int[MAXX];
            Arrays.fill(g, t2min);
            for (int mask = 0; mask < MAXX; ++mask) {
                // t1 åˆ™éœ€è¦æšä¸¾ x æ‰èƒ½æ±‚å‡º
                for (Map.Entry<Integer, Integer> entry : cnt.entrySet()) {
                    int x = entry.getKey(), countx = entry.getValue();
                    g[mask] = Math.min(g[mask], f[mask ^ x] - countx);
                }
            }
            
            // åˆ«å¿˜äº†åŠ ä¸Š size
            for (int j = 0; j < MAXX; ++j) {
                g[j] += size;
            }
            f = g;
        }

        return f[0];
    }
}
```

```C# [sol1-C#]
public class Solution {
    // x çš„èŒƒå›´ä¸º [0, 2^10)
    const int MAXX = 1 << 10;
    // æå¤§å€¼ï¼Œä¸ºäº†é˜²æ­¢æ•´æ•°æº¢å‡ºé€‰æ‹© INT_MAX / 2
    const int INFTY = int.MaxValue / 2;

    public int MinChanges(int[] nums, int k) {
        int n = nums.Length;
        int[] f = new int[MAXX];
        Array.Fill(f, INFTY);
        // è¾¹ç•Œæ¡ä»¶ f(-1,0)=0
        f[0] = 0;
        
        for (int i = 0; i < k; ++i) {
            // ç¬¬ i ä¸ªç»„çš„å“ˆå¸Œæ˜ å°„
            Dictionary<int, int> cnt = new Dictionary<int, int>();
            int size = 0;
            for (int j = i; j < n; j += k) {
                if (!cnt.ContainsKey(nums[j])) {
                    cnt.Add(nums[j], 1);
                } else {
                    ++cnt[nums[j]];
                }
                ++size;
            }

            // æ±‚å‡º t2
            int t2min = f.Min();

            int[] g = new int[MAXX];
            Array.Fill(g, t2min);
            for (int mask = 0; mask < MAXX; ++mask) {
                // t1 åˆ™éœ€è¦æšä¸¾ x æ‰èƒ½æ±‚å‡º
                foreach (var entry in cnt) {
                    int x = entry.Key, countx = entry.Value;
                    g[mask] = Math.Min(g[mask], f[mask ^ x] - countx);
                }
            }
            
            // åˆ«å¿˜äº†åŠ ä¸Š size
            for (int j = 0; j < MAXX; ++j) {
                g[j] += size;
            }
            f = g;
        }

        return f[0];
    }
}
```

```Python [sol1-Python3]
class Solution:
    def minChanges(self, nums: List[int], k: int) -> int:
        # x çš„èŒƒå›´ä¸º [0, 2^10)
        MAXX = 2**10
        
        n = len(nums)
        f = [float("inf")] * MAXX
        # è¾¹ç•Œæ¡ä»¶ f(-1,0)=0
        f[0] = 0
        
        for i in range(k):
            # ç¬¬ i ä¸ªç»„çš„å“ˆå¸Œæ˜ å°„
            count = Counter()
            size = 0
            for j in range(i, n, k):
                count[nums[j]] += 1
                size += 1

            # æ±‚å‡º t2
            t2min = min(f)

            g = [t2min] * MAXX
            for mask in range(MAXX):
                # t1 åˆ™éœ€è¦æšä¸¾ x æ‰èƒ½æ±‚å‡º
                for x, countx in count.items():
                    g[mask] = min(g[mask], f[mask ^ x] - countx)
            
            # åˆ«å¿˜äº†åŠ ä¸Š size
            f = [val + size for val in g]

        return f[0]
```

```JavaScript [sol1-JavaScript]
var minChanges = function(nums, k) {
    // x çš„èŒƒå›´ä¸º [0, 2^10)
    const MAXX = 2**10;

    const n = nums.length;
    let f = new Array(MAXX).fill(Number.MAX_VALUE);
    // è¾¹ç•Œæ¡ä»¶ f(-1,0)=0
    f[0] = 0;

    for (let i = 0; i < k; i++) {
        // ç¬¬ i ä¸ªç»„çš„å“ˆå¸Œæ˜ å°„
        const count = new Map();
        let size = 0;
        for (let j = i; j < n; j += k) {
            count.has(nums[j]) ? count.set(nums[j], count.get(nums[j]) + 1) : count.set(nums[j], 1);
            size++;
        }

        // æ±‚å‡º t2
        const t2min = Math.min(...f);

        const g = new Array(MAXX).fill(t2min);
        for (let mask = 0; mask < MAXX; mask++) {
            // t1 åˆ™éœ€è¦æšä¸¾ x æ‰èƒ½æ±‚å‡º
            for (const [x, countx] of count.entries()) {
                g[mask] = Math.min(g[mask], f[mask ^ x] - countx);
            }
        }

        // åˆ«å¿˜äº†åŠ ä¸Š size
        for (const [index, val] of g.entries()) {
            f[index] = val + size;
        }
    }

    return f[0];
};
```

```go [sol1-Golang]
func minChanges(nums []int, k int) int {
    const maxX = 1 << 10 // x çš„èŒƒå›´ä¸º [0, 2^10)
    const inf = math.MaxInt32 / 2 // æå¤§å€¼ï¼Œä¸ºäº†é˜²æ­¢æ•´æ•°æº¢å‡º

    n := len(nums)
    f := make([]int, maxX)
    for i := range f {
        f[i] = inf
    }
    // è¾¹ç•Œæ¡ä»¶ f(-1,0)=0
    f[0] = 0

    for i := 0; i < k; i++ {
        // ç¬¬ i ä¸ªç»„çš„å“ˆå¸Œæ˜ å°„
        cnt := map[int]int{}
        size := 0
        for j := i; j < n; j += k {
            cnt[nums[j]]++
            size++
        }

        // æ±‚å‡º t2
        t2min := min(f...)

        g := make([]int, maxX)
        for j := range g {
            g[j] = t2min
        }
        for mask := range g {
            // t1 åˆ™éœ€è¦æšä¸¾ x æ‰èƒ½æ±‚å‡º
            for x, cntX := range cnt {
                g[mask] = min(g[mask], f[mask^x]-cntX)
            }
        }

        // åˆ«å¿˜äº†åŠ ä¸Š size
        for j := range g {
            g[j] += size
        }
        f = g
    }

    return f[0]
}

func min(a ...int) int {
    res := a[0]
    for _, v := range a[1:] {
        if v < res {
            res = v
        }
    }
    return res
}
```

```C [sol1-C]
// x çš„èŒƒå›´ä¸º [0, 2^10)
const int MAXX = 1 << 10;
// æå¤§å€¼ï¼Œä¸ºäº†é˜²æ­¢æ•´æ•°æº¢å‡ºé€‰æ‹© INT_MAX / 2
const int INFTY = INT_MAX / 2;

struct HashTable {
    int key, val;
    UT_hash_handle hh;
};

int min_element(int* arr, int arrSize) {
    int ret = arr[0];
    for (int i = 1; i < arrSize; ++i) {
        ret = fmin(ret, arr[i]);
    }
    return ret;
}

int minChanges(int* nums, int numsSize, int k) {
    int f[MAXX];
    for (int i = 0; i < MAXX; ++i) {
        f[i] = INFTY;
    }
    // è¾¹ç•Œæ¡ä»¶ f(-1,0)=0
    f[0] = 0;

    for (int i = 0; i < k; ++i) {
        // ç¬¬ i ä¸ªç»„çš„å“ˆå¸Œæ˜ å°„
        struct HashTable* cnt = NULL;
        int size = 0;
        for (int j = i; j < numsSize; j += k) {
            struct HashTable* tmp;
            HASH_FIND_INT(cnt, &nums[j], tmp);
            if (tmp == NULL) {
                tmp = malloc(sizeof(struct HashTable));
                tmp->key = nums[j];
                tmp->val = 1;
                HASH_ADD_INT(cnt, key, tmp);
            } else {
                tmp->val++;
            }
            ++size;
        }

        // æ±‚å‡º t2
        int t2min = min_element(f, MAXX);

        int g[MAXX];
        for (int i = 0; i < MAXX; ++i) {
            g[i] = t2min;
        }
        for (int mask = 0; mask < MAXX; ++mask) {
            // t1 åˆ™éœ€è¦æšä¸¾ x æ‰èƒ½æ±‚å‡º
            struct HashTable *iter, *tmp;
            HASH_ITER(hh, cnt, iter, tmp) {
                int x = iter->key, countx = iter->val;
                g[mask] = fmin(g[mask], f[mask ^ x] - countx);
            }
        }
        struct HashTable *iter, *tmp;
        HASH_ITER(hh, cnt, iter, tmp) {
            HASH_DEL(cnt, iter);
            free(iter);
        }

        // åˆ«å¿˜äº†åŠ ä¸Š size
        for (int i = 0; i < MAXX; ++i) {
            g[i] += size;
        }
        memcpy(f, g, sizeof(g));
    }

    return f[0];
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(2^Ck + n)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„ $\textit{nums}$ çš„é•¿åº¦ï¼Œ$C$ æ˜¯æ•°ç»„ $\textit{nums}$ ä¸­å…ƒç´ äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€å¤§ä½æ•°ï¼Œåœ¨æœ¬é¢˜ä¸­ $C = 10$ã€‚å¯¹äºæ¯ä¸€ä¸ªç»„ï¼Œæ„é€ å…¶å“ˆå¸Œè¡¨çš„æ—¶é—´ä¸¥æ ¼å°äºåŠ¨æ€è§„åˆ’çš„æ—¶é—´ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(2^C + \dfrac{n}{k})$ã€‚åŠ¨æ€è§„åˆ’éœ€è¦ä¸¤ä¸ªé•¿åº¦ä¸º $2^C$ çš„ä¸€ç»´æ•°ç»„ï¼Œæ¯ä¸€ä¸ªç»„ $i$ å¯¹åº”çš„å“ˆå¸Œè¡¨çš„å¤§å°ä¸º $O(\dfrac{n}{k})$ã€‚