# 2021年05月28日 code
<a href="https://toutiao.io/k/3tudqnj">做一次黑客，入侵一次服务器</a><br /><a href="https://toutiao.io/k/rffhesh">@Autowired 的这些新姿势，你学会了？</a><br /><a href="https://toutiao.io/k/9kxllh2">面阿里 P7，竟问这么简单的题目？</a><br /><a href="https://toutiao.io/k/ralhzed">Java 反射机制：跟着代码学反射</a><br /><a href="https://toutiao.io/k/6jgefa2">Redis 在微服务领域的贡献</a><br /><a href="https://toutiao.io/k/a3b7d7v">蜻蜓FM 信息流推荐探索与实践</a><br /><a href="https://toutiao.io/k/5n7iu13">Go：开箱即用，Web 界面一键安装，没有项目经验，可以拿这个练手</a><br /><a href="https://toutiao.io/k/izdtuy1">Java 容器：基于源码分析 Map 集合体系</a><br /><a href="https://toutiao.io/k/04obda1">设计和分析 Java 动态代理的技术实现</a><br /><a href="https://toutiao.io/k/mbmuynu">用 Go 实现配置中心（二）</a><br /><a href="https://toutiao.io/k/rg1xz9u">资料 | 腾讯出品的，面向开发人员梳理的代码安全指南</a><br /><a href="https://toutiao.io/k/r9eiirl">Go 可用性（六）：熔断</a><br /><a href="https://toutiao.io/k/qd9qw2m">使用 Apache Pulsar + Hudi 构建 Lakehouse 方案了解下？</a><br /><a href="https://toutiao.io/k/2ke8idu">Tomcat 应用服务启不来，没有报错日志？不可能</a><br /><a href="https://toutiao.io/k/q8fwmfa">新编辑神器！可以在终端运行 Jupyter Notebook 了</a><br /><a href="https://toutiao.io/k/s2iot5y">Java 并发：显式锁篇</a><br /><a href="https://toutiao.io/k/nr8muzy">独立开发变现周刊（第 3 期）：100 个 CSS 加载动画</a><br /><a href="https://toutiao.io/k/we7vjgg">安全面试题：为什么 masscan 扫描快？</a><br /><a href="https://toutiao.io/k/nhyvvxd">PwnLnX：一款针对 Linux 系统的渗透测试工具</a><br /><a href="https://toutiao.io/k/e4cu3tb">憋个大招</a><br /><a href="https://toutiao.io/k/jt9e5bq">[推荐] 动图图解！既然 IP 层会分片，为什么 TCP 层也还要分段？</a><br /><a href="https://toutiao.io/k/r3kppel">[推荐] WebRTC 的前世今生</a><br /><a href="https://toutiao.io/k/0hjw87u">[推荐] 日订单量达到 100 万单后，我们做了订单中心重构</a><br /><a href="https://toutiao.io/k/w8wyj2e">[推荐] 消息队列把消息弄丢了怎么办？</a><br /><a href="https://toutiao.io/k/ep5e8sd">[推荐] 亿级系统的 Redis 缓存如何设计？</a><br /><a href="https://toutiao.io/k/5za3e5u">[推荐] Golang 内存管理分析</a><br /><a href="https://toutiao.io/k/wa52n1g">[推荐] 高并发，我把握不住啊</a><br /><a href="https://toutiao.io/k/pws2m3l">[推荐] 微软又一个数据可视化神器开源了！非常酷炫</a><br /><a href="https://toutiao.io/k/9yex08q">[推荐] 我把这个软件，推荐给了总监</a><br /><a href="https://toutiao.io/k/bzx7ri7">[推荐] Spring Boot 开发秘籍：集成参数校验及高阶技巧</a><br /><a href="https://toutiao.io/k/18gz8ap">[推荐] 百亿规模 API 网关服务 Shepherd 的设计与实现</a><br /><a href="https://toutiao.io/k/t1o49fm">[推荐] 企业微信万亿级日志检索系统</a><br /><a href="https://toutiao.io/k/a3frc3i">[推荐] 聊一聊 Linux 的五种 IO 模型</a><br /><a href="https://toutiao.io/k/3byclqk">[推荐] 这个 GitHub 项目能克隆你的声音</a><br /><a href="https://toutiao.io/k/osge9c2">[推荐] 这款远程桌面软件开源了</a><br /><hr /><a href="https://github.com/davidortinau/WeatherTwentyOne"></a><br /><a href="https://github.com/Tencent/secguide">面向开发人员梳理的代码安全指南</a><br /><a href="https://github.com/wuyouzhuguli/SpringAll">循序渐进，学习Spring Boot、Spring Boot & Shiro、Spring Batch、Spring Cloud、Spring Cloud Alibaba、Spring Security & Spring Security OAuth2，博客Spring系列源码：https://mrbird.cc</a><br /><a href="https://github.com/doocs/leetcode">😏 LeetCode solutions in any programming language | 多种编程语言实现 LeetCode、《剑指 Offer（第 2 版）》、《程序员面试金典（第 6 版）》题解</a><br /><a href="https://github.com/airbytehq/airbyte">Airbyte is an open-source EL(T) platform that helps you replicate your data in your warehouses, lakes and databases.</a><br /><a href="https://github.com/alibaba/spring-cloud-alibaba">Spring Cloud Alibaba provides a one-stop solution for application development for the distributed solutions of Alibaba middleware.</a><br /><a href="https://github.com/withfig/autocomplete">Fig adds autocomplete to your terminal.</a><br /><a href="https://github.com/chiraggude/awesome-laravel">A curated list of bookmarks, packages, tutorials, videos and other cool resources from the Laravel ecosystem</a><br /><a href="https://github.com/AMAI-GmbH/AI-Expert-Roadmap">Roadmap to becoming an Artificial Intelligence Expert in 2021</a><br /><a href="https://github.com/bradtraversy/design-resources-for-developers">Curated list of design and UI resources from stock photos, web templates, CSS frameworks, UI libraries, tools and much more</a><br /><a href="https://github.com/microsoft/Web-Dev-For-Beginners">24 Lessons, 12 Weeks, Get Started as a Web Developer</a><br /><a href="https://github.com/appwrite/appwrite">Appwrite is a secure end-to-end backend server for Web, Mobile, and Flutter developers that is packaged as a set of Docker containers for easy deployment 🚀</a><br /><a href="https://github.com/kon9chunkit/GitHub-Chinese-Top-Charts">🇨🇳 GitHub中文排行榜，帮助你发现高分优秀中文项目、更高效地吸收国人的优秀经验成果；榜单每周更新一次，敬请关注！</a><br /><a href="https://github.com/login?return_to=%2FEbookFoundation%2Ffree-programming-books">📚 Freely available programming books</a><br /><a href="https://github.com/inoyna11/jd28"></a><br /><a href="https://github.com/portainer/portainer">Making Docker and Kubernetes management easy.</a><br /><a href="https://github.com/MicrosoftDocs/azure-docs">Open source documentation of Microsoft Azure</a><br /><a href="https://github.com/dogecoin/dogecoin">very currency</a><br /><a href="https://github.com/straightblast/My-PoC-Exploits">PoC exploits I wrote. They're as is and I will not offer support</a><br /><a href="https://github.com/login?return_to=%2Fbee-san%2FpyWhat">🐸 Identify anything. pyWhat easily lets you identify emails, IP addresses, and more. Feed it a .pcap file or some text and it'll tell you what it is! 🧙‍♀️</a><br /><a href="https://github.com/Shabinder/SpotiFlyer">Kotlin Multiplatform Music Downloader, Supports Spotify / Gaana / Youtube Music .</a><br /><a href="https://github.com/microsoft/winget-pkgs">The Microsoft community Windows Package Manager manifest repository</a><br /><a href="https://github.com/tuvtran/project-based-learning">Curated list of project-based tutorials</a><br /><a href="https://github.com/cdr/code-server">VS Code in the browser</a><br /><a href="https://github.com/gentilkiwi/mimikatz">A little tool to play with Windows security</a><br /><hr />汉明距离总和<br /><p>两个整数的&nbsp;<a href="https://baike.baidu.com/item/%E6%B1%89%E6%98%8E%E8%B7%9D%E7%A6%BB/475174?fr=aladdin">汉明距离</a> 指的是这两个数字的二进制数对应位不同的数量。</p>

<p>计算一个数组中，任意两个数之间汉明距离的总和。</p>

<p><strong>示例:</strong></p>

<pre>
<strong>输入:</strong> 4, 14, 2

<strong>输出:</strong> 6

<strong>解释:</strong> 在二进制表示中，4表示为0100，14表示为1110，2表示为0010。（这样表示是为了体现后四位之间关系）
所以答案为：
HammingDistance(4, 14) + HammingDistance(4, 2) + HammingDistance(14, 2) = 2 + 2 + 2 = 6.
</pre>

<p><strong>注意:</strong></p>

<ol>
	<li>数组中元素的范围为从&nbsp;<code>0</code>到&nbsp;<code>10^9</code>。</li>
	<li>数组的长度不超过&nbsp;<code>10^4</code>。</li>
</ol>
<br />#### 方法一：逐位统计

在计算汉明距离时，我们考虑的是同一比特位上的值是否不同，而不同比特位之间是互不影响的。

对于数组 $\textit{nums}$ 中的某个元素 $\textit{val}$，若其二进制的第 $i$ 位为 $1$，我们只需统计 $\textit{nums}$ 中有多少元素的第 $i$ 位为 $0$，即计算出了 $\textit{val}$ 与其他元素在第 $i$ 位上的汉明距离之和。

具体地，若长度为 $n$ 的数组 $\textit{nums}$ 的所有元素二进制的第 $i$ 位共有 $c$ 个 $1$，$n-c$ 个 $0$，则些元素在二进制的第 $i$ 位上的汉明距离之和为

$$
c\cdot(n-c)
$$

我们可以从二进制的最低位到最高位，逐位统计汉明距离。将每一位上得到的汉明距离累加即为答案。

具体实现时，对于整数 $\textit{val}$ 二进制的第 $i$ 位，我们可以用代码 `(val >> i) & 1` 来取出其第 $i$ 位的值。此外，由于 $10^9<2^{30}$，我们可以直接从二进制的第 $0$ 位枚举到第 $29$ 位。

```C++ [sol1-C++]
class Solution {
public:
    int totalHammingDistance(vector<int> &nums) {
        int ans = 0, n = nums.size();
        for (int i = 0; i < 30; ++i) {
            int c = 0;
            for (int val : nums) {
                c += (val >> i) & 1;
            }
            ans += c * (n - c);
        }
        return ans;
    }
};
```

```Java [sol1-Java]
class Solution {
    public int totalHammingDistance(int[] nums) {
        int ans = 0, n = nums.length;
        for (int i = 0; i < 30; ++i) {
            int c = 0;
            for (int val : nums) {
                c += (val >> i) & 1;
            }
            ans += c * (n - c);
        }
        return ans;
    }
}
```

```C# [sol1-C#]
public class Solution {
    public int TotalHammingDistance(int[] nums) {
        int ans = 0, n = nums.Length;
        for (int i = 0; i < 30; ++i) {
            int c = 0;
            foreach (int val in nums) {
                c += (val >> i) & 1;
            }
            ans += c * (n - c);
        }
        return ans;
    }
}
```

```go [sol1-Golang]
func totalHammingDistance(nums []int) (ans int) {
    n := len(nums)
    for i := 0; i < 30; i++ {
        c := 0
        for _, val := range nums {
            c += val >> i & 1
        }
        ans += c * (n - c)
    }
    return
}
```

```Python [sol1-Python3]
class Solution:
    def totalHammingDistance(self, nums: List[int]) -> int:
        n = len(nums)
        ans = 0
        for i in range(30):
            c = sum(((val >> i) & 1) for val in nums)
            ans += c * (n - c)
        return ans
```

```C [sol1-C]
int totalHammingDistance(int* nums, int numsSize) {
    int ans = 0;
    for (int i = 0; i < 30; ++i) {
        int c = 0;
        for (int j = 0; j < numsSize; ++j) {
            c += (nums[j] >> i) & 1;
        }
        ans += c * (numsSize - c);
    }
    return ans;
}
```

```JavaScript [sol1-JavaScript]
var totalHammingDistance = function(nums) {
    let ans = 0, n = nums.length;
    for (let i = 0; i < 30; ++i) {
        let c = 0;
        for (const val of nums) {
            c += (val >> i) & 1;
        }
        ans += c * (n - c);
    }
    return ans;
};
```

**复杂度分析**

- 时间复杂度：$O(n\cdot L)$。其中 $n$ 是数组 $\textit{nums}$ 的长度，$L=30$。

- 空间复杂度：$O(1)$。

---
## ✨扣友帮帮团 - 互动答疑

[![讨论.jpg](https://pic.leetcode-cn.com/1621178600-MKHFrl-%E8%AE%A8%E8%AE%BA.jpg){:width=260px}](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)


即日起 - 5 月 30 日，点击 [这里](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/) 前往「[扣友帮帮团](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)」活动页，把你遇到的问题大胆地提出来，让扣友为你解答～

### 🎁 奖励规则
被采纳数量排名 1～3 名：「力扣极客套装」 *1 并将获得「力扣神秘应援团」内测资格
被采纳数量排名 4～10 名：「力扣鼠标垫」 *1 并将获得「力扣神秘应援团」内测资格
「诲人不倦」：活动期间「解惑者」只要有 1 个回答被采纳，即可获得 20 LeetCoins 奖励！
「求知若渴」：活动期间「求知者」在活动页发起一次符合要求的疑问帖并至少采纳一次「解惑者」的回答，即可获得 20 LeetCoins 奖励！

活动详情猛戳链接了解更多：[🐞 你有 BUG 我来帮 - 力扣互动答疑季](https://leetcode-cn.com/circle/discuss/xtliW6/)