# 2021年05月30日 code
<a href="https://toutiao.io/k/vpwl7ir">开发团队如何选型支付网关</a><br /><a href="https://toutiao.io/k/sorcj5w">深入源码，深度解析 Java 线程池的实现原理</a><br /><a href="https://toutiao.io/k/hfpeg25">Go 可用性（七）：总结</a><br /><a href="https://toutiao.io/k/lrypigs">BPF 之巅：洞悉 Linux 系统和应用性能</a><br /><a href="https://toutiao.io/k/xkfsqsz">一网打尽 HDFS、MapReduce、Yarn 实战参数调优</a><br /><a href="https://toutiao.io/k/5rsuqjy">我这样升级 Go 版本，你呢？</a><br /><a href="https://toutiao.io/k/nz6onir">玩转微信读书</a><br /><a href="https://toutiao.io/k/5kl2svw">mybatis-sql 输出小插曲</a><br /><a href="https://toutiao.io/k/vwedj5c">[译] Google I/O 2021，Flutter 2.2 中的新功能一览</a><br /><a href="https://toutiao.io/k/zo9g6il">搞个大点的，某团购 App mtgsig</a><br /><a href="https://toutiao.io/k/jt9e5bq">[推荐] 动图图解！既然 IP 层会分片，为什么 TCP 层也还要分段？</a><br /><a href="https://toutiao.io/k/wa52n1g">[推荐] 高并发，我把握不住啊</a><br /><a href="https://toutiao.io/k/r3kppel">[推荐] WebRTC 的前世今生</a><br /><a href="https://toutiao.io/k/5u1byn9">[推荐] 各厂三年 Go 面经，已入字节</a><br /><a href="https://toutiao.io/k/a3frc3i">[推荐] 聊一聊 Linux 的五种 IO 模型</a><br /><a href="https://toutiao.io/k/lq1k5bp">[推荐] [译] 您不想错过的 IntelliJ IDEA 十大插件</a><br /><a href="https://toutiao.io/k/ep5e8sd">[推荐] 亿级系统的 Redis 缓存如何设计？</a><br /><a href="https://toutiao.io/k/5za3e5u">[推荐] Golang 内存管理分析</a><br /><a href="https://toutiao.io/k/0hjw87u">[推荐] 日订单量达到 100 万单后，我们做了订单中心重构</a><br /><a href="https://toutiao.io/k/bzx7ri7">[推荐] Spring Boot 开发秘籍：集成参数校验及高阶技巧</a><br /><a href="https://toutiao.io/k/osge9c2">[推荐] 这款远程桌面软件开源了</a><br /><a href="https://toutiao.io/k/18gz8ap">[推荐] 百亿规模 API 网关服务 Shepherd 的设计与实现</a><br /><a href="https://toutiao.io/k/ngx4og0">[推荐] “三次握手，四次挥手” 这么讲，保证你忘不了</a><br /><a href="https://toutiao.io/k/t1o49fm">[推荐] 企业微信万亿级日志检索系统</a><br /><a href="https://toutiao.io/k/pws2m3l">[推荐] 微软又一个数据可视化神器开源了！非常酷炫</a><br /><hr /><a href="https://github.com/login?return_to=%2Fnocodb%2Fnocodb">🔥 🔥 The Open Source Airtable alternative</a><br /><a href="https://github.com/jwasham/coding-interview-university">A complete computer science study plan to become a software engineer.</a><br /><a href="https://github.com/Tencent/secguide">面向开发人员梳理的代码安全指南</a><br /><a href="https://github.com/login?return_to=%2FEbookFoundation%2Ffree-programming-books">📚 Freely available programming books</a><br /><a href="https://github.com/ossu/computer-science">🎓 Path to a free self-taught education in Computer Science!</a><br /><a href="https://github.com/kon9chunkit/GitHub-Chinese-Top-Charts">🇨🇳 GitHub中文排行榜，帮助你发现高分优秀中文项目、更高效地吸收国人的优秀经验成果；榜单每周更新一次，敬请关注！</a><br /><a href="https://github.com/CodingGay/BlackDex">BlackDex is an Android unpack tool, it supports Android 5.0~12 and need not rely to any environment. BlackDex can run on any Android mobile phones or emulators, you can unpack APK File in several seconds.</a><br /><a href="https://github.com/laxyapahuja/bunken">A chrome extension to download ebooks directly from Goodreads.</a><br /><a href="https://github.com/doocs/leetcode">😏 LeetCode solutions in any programming language | 多种编程语言实现 LeetCode、《剑指 Offer（第 2 版）》、《程序员面试金典（第 6 版）》题解</a><br /><a href="https://github.com/davidortinau/WeatherTwentyOne"></a><br /><a href="https://github.com/login?return_to=%2Fbee-san%2FpyWhat">🐸 Identify anything. pyWhat easily lets you identify emails, IP addresses, and more. Feed it a .pcap file or some text and it'll tell you what it is! 🧙‍♀️</a><br /><a href="https://github.com/netdata/netdata">Real-time performance monitoring, done right! https://www.netdata.cloud</a><br /><a href="https://github.com/dk-liang/Awesome-Visual-Transformer">Collect some papers about transformer with vision. Awesome Transformer with Computer Vision (CV)</a><br /><a href="https://github.com/typescript-cheatsheets/react">Cheatsheets for experienced React developers getting started with TypeScript</a><br /><a href="https://github.com/gentilkiwi/mimikatz">A little tool to play with Windows security</a><br /><a href="https://github.com/wuyouzhuguli/SpringAll">循序渐进，学习Spring Boot、Spring Boot & Shiro、Spring Batch、Spring Cloud、Spring Cloud Alibaba、Spring Security & Spring Security OAuth2，博客Spring系列源码：https://mrbird.cc</a><br /><a href="https://github.com/airbytehq/airbyte">Airbyte is an open-source EL(T) platform that helps you replicate your data in your warehouses, lakes and databases.</a><br /><a href="https://github.com/SerenityOS/serenity">The Serenity Operating System 🐞</a><br /><a href="https://github.com/inoyna11/jd28"></a><br /><a href="https://github.com/login?return_to=%2Fgiswqs%2Fleafmap">A Python package for geospatial analysis and interactive mapping with minimal coding in a Jupyter environment</a><br /><a href="https://github.com/microsoft/terminal">The new Windows Terminal and the original Windows console host, all in the same place!</a><br /><a href="https://github.com/pluja/awesome-privacy">Awesome Privacy - A curated list of services and alternatives that respect your privacy because PRIVACY MATTERS.</a><br /><a href="https://github.com/slidevjs/slidev">Presentation Slides for Developers (Beta)</a><br /><a href="https://github.com/openspug/spug">开源运维平台：面向中小型企业设计的轻量级无Agent的自动化运维平台，整合了主机管理、主机批量执行、主机在线终端、文件在线上传下载、应用发布部署、在线任务计划、配置中心、监控、报警等一系列功能。</a><br /><a href="https://github.com/hua1995116/react-resume-site">木及简历|一款用 `Markdown`就能写出好看简历(resume)的在线工具。</a><br /><hr />2 的幂<br /><p>给你一个整数 <code>n</code>，请你判断该整数是否是 2 的幂次方。如果是，返回 <code>true</code> ；否则，返回 <code>false</code> 。</p>

<p>如果存在一个整数 <code>x</code> 使得 <code>n == 2<sup>x</sup></code> ，则认为 <code>n</code> 是 2 的幂次方。</p>

<p> </p>

<p><strong>示例 1：</strong></p>

<pre>
<strong>输入：</strong>n = 1
<strong>输出：</strong>true
<strong>解释：</strong>2<sup>0</sup> = 1
</pre>

<p><strong>示例 2：</strong></p>

<pre>
<strong>输入：</strong>n = 16
<strong>输出：</strong>true
<strong>解释：</strong>2<sup>4</sup> = 16
</pre>

<p><strong>示例 3：</strong></p>

<pre>
<strong>输入：</strong>n = 3
<strong>输出：</strong>false
</pre>

<p><strong>示例 4：</strong></p>

<pre>
<strong>输入：</strong>n = 4
<strong>输出：</strong>true
</pre>

<p><strong>示例 5：</strong></p>

<pre>
<strong>输入：</strong>n = 5
<strong>输出：</strong>false
</pre>

<p> </p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>-2<sup>31</sup> <= n <= 2<sup>31</sup> - 1</code></li>
</ul>

<p> </p>

<p><strong>进阶：</strong>你能够不使用循环/递归解决此问题吗？</p>
<br />#### 方法一：二进制表示

**思路与算法**

一个数 $n$ 是 $2$ 的幂，当且仅当 $n$ 是正整数，并且 $n$ 的二进制表示中仅包含 $1$ 个 $1$。

因此我们可以考虑使用位运算，将 $n$ 的二进制表示中最低位的那个 $1$ 提取出来，再判断剩余的数值是否为 $0$ 即可。下面介绍两种常见的与「二进制表示中最低位」相关的位运算技巧。

第一个技巧是

$$
\texttt{n \& (n - 1)}
$$

其中 $\texttt{\&}$ 表示按位与运算。该位运算技巧可以直接将 $n$ 二进制表示的最低位 $1$ 移除，它的原理如下：

> 假设 $n$ 的二进制表示为 $(a 10\cdots 0)_2$，其中 $a$ 表示若干个高位，$1$ 表示最低位的那个 $1$，$0\cdots 0$ 表示后面的若干个 $0$，那么 $n-1$ 的二进制表示为：
>
> $$
> (a 01\cdots1)_2
> $$
>
> 我们将 $(a 10\cdots 0)_2$ 与 $(a 01\cdots1)_2$ 进行按位与运算，高位 $a$ 不变，在这之后的所有位都会变为 $0$，这样我们就将最低位的那个 $1$ 移除了。

因此，如果 $n$ 是正整数并且 $\texttt{n \& (n - 1) = 0}$，那么 $n$ 就是 $2$ 的幂。

第二个技巧是

$$
\texttt{n \& (-n)}
$$

其中 $-n$ 是 $n$ 的相反数，是一个负数。该位运算技巧可以直接获取 $n$ 二进制表示的最低位的 $1$。

由于负数是按照补码规则在计算机中存储的，$-n$ 的二进制表示为 $n$ 的二进制表示的每一位取反再加上 $1$，因此它的原理如下：

> 假设 $n$ 的二进制表示为 $(a 10\cdots 0)_2$，其中 $a$ 表示若干个高位，$1$ 表示最低位的那个 $1$，$0\cdots 0$ 表示后面的若干个 $0$，那么 $-n$ 的二进制表示为：
>
> $$
> (\bar{a} 01\cdots1)_2 + (1)_2 = (\bar{a} 10\cdots0)_2
> $$
>
> 其中 $\bar{a}$ 表示将 $a$ 每一位取反。我们将 $(a 10\cdots 0)_2$ 与 $(\bar{a} 10\cdots0)_2$ 进行按位与运算，高位全部变为 $0$，最低位的 $1$ 以及之后的所有 $0$ 不变，这样我们就获取了 $n$ 二进制表示的最低位的 $1$。

因此，如果 $n$ 是正整数并且 $\texttt{n \& (-n) = n}$，那么 $n$ 就是 $2$ 的幂。

**代码**

下面分别给出两种位运算技巧对应的代码。
**在一些语言中，位运算的优先级较低，需要注意运算顺序**。

```C++ [sol11-C++]
class Solution {
public:
    bool isPowerOfTwo(int n) {
        return n > 0 && (n & (n - 1)) == 0;
    }
};
```

```Java [sol11-Java]
class Solution {
    public boolean isPowerOfTwo(int n) {
        return n > 0 && (n & (n - 1)) == 0;
    }
}
```

```C# [sol11-C#]
public class Solution {
    public bool IsPowerOfTwo(int n) {
        return n > 0 && (n & (n - 1)) == 0;
    }
}
```

```Python [sol11-Python3]
class Solution:
    def isPowerOfTwo(self, n: int) -> bool:
        return n > 0 and (n & (n - 1)) == 0
```

```JavaScript [sol11-JavaScript]
var isPowerOfTwo = function(n) {
    return n > 0 && (n & (n - 1)) === 0;
};
```

```go [sol11-Golang]
func isPowerOfTwo(n int) bool {
    return n > 0 && n&(n-1) == 0
}
```

```C [sol11-C]
bool isPowerOfTwo(int n) {
    return n > 0 && (n & (n - 1)) == 0;
}
```

```C++ [sol12-C++]
class Solution {
public:
    bool isPowerOfTwo(int n) {
        return n > 0 && (n & -n) == n;
    }
};
```

```Java [sol12-Java]
class Solution {
    public boolean isPowerOfTwo(int n) {
        return n > 0 && (n & -n) == n;
    }
}
```

```C# [sol12-C#]
public class Solution {
    public bool IsPowerOfTwo(int n) {
        return n > 0 && (n & -n) == n;
    }
}
```

```Python [sol12-Python3]
class Solution:
    def isPowerOfTwo(self, n: int) -> bool:
        return n > 0 and (n & -n) == n
```

```JavaScript [sol12-JavaScript]
var isPowerOfTwo = function(n) {
    return n > 0 && (n & -n) === n;
};
```

```go [sol12-Golang]
func isPowerOfTwo(n int) bool {
    return n > 0 && n&-n == n
}
```

```C [sol12-C]
bool isPowerOfTwo(int n) {
    return n > 0 && (n & -n) == n;
}
```

**复杂度分析**

- 时间复杂度：$O(1)$。

- 空间复杂度：$O(1)$。

#### 方法二：判断是否为最大 $2$ 的幂的约数

**思路与算法**

除了使用二进制表示判断之外，还有一种较为取巧的做法。

在题目给定的 $32$ 位有符号整数的范围内，最大的 $2$ 的幂为 $2^{30} = 1073741824$。我们只需要判断 $n$ 是否是 $2^{30}$ 的约数即可。

**代码**

```C++ [sol2-C++]
class Solution {
private:
    static constexpr int BIG = 1 << 30;

public:
    bool isPowerOfTwo(int n) {
        return n > 0 && BIG % n == 0;
    }
};
```

```Java [sol2-Java]
class Solution {
    static final int BIG = 1 << 30;

    public boolean isPowerOfTwo(int n) {
        return n > 0 && BIG % n == 0;
    }
}
```

```C# [sol2-C#]
public class Solution {
    const int BIG = 1 << 30;

    public bool IsPowerOfTwo(int n) {
        return n > 0 && BIG % n == 0;
    }
}
```

```Python [sol2-Python3]
class Solution:

    BIG = 2**30

    def isPowerOfTwo(self, n: int) -> bool:
        return n > 0 and Solution.BIG % n == 0
```

```JavaScript [sol2-JavaScript]
var isPowerOfTwo = function(n) {
    const BIG = 1 << 30;
    return n > 0 && BIG % n === 0;
};
```

```go [sol2-Golang]
func isPowerOfTwo(n int) bool {
    const big = 1 << 30
    return n > 0 && big%n == 0
}
```

```C [sol2-C]
const int BIG = 1 << 30;

bool isPowerOfTwo(int n) {
    return n > 0 && BIG % n == 0;
}
```

**复杂度分析**

- 时间复杂度：$O(1)$。

- 空间复杂度：$O(1)$。

---
## ✨扣友帮帮团 - 互动答疑

[![讨论.jpg](https://pic.leetcode-cn.com/1621178600-MKHFrl-%E8%AE%A8%E8%AE%BA.jpg){:width=260px}](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)


即日起 - 5 月 30 日，点击 [这里](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/) 前往「[扣友帮帮团](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)」活动页，把你遇到的问题大胆地提出来，让扣友为你解答～

### 🎁 奖励规则
被采纳数量排名 1～3 名：「力扣极客套装」 *1 并将获得「力扣神秘应援团」内测资格
被采纳数量排名 4～10 名：「力扣鼠标垫」 *1 并将获得「力扣神秘应援团」内测资格
「诲人不倦」：活动期间「解惑者」只要有 1 个回答被采纳，即可获得 20 LeetCoins 奖励！
「求知若渴」：活动期间「求知者」在活动页发起一次符合要求的疑问帖并至少采纳一次「解惑者」的回答，即可获得 20 LeetCoins 奖励！

活动详情猛戳链接了解更多：[🐞 你有 BUG 我来帮 - 力扣互动答疑季](https://leetcode-cn.com/circle/discuss/xtliW6/)