# 2021å¹´05æœˆ29æ—¥ code
<a href="https://toutiao.io/k/s8xgae9">æŒé—¨ MySQL æ•°æ®åº“è§„çº¦è½åœ°åŠä¼˜åŒ–å®æˆ˜</a><br /><a href="https://toutiao.io/k/p77raxg">è¿™å¯èƒ½æ˜¯æœ€å®¹æ˜“ç†è§£çš„ Go Mutex æºç å‰–æ</a><br /><a href="https://toutiao.io/k/cs2cbes">è¿›ç¨‹ã€çº¿ç¨‹ä¸åç¨‹å‚»å‚»åˆ†ä¸æ¸…ï¼Ÿä¸€æ–‡å¸¦ä½ åƒé€</a><br /><a href="https://toutiao.io/k/q8zmevp">é«˜æ€§èƒ½ä¸‡äº¿çº§æ¶ˆæ¯åå Pulsar è®¾è®¡åŸç†</a><br /><a href="https://toutiao.io/k/ybiw04u">é«˜å¹¶å‘ã€é«˜æ€§èƒ½ã€é«˜å¯ç”¨ç³»ç»Ÿè®¾è®¡ç»éªŒ</a><br /><a href="https://toutiao.io/k/mbmdjm5">åœ¨ React Native ä¸Šä½¿ç”¨ Agora å¼€å‘å¤šé¢‘é“éŸ³è§†é¢‘åº”ç”¨</a><br /><a href="https://toutiao.io/k/ijogl07">Java å¹¶å‘ç¼–ç¨‹ä¸“é¢˜ç³»åˆ—ä¹‹ä»åº•å±‚åˆ†æ LockSupport åŸç†æœºåˆ¶</a><br /><a href="https://toutiao.io/k/9lt21j7">Mesh å¤§è§„æ¨¡è½åœ°åï¼Œä¸‹ä¸€ç«™æ˜¯ï¼Ÿ</a><br /><a href="https://toutiao.io/k/dei0ihq">.NET ç¨‹åºå´©æºƒäº†æ€ä¹ˆæŠ“ Dump ? æˆ‘æ€»ç»“äº†ä¸‰ç§æ–¹æ¡ˆ</a><br /><a href="https://toutiao.io/k/nf6f6dy">ä¸‡å­—æ”»ç•¥ï¼šè¿…é€Ÿè¹¿çº¢çš„æ•°æ®æ¹–ï¼Œä½ çœŸçš„æ‹›æ¶å¾—ä½å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/o9lpsd5">åˆåµèµ·æ¥äº†ï¼ŒGo æ˜¯ä¼ å€¼è¿˜æ˜¯ä¼ å¼•ç”¨ï¼Ÿ</a><br /><a href="https://toutiao.io/k/d6ibczk">åŸºäº Web å¼•æ“æ‰©å±•æŠ€æœ¯çš„ RTC æ··åˆå¼€å‘æ¡†æ¶å®è·µ</a><br /><a href="https://toutiao.io/k/04iwr1c">AI å…¥è¡Œé‚£äº›äº‹å„¿ï¼ˆåä¸‰ï¼‰ï¼šäººå·¥æ™ºèƒ½çš„ä¸‰ç±»æŠ€æœ¯å²—ä½</a><br /><a href="https://toutiao.io/k/2buvyqq">ä» Netflix åˆ° Alibabaï¼ŒSpring Cloud æ›´å¥½äº†å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/55bjfc7">Flink jmã€tm å¯åŠ¨è¿‡ç¨‹å’Œèµ„æºåˆ†é…</a><br /><a href="https://toutiao.io/k/9sp3u68">[è¯‘] Android éšç§å®‰å…¨æ›´æ–°ä¸€è§ˆ</a><br /><a href="https://toutiao.io/k/wp0paz6">AES ç®—æ³•ï¼ˆä¸€ï¼‰ï¼šç®€ä»‹</a><br /><a href="https://toutiao.io/k/ghjdkxr">äº†ä¸èµ·çš„ Chrome æµè§ˆå™¨ï¼ˆä¸‰ï¼‰ï¼šChrome 91 æ”¯æŒ WebAssembly SIMDï¼ŒåŠ é€Ÿ Web åœ¨ AI ç­‰é¢†åŸŸçš„åº”ç”¨</a><br /><a href="https://toutiao.io/k/ni0zzo7">æ¼«ç”»ï¼šé‚£äº›å¯¹ç¨‹åºå‘˜æ¥è¯´ä¼¤å®³æ€§ä¸é«˜ä½†æ˜¯ä¾®è¾±æ€§æå¼ºçš„ç¬é—´</a><br /><a href="https://toutiao.io/k/ny44udc">æ­£ç»åˆ†æ iOS åŒ…å¤§å°ä¼˜åŒ–</a><br /><a href="https://toutiao.io/k/5u1byn9">[æ¨è] å„å‚ä¸‰å¹´ Go é¢ç»ï¼Œå·²å…¥å­—èŠ‚</a><br /><a href="https://toutiao.io/k/0hjw87u">[æ¨è] æ—¥è®¢å•é‡è¾¾åˆ° 100 ä¸‡å•åï¼Œæˆ‘ä»¬åšäº†è®¢å•ä¸­å¿ƒé‡æ„</a><br /><a href="https://toutiao.io/k/pws2m3l">[æ¨è] å¾®è½¯åˆä¸€ä¸ªæ•°æ®å¯è§†åŒ–ç¥å™¨å¼€æºäº†ï¼éå¸¸é…·ç‚«</a><br /><a href="https://toutiao.io/k/wa52n1g">[æ¨è] é«˜å¹¶å‘ï¼Œæˆ‘æŠŠæ¡ä¸ä½å•Š</a><br /><a href="https://toutiao.io/k/18gz8ap">[æ¨è] ç™¾äº¿è§„æ¨¡ API ç½‘å…³æœåŠ¡ Shepherd çš„è®¾è®¡ä¸å®ç°</a><br /><a href="https://toutiao.io/k/a3frc3i">[æ¨è] èŠä¸€èŠ Linux çš„äº”ç§ IO æ¨¡å‹</a><br /><a href="https://toutiao.io/k/9yex08q">[æ¨è] æˆ‘æŠŠè¿™ä¸ªè½¯ä»¶ï¼Œæ¨èç»™äº†æ€»ç›‘</a><br /><a href="https://toutiao.io/k/5za3e5u">[æ¨è] Golang å†…å­˜ç®¡ç†åˆ†æ</a><br /><a href="https://toutiao.io/k/ep5e8sd">[æ¨è] äº¿çº§ç³»ç»Ÿçš„ Redis ç¼“å­˜å¦‚ä½•è®¾è®¡ï¼Ÿ</a><br /><a href="https://toutiao.io/k/ngx4og0">[æ¨è] â€œä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹â€ è¿™ä¹ˆè®²ï¼Œä¿è¯ä½ å¿˜ä¸äº†</a><br /><a href="https://toutiao.io/k/osge9c2">[æ¨è] è¿™æ¬¾è¿œç¨‹æ¡Œé¢è½¯ä»¶å¼€æºäº†</a><br /><a href="https://toutiao.io/k/jt9e5bq">[æ¨è] åŠ¨å›¾å›¾è§£ï¼æ—¢ç„¶ IP å±‚ä¼šåˆ†ç‰‡ï¼Œä¸ºä»€ä¹ˆ TCP å±‚ä¹Ÿè¿˜è¦åˆ†æ®µï¼Ÿ</a><br /><a href="https://toutiao.io/k/t1o49fm">[æ¨è] ä¼ä¸šå¾®ä¿¡ä¸‡äº¿çº§æ—¥å¿—æ£€ç´¢ç³»ç»Ÿ</a><br /><a href="https://toutiao.io/k/r3kppel">[æ¨è] WebRTC çš„å‰ä¸–ä»Šç”Ÿ</a><br /><a href="https://toutiao.io/k/bzx7ri7">[æ¨è] Spring Boot å¼€å‘ç§˜ç±ï¼šé›†æˆå‚æ•°æ ¡éªŒåŠé«˜é˜¶æŠ€å·§</a><br /><hr /><a href="https://github.com/jwasham/coding-interview-university">A complete computer science study plan to become a software engineer.</a><br /><a href="https://github.com/wuyouzhuguli/SpringAll">å¾ªåºæ¸è¿›ï¼Œå­¦ä¹ Spring Bootã€Spring Boot & Shiroã€Spring Batchã€Spring Cloudã€Spring Cloud Alibabaã€Spring Security & Spring Security OAuth2ï¼Œåšå®¢Springç³»åˆ—æºç ï¼šhttps://mrbird.cc</a><br /><a href="https://github.com/inoyna11/jd28"></a><br /><a href="https://github.com/discordjs/discord.js">A powerful JavaScript library for interacting with the Discord API</a><br /><a href="https://github.com/microsoft/winget-pkgs">The Microsoft community Windows Package Manager manifest repository</a><br /><a href="https://github.com/kon9chunkit/GitHub-Chinese-Top-Charts">ğŸ‡¨ğŸ‡³ GitHubä¸­æ–‡æ’è¡Œæ¦œï¼Œå¸®åŠ©ä½ å‘ç°é«˜åˆ†ä¼˜ç§€ä¸­æ–‡é¡¹ç›®ã€æ›´é«˜æ•ˆåœ°å¸æ”¶å›½äººçš„ä¼˜ç§€ç»éªŒæˆæœï¼›æ¦œå•æ¯å‘¨æ›´æ–°ä¸€æ¬¡ï¼Œæ•¬è¯·å…³æ³¨ï¼</a><br /><a href="https://github.com/pluja/awesome-privacy">Awesome Privacy - A curated list of services and alternatives that respect your privacy because PRIVACY MATTERS.</a><br /><a href="https://github.com/microsoft/Web-Dev-For-Beginners">24 Lessons, 12 Weeks, Get Started as a Web Developer</a><br /><a href="https://github.com/CodingGay/BlackDex">BlackDex is an Android unpack tool, it supports Android 5.0~12 and need not rely to any environment. BlackDex can run on any Android mobile phones or emulators, you can unpack APK File in several seconds.</a><br /><a href="https://github.com/ascoders/weekly">å‰ç«¯ç²¾è¯»å‘¨åˆŠã€‚å¸®ä½ ç†è§£æœ€å‰æ²¿ã€å®ç”¨çš„æŠ€æœ¯ã€‚</a><br /><a href="https://github.com/doocs/leetcode">ğŸ˜ LeetCode solutions in any programming language | å¤šç§ç¼–ç¨‹è¯­è¨€å®ç° LeetCodeã€ã€Šå‰‘æŒ‡ Offerï¼ˆç¬¬ 2 ç‰ˆï¼‰ã€‹ã€ã€Šç¨‹åºå‘˜é¢è¯•é‡‘å…¸ï¼ˆç¬¬ 6 ç‰ˆï¼‰ã€‹é¢˜è§£</a><br /><a href="https://github.com/login?return_to=%2Fbee-san%2FpyWhat">ğŸ¸ Identify anything. pyWhat easily lets you identify emails, IP addresses, and more. Feed it a .pcap file or some text and it'll tell you what it is! ğŸ§™â€â™€ï¸</a><br /><a href="https://github.com/Tencent/secguide">é¢å‘å¼€å‘äººå‘˜æ¢³ç†çš„ä»£ç å®‰å…¨æŒ‡å—</a><br /><a href="https://github.com/imarvinle/awesome-cs-books">ç»å…¸ç¼–ç¨‹ä¹¦ç±å¤§å…¨ï¼Œæ¶µç›–ï¼šè®¡ç®—æœºç³»ç»Ÿä¸ç½‘ç»œã€ç³»ç»Ÿæ¶æ„ã€ç®—æ³•ä¸æ•°æ®ç»“æ„ã€å‰ç«¯å¼€å‘ã€åç«¯å¼€å‘ã€ç§»åŠ¨å¼€å‘ã€æ•°æ®åº“ã€æµ‹è¯•ã€é¡¹ç›®ä¸å›¢é˜Ÿã€ç¨‹åºå‘˜èŒä¸šä¿®ç‚¼ã€æ±‚èŒé¢è¯•ç­‰</a><br /><a href="https://github.com/saadeghi/daisyui">â­ï¸ â­ï¸ â­ï¸ â­ï¸ â­ï¸ â€ƒTailwind Components</a><br /><a href="https://github.com/ossu/computer-science">ğŸ“ Path to a free self-taught education in Computer Science!</a><br /><a href="https://github.com/AMAI-GmbH/AI-Expert-Roadmap">Roadmap to becoming an Artificial Intelligence Expert in 2021</a><br /><a href="https://github.com/microsoft/winget-cli">Windows Package Manager CLI (aka winget)</a><br /><a href="https://github.com/login?return_to=%2FEbookFoundation%2Ffree-programming-books">ğŸ“š Freely available programming books</a><br /><a href="https://github.com/davidortinau/WeatherTwentyOne"></a><br /><a href="https://github.com/wilsonfreitas/awesome-quant">A curated list of insanely awesome libraries, packages and resources for Quants (Quantitative Finance)</a><br /><a href="https://github.com/login?return_to=%2Fgiswqs%2Fleafmap">A Python package for geospatial analysis and interactive mapping with minimal coding in a Jupyter environment</a><br /><a href="https://github.com/bradtraversy/design-resources-for-developers">Curated list of design and UI resources from stock photos, web templates, CSS frameworks, UI libraries, tools and much more</a><br /><a href="https://github.com/amazon-research/siam-mot">SiamMOT: Siamese Multi-Object Tracking</a><br /><a href="https://github.com/FiloSottile/mkcert">A simple zero-config tool to make locally trusted development certificates with any names you'd like.</a><br /><hr />å…ƒç´ å’Œä¸ºç›®æ ‡å€¼çš„å­çŸ©é˜µæ•°é‡<br /><p>ç»™å‡ºçŸ©é˜µÂ <code>matrix</code>Â å’Œç›®æ ‡å€¼Â <code>target</code>ï¼Œè¿”å›å…ƒç´ æ€»å’Œç­‰äºç›®æ ‡å€¼çš„éç©ºå­çŸ©é˜µçš„æ•°é‡ã€‚</p>

<p>å­çŸ©é˜µÂ <code>x1, y1, x2, y2</code>Â æ˜¯æ»¡è¶³ <code>x1 <= x <= x2</code>Â ä¸”Â <code>y1 <= y <= y2</code>Â çš„æ‰€æœ‰å•å…ƒÂ <code>matrix[x][y]</code>Â çš„é›†åˆã€‚</p>

<p>å¦‚æœÂ <code>(x1, y1, x2, y2)</code> å’ŒÂ <code>(x1', y1', x2', y2')</code>Â ä¸¤ä¸ªå­çŸ©é˜µä¸­éƒ¨åˆ†åæ ‡ä¸åŒï¼ˆå¦‚ï¼š<code>x1 != x1'</code>ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå­çŸ©é˜µä¹Ÿä¸åŒã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img alt="" src="https://assets.leetcode.com/uploads/2020/09/02/mate1.jpg" style="width: 242px; height: 242px;" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>matrix = [[0,1,0],[1,1,1],[0,1,0]], target = 0
<strong>è¾“å‡ºï¼š</strong>4
<strong>è§£é‡Šï¼š</strong>å››ä¸ªåªå« 0 çš„ 1x1 å­çŸ©é˜µã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>matrix = [[1,-1],[-1,1]], target = 0
<strong>è¾“å‡ºï¼š</strong>5
<strong>è§£é‡Šï¼š</strong>ä¸¤ä¸ª 1x2 å­çŸ©é˜µï¼ŒåŠ ä¸Šä¸¤ä¸ª 2x1 å­çŸ©é˜µï¼Œå†åŠ ä¸Šä¸€ä¸ª 2x2 å­çŸ©é˜µã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>matrix = [[904]], target = 0
<strong>è¾“å‡ºï¼š</strong>0
</pre>

<p>Â </p>

<p><strong><strong>æç¤ºï¼š</strong></strong></p>

<ul>
	<li><code>1 <= matrix.length <= 100</code></li>
	<li><code>1 <= matrix[0].length <= 100</code></li>
	<li><code>-1000 <= matrix[i] <= 1000</code></li>
	<li><code>-10^8 <= target <= 10^8</code></li>
</ul>
<br />#### æ–¹æ³•ä¸€ï¼šå‰ç¼€å’Œ + å“ˆå¸Œè¡¨

æˆ‘ä»¬æšä¸¾å­çŸ©é˜µçš„ä¸Šä¸‹è¾¹ç•Œï¼Œå¹¶è®¡ç®—å‡ºè¯¥è¾¹ç•Œå†…æ¯åˆ—çš„å…ƒç´ å’Œï¼Œåˆ™åŸé—®é¢˜è½¬æ¢æˆäº†å¦‚ä¸‹ä¸€ç»´é—®é¢˜ï¼š

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° $\textit{target}$ï¼Œè®¡ç®—è¯¥æ•°ç»„ä¸­å­æ•°ç»„å’Œç­‰äº $\textit{target}$ çš„å­æ•°ç»„ä¸ªæ•°ã€‚

åŠ›æ‰£ä¸Šå·²æœ‰è¯¥é—®é¢˜ï¼š[560. å’Œä¸ºKçš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarray-sum-equals-k/)ï¼Œè¯»è€…å¯ä»¥å‚è€ƒå…¶[å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/subarray-sum-equals-k/solution/he-wei-kde-zi-shu-zu-by-leetcode-solution/)ï¼Œå¹¶æŒæ¡ä½¿ç”¨å‰ç¼€å’Œ+å“ˆå¸Œè¡¨çš„çº¿æ€§åšæ³•ã€‚

å¯¹äºæ¯åˆ—çš„å…ƒç´ å’Œ $\textit{sum}$ çš„è®¡ç®—ï¼Œæˆ‘ä»¬åœ¨æšä¸¾å­çŸ©é˜µä¸Šè¾¹ç•Œ $i$ æ—¶ï¼Œåˆå§‹ä¸‹è¾¹ç•Œ $j$ ä¸º $i$ï¼Œæ­¤æ—¶ $\textit{sum}$ å°±æ˜¯çŸ©é˜µç¬¬ $i$ è¡Œçš„å…ƒç´ ã€‚æ¯æ¬¡å‘ä¸‹å»¶é•¿ä¸‹è¾¹ç•Œ $j$ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†çŸ©é˜µç¬¬ $j$ è¡Œçš„å…ƒç´ ç´¯åŠ åˆ° $\textit{sum}$ ä¸­ã€‚

```C++ [sol1-C++]
class Solution {
private:
    int subarraySum(vector<int> &nums, int k) {
        unordered_map<int, int> mp;
        mp[0] = 1;
        int count = 0, pre = 0;
        for (auto &x:nums) {
            pre += x;
            if (mp.find(pre - k) != mp.end()) {
                count += mp[pre - k];
            }
            mp[pre]++;
        }
        return count;
    }

public:
    int numSubmatrixSumTarget(vector<vector<int>> &matrix, int target) {
        int ans = 0;
        int m = matrix.size(), n = matrix[0].size();
        for (int i = 0; i < m; ++i) { // æšä¸¾ä¸Šè¾¹ç•Œ
            vector<int> sum(n);
            for (int j = i; j < m; ++j) { // æšä¸¾ä¸‹è¾¹ç•Œ
                for (int c = 0; c < n; ++c) {
                    sum[c] += matrix[j][c]; // æ›´æ–°æ¯åˆ—çš„å…ƒç´ å’Œ
                }
                ans += subarraySum(sum, target);
            }
        }
        return ans;
    }
};
```

```Java [sol1-Java]
class Solution {
    public int numSubmatrixSumTarget(int[][] matrix, int target) {
        int ans = 0;
        int m = matrix.length, n = matrix[0].length;
        for (int i = 0; i < m; ++i) { // æšä¸¾ä¸Šè¾¹ç•Œ
            int[] sum = new int[n];
            for (int j = i; j < m; ++j) { // æšä¸¾ä¸‹è¾¹ç•Œ
                for (int c = 0; c < n; ++c) {
                    sum[c] += matrix[j][c]; // æ›´æ–°æ¯åˆ—çš„å…ƒç´ å’Œ
                }
                ans += subarraySum(sum, target);
            }
        }
        return ans;
    }

    public int subarraySum(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap<Integer, Integer>();
        map.put(0, 1);
        int count = 0, pre = 0;
        for (int x : nums) {
            pre += x;
            if (map.containsKey(pre - k)) {
                count += map.get(pre - k);
            }
            map.put(pre, map.getOrDefault(pre, 0) + 1);
        }
        return count;
    }
}
```

```C# [sol1-C#]
public class Solution {
    public int NumSubmatrixSumTarget(int[][] matrix, int target) {

        int ans = 0;
        int m = matrix.Length, n = matrix[0].Length;
        for (int i = 0; i < m; ++i) { // æšä¸¾ä¸Šè¾¹ç•Œ
            int[] sum = new int[n];
            for (int j = i; j < m; ++j) { // æšä¸¾ä¸‹è¾¹ç•Œ
                for (int c = 0; c < n; ++c) {
                    sum[c] += matrix[j][c]; // æ›´æ–°æ¯åˆ—çš„å…ƒç´ å’Œ
                }
                ans += SubarraySum(sum, target);
            }
        }
        return ans;
    }

    public int SubarraySum(int[] nums, int k) {
        Dictionary<int, int> dictionary = new Dictionary<int, int>();
        dictionary.Add(0, 1);
        int count = 0, pre = 0;
        foreach (int x in nums) {
            pre += x;
            if (dictionary.ContainsKey(pre - k)) {
                count += dictionary[pre - k];
            }
            if (!dictionary.ContainsKey(pre)) {
                dictionary.Add(pre, 1);
            } else {
                ++dictionary[pre];
            }
        }
        return count;
    }
}
```

```go [sol1-Golang]
func subarraySum(nums []int, k int) (ans int) {
    mp := map[int]int{0: 1}
    for i, pre := 0, 0; i < len(nums); i++ {
        pre += nums[i]
        if _, ok := mp[pre-k]; ok {
            ans += mp[pre-k]
        }
        mp[pre]++
    }
    return
}

func numSubmatrixSumTarget(matrix [][]int, target int) (ans int) {
    for i := range matrix { // æšä¸¾ä¸Šè¾¹ç•Œ
        sum := make([]int, len(matrix[0]))
        for _, row := range matrix[i:] { // æšä¸¾ä¸‹è¾¹ç•Œ
            for c, v := range row {
                sum[c] += v // æ›´æ–°æ¯åˆ—çš„å…ƒç´ å’Œ
            }
            ans += subarraySum(sum, target)
        }
    }
    return
}
```

```Python [sol1-Python3]
class Solution:
    def numSubmatrixSumTarget(self, matrix: List[List[int]], target: int) -> int:
        def subarraySum(nums: List[int], k: int) -> int:
            mp = Counter([0])
            count = pre = 0
            for x in nums:
                pre += x
                if pre - k in mp:
                    count += mp[pre - k]
                mp[pre] += 1
            return count
        
        m, n = len(matrix), len(matrix[0])
        ans = 0
        # æšä¸¾ä¸Šè¾¹ç•Œ
        for i in range(m):
            total = [0] * n
            # æšä¸¾ä¸‹è¾¹ç•Œ
            for j in range(i, m):
                for c in range(n):
                    # æ›´æ–°æ¯åˆ—çš„å…ƒç´ å’Œ
                    total[c] += matrix[j][c]
                ans += subarraySum(total, target)
        
        return ans
```

```C [sol1-C]
struct HashTable {
    int key, val;
    UT_hash_handle hh;
};

int subarraySum(int* nums, int numsSize, int k) {
    struct HashTable* hashTable = NULL;
    struct HashTable* tmp = malloc(sizeof(struct HashTable));
    tmp->key = 0, tmp->val = 1;
    HASH_ADD_INT(hashTable, key, tmp);
    int count = 0, pre = 0;
    for (int i = 0; i < numsSize; i++) {
        pre += nums[i];
        int x = pre - k;
        HASH_FIND_INT(hashTable, &x, tmp);
        if (tmp != NULL) {
            count += tmp->val;
        }
        HASH_FIND_INT(hashTable, &pre, tmp);
        if (tmp != NULL) {
            tmp->val++;
        } else {
            tmp = malloc(sizeof(struct HashTable));
            tmp->key = pre, tmp->val = 1;
            HASH_ADD_INT(hashTable, key, tmp);
        }
    }
    return count;
}

int numSubmatrixSumTarget(int** matrix, int matrixSize, int* matrixColSize, int target) {
    int ans = 0;
    int m = matrixSize, n = matrixColSize[0];
    for (int i = 0; i < m; ++i) {  // æšä¸¾ä¸Šè¾¹ç•Œ
        int sum[n];
        memset(sum, 0, sizeof(sum));
        for (int j = i; j < m; ++j) {  // æšä¸¾ä¸‹è¾¹ç•Œ
            for (int c = 0; c < n; ++c) {
                sum[c] += matrix[j][c];  // æ›´æ–°æ¯åˆ—çš„å…ƒç´ å’Œ
            }
            ans += subarraySum(sum, n, target);
        }
    }
    return ans;
}
```

```JavaScript [sol1-JavaScript]
var numSubmatrixSumTarget = function(matrix, target) {
    let ans = 0;
    const m = matrix.length, n = matrix[0].length;
    for (let i = 0; i < m; ++i) { // æšä¸¾ä¸Šè¾¹ç•Œ
        const sum = new Array(n).fill(0);
        for (let j = i; j < m; ++j) { // æšä¸¾ä¸‹è¾¹ç•Œ
            for (let c = 0; c < n; ++c) {
                sum[c] += matrix[j][c]; // æ›´æ–°æ¯åˆ—çš„å…ƒç´ å’Œ
            }
            ans += subarraySum(sum, target);
        }
    }
    return ans;
}

const subarraySum = (nums, k) => {
    const map = new Map();
    map.set(0, 1);
    let count = 0, pre = 0;
    for (const x of nums) {
        pre += x;
        if (map.has(pre - k)) {
            count += map.get(pre - k);
        }
        map.set(pre, (map.get(pre) || 0) + 1);
    }
    return count;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(m^2\cdot n)$ã€‚å…¶ä¸­ $m$ å’Œ $n$ åˆ†åˆ«æ˜¯çŸ©é˜µ $\textit{matrix}$ çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚

**ä¼˜åŒ–**

è‹¥è¡Œæ•°å¤§äºåˆ—æ•°ï¼Œæšä¸¾çŸ©å½¢çš„å·¦å³è¾¹ç•Œæ›´ä¼˜ï¼Œå¯¹åº”çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2\cdot m)$ã€‚

æ€»ä¹‹ï¼Œæ ¹æ® $m$ å’Œ $n$ çš„å¤§å°æ¥ç»†åŒ–æšä¸¾ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ° $O(\min(m,n)^2\cdot\max(m,n))$ çš„æ—¶é—´å¤æ‚åº¦ã€‚

---
## âœ¨æ‰£å‹å¸®å¸®å›¢ - äº’åŠ¨ç­”ç–‘

[![è®¨è®º.jpg](https://pic.leetcode-cn.com/1621178600-MKHFrl-%E8%AE%A8%E8%AE%BA.jpg){:width=260px}](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)


å³æ—¥èµ· - 5 æœˆ 30 æ—¥ï¼Œç‚¹å‡»Â [è¿™é‡Œ](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)Â å‰å¾€ã€Œ[æ‰£å‹å¸®å¸®å›¢](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)ã€æ´»åŠ¨é¡µï¼ŒæŠŠä½ é‡åˆ°çš„é—®é¢˜å¤§èƒ†åœ°æå‡ºæ¥ï¼Œè®©æ‰£å‹ä¸ºä½ è§£ç­”ï½

### ğŸ å¥–åŠ±è§„åˆ™
è¢«é‡‡çº³æ•°é‡æ’å 1ï½3 åï¼šã€ŒåŠ›æ‰£æå®¢å¥—è£…ã€ *1 å¹¶å°†è·å¾—ã€ŒåŠ›æ‰£ç¥ç§˜åº”æ´å›¢ã€å†…æµ‹èµ„æ ¼
è¢«é‡‡çº³æ•°é‡æ’å 4ï½10 åï¼šã€ŒåŠ›æ‰£é¼ æ ‡å«ã€ *1 å¹¶å°†è·å¾—ã€ŒåŠ›æ‰£ç¥ç§˜åº”æ´å›¢ã€å†…æµ‹èµ„æ ¼
ã€Œè¯²äººä¸å€¦ã€ï¼šæ´»åŠ¨æœŸé—´ã€Œè§£æƒ‘è€…ã€åªè¦æœ‰ 1 ä¸ªå›ç­”è¢«é‡‡çº³ï¼Œå³å¯è·å¾— 20 LeetCoins å¥–åŠ±ï¼
ã€Œæ±‚çŸ¥è‹¥æ¸´ã€ï¼šæ´»åŠ¨æœŸé—´ã€Œæ±‚çŸ¥è€…ã€åœ¨æ´»åŠ¨é¡µå‘èµ·ä¸€æ¬¡ç¬¦åˆè¦æ±‚çš„ç–‘é—®å¸–å¹¶è‡³å°‘é‡‡çº³ä¸€æ¬¡ã€Œè§£æƒ‘è€…ã€çš„å›ç­”ï¼Œå³å¯è·å¾— 20 LeetCoins å¥–åŠ±ï¼

æ´»åŠ¨è¯¦æƒ…çŒ›æˆ³é“¾æ¥äº†è§£æ›´å¤šï¼š[ğŸ ä½ æœ‰ BUG æˆ‘æ¥å¸® - åŠ›æ‰£äº’åŠ¨ç­”ç–‘å­£](https://leetcode-cn.com/circle/discuss/xtliW6/)