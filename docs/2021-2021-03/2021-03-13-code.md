# 2021å¹´03æœˆ13æ—¥ code
<a href="https://toutiao.io/k/rmckht1">[æ¨è] ç¡¬æ ¸ï¼æ¼«ç”»å›¾è§£ HTTP åŸºç¡€ + é¢è¯•é¢˜</a><br /><a href="https://toutiao.io/k/kldrkzc">[æ¨è] Tomcat æ€§èƒ½è°ƒä¼˜åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ</a><br /><a href="https://toutiao.io/k/xl63gz1">[æ¨è] çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œåˆ«å†è¯´ä¸ä¼š Redis çš„é«˜çº§ç‰¹æ€§äº†</a><br /><a href="https://toutiao.io/k/jfopywh">[æ¨è] Web å®‰å…¨å¤´å·å¤§æ•Œ XSS æ¼æ´è§£å†³æœ€ä½³å®è·µ</a><br /><a href="https://toutiao.io/k/671eano">[æ¨è] å¿«æ‰‹è¶…å¤§è§„æ¨¡é›†ç¾¤è°ƒåº¦ä¼˜åŒ–å®è·µ</a><br /><a href="https://toutiao.io/k/x6ro69m">[æ¨è] é«˜å¹¶å‘ç³»ç»Ÿçš„é™æµç­–ç•¥ï¼šæ¼æ¡¶å’Œä»¤ç‰Œæ¡¶ï¼ˆé™„æºç å‰–æï¼‰</a><br /><a href="https://toutiao.io/k/xxk05uj">[æ¨è] Spring Boot å¼‚æ­¥è°ƒç”¨</a><br /><a href="https://toutiao.io/k/tm4wyb0">[æ¨è] Redis ä¸“é¢˜ï¼šæ·±å…¥è§£è¯»å“¨å…µæ¨¡å¼</a><br /><a href="https://toutiao.io/k/txzl2gg">[æ¨è] 2021 é˜¿é‡Œæ·˜ç³»å·¥ç¨‹å¸ˆæ¨èä¹¦å•</a><br /><a href="https://toutiao.io/k/1d2mnjh">[æ¨è] èŒåœºï¼š3 å¤©å‡†å¤‡ 5 å¤©é¢è¯•ï¼Œè·³æ§½å®Œæˆ</a><br /><a href="https://toutiao.io/k/cpf8p4q">[æ¨è] æµé‡å¤åˆ¶æ–¹æ¡ˆå¯¹æ¯”ï¼šTCPCopy vs Goreplay</a><br /><a href="https://toutiao.io/k/g6xlwp2">[æ¨è] åšä¸€ä¸ªå¾ˆå‡ºè‰²çš„ç¨‹åºå‘˜</a><br /><a href="https://toutiao.io/k/4f2u3c5">[æ¨è] å†…å­˜ç®¡ç†è®¾è®¡ç²¾è¦</a><br /><a href="https://toutiao.io/k/xuv7rlf">[æ¨è] 8 å¼ å›¾å¸¦ä½ äº†è§£å¤§å‹åº”ç”¨æ¶æ„æ¼”è¿›å†ç¨‹</a><br /><a href="https://toutiao.io/k/hueiax0">[æ¨è] MySQL ç´¢å¼•ä»åŸºç¡€åˆ°åŸç†ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†</a><br /><hr /><a href="https://github.com/mobilecoinfoundation/mobilecoin">Private payments for mobile devices.</a><br /><a href="https://github.com/strapi/strapi">ğŸš€ Open source Node.js Headless CMS to easily build customisable APIs</a><br /><a href="https://github.com/authelia/authelia">The Single Sign-On Multi-Factor portal for web apps</a><br /><a href="https://github.com/docker/awesome-compose">Awesome Docker Compose samples</a><br /><a href="https://github.com/GorvGoyl/Clone-Wars">70+ open-source clones of popular sites like Airbnb, Amazon, Instagram, Netflix, Tiktok, Spotify, Whatsapp, Youtube etc. See source code, demo links, tech stack, github stars.</a><br /><a href="https://github.com/ampproject/amphtml">The AMP web component framework.</a><br /><a href="https://github.com/srcrs/UnicomTask">è”é€šæ‰‹æœºè¥ä¸šå…è‡ªåŠ¨åšä»»åŠ¡ã€ç­¾åˆ°ã€é¢†æµé‡ã€é¢†ç§¯åˆ†ç­‰ã€‚</a><br /><a href="https://github.com/d2l-ai/d2l-zh">ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹ï¼šé¢å‘ä¸­æ–‡è¯»è€…ã€èƒ½è¿è¡Œã€å¯è®¨è®ºã€‚ä¸­è‹±æ–‡ç‰ˆè¢«å…¨çƒ175æ‰€å¤§å­¦é‡‡ç”¨æ•™å­¦ã€‚</a><br /><a href="https://github.com/LeCoupa/awesome-cheatsheets">ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’» Awesome cheatsheets for popular programming languages, frameworks and development tools. They include everything you should know in one single file.</a><br /><a href="https://github.com/files-community/Files">A modern file explorer that pushes the boundaries of the platform.</a><br /><a href="https://github.com/521xueweihan/HelloGitHub">Find pearls on open-source seashore åˆ†äº« GitHub ä¸Šæœ‰è¶£ã€å…¥é—¨çº§çš„å¼€æºé¡¹ç›®</a><br /><a href="https://github.com/tc39/proposal-temporal">Provides standard objects and functions for working with dates and times.</a><br /><a href="https://github.com/jellyfin/jellyfin">The Free Software Media System</a><br /><a href="https://github.com/dotnet/net6-mobile-samples">Xamarin .NET 6 *early* preview. Not for production use.</a><br /><a href="https://github.com/bradtraversy/design-resources-for-developers">Curated list of design and UI resources from stock photos, web templates, CSS frameworks, UI libraries, tools and much more</a><br /><a href="https://github.com/leonardomso/33-js-concepts">ğŸ“œ 33 concepts every JavaScript developer should know.</a><br /><a href="https://github.com/angular/components">Component infrastructure and Material Design components for Angular</a><br /><a href="https://github.com/Azure/azure-quickstart-templates">Azure Quickstart Templates</a><br /><a href="https://github.com/pavlobu/deskreen">Deskreen turns any device with a web browser into a secondary screen for your computer</a><br /><a href="https://github.com/login?return_to=%2Fpython%2Fmypy">Optional static typing for Python 3 and 2 (PEP 484)</a><br /><a href="https://github.com/login?return_to=%2Fsickcodes%2Fosx-serial-generator">Mac Serial Generator - Generate complete sets of Serial Numbers for OSX-KVM, Docker-OSX and of course, OpenCore.</a><br /><a href="https://github.com/sherlock-project/sherlock">ğŸ” Hunt down social media accounts by username across social networks</a><br /><a href="https://github.com/OpenCTI-Platform/opencti">Open Cyber Threat Intelligence Platform</a><br /><a href="https://github.com/login?return_to=%2Fraysan5%2Fraylib">A simple and easy-to-use library to enjoy videogames programming</a><br /><hr />è®¾è®¡å“ˆå¸Œé›†åˆ<br /><p>ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰ã€‚</p>

<p>å®ç° <code>MyHashSet</code> ç±»ï¼š</p>

<ul>
	<li><code>void add(key)</code> å‘å“ˆå¸Œé›†åˆä¸­æ’å…¥å€¼ <code>key</code> ã€‚</li>
	<li><code>bool contains(key)</code> è¿”å›å“ˆå¸Œé›†åˆä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸ªå€¼ <code>key</code> ã€‚</li>
	<li><code>void remove(key)</code> å°†ç»™å®šå€¼ <code>key</code> ä»å“ˆå¸Œé›†åˆä¸­åˆ é™¤ã€‚å¦‚æœå“ˆå¸Œé›†åˆä¸­æ²¡æœ‰è¿™ä¸ªå€¼ï¼Œä»€ä¹ˆä¹Ÿä¸åšã€‚</li>
</ul>
Â 

<p><strong>ç¤ºä¾‹ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>
["MyHashSet", "add", "add", "contains", "contains", "add", "contains", "remove", "contains"]
[[], [1], [2], [1], [3], [2], [2], [2], [2]]
<strong>è¾“å‡ºï¼š</strong>
[null, null, null, true, false, null, true, null, false]

<strong>è§£é‡Šï¼š</strong>
MyHashSet myHashSet = new MyHashSet();
myHashSet.add(1);      // set = [1]
myHashSet.add(2);      // set = [1, 2]
myHashSet.contains(1); // è¿”å› True
myHashSet.contains(3); // è¿”å› False ï¼Œï¼ˆæœªæ‰¾åˆ°ï¼‰
myHashSet.add(2);      // set = [1, 2]
myHashSet.contains(2); // è¿”å› True
myHashSet.remove(2);   // set = [1]
myHashSet.contains(2); // è¿”å› False ï¼Œï¼ˆå·²ç§»é™¤ï¼‰</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>0 <= key <= 10<sup>6</sup></code></li>
	<li>æœ€å¤šè°ƒç”¨ <code>10<sup>4</sup></code> æ¬¡ <code>add</code>ã€<code>remove</code> å’Œ <code>contains</code> ã€‚</li>
</ul>

<p>Â </p>

<p><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥ä¸ä½¿ç”¨å†…å»ºçš„å“ˆå¸Œé›†åˆåº“è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p>
<br />#### æ¦‚è¿°

ä¸ºäº†å®ç°å“ˆå¸Œé›†åˆè¿™ä¸€æ•°æ®ç»“æ„ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªå…³é”®é—®é¢˜éœ€è¦è§£å†³ï¼š
- å“ˆå¸Œå‡½æ•°ï¼šèƒ½å¤Ÿå°†é›†åˆä¸­ä»»æ„å¯èƒ½çš„å…ƒç´ æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šèŒƒå›´çš„æ•´æ•°å€¼ï¼Œå¹¶å°†è¯¥å…ƒç´ å­˜å‚¨åˆ°æ•´æ•°å€¼å¯¹åº”çš„åœ°å€ä¸Šã€‚
- å†²çªå¤„ç†ï¼šç”±äºä¸åŒå…ƒç´ å¯èƒ½æ˜ å°„åˆ°ç›¸åŒçš„æ•´æ•°å€¼ï¼Œå› æ­¤éœ€è¦åœ¨æ•´æ•°å€¼å‡ºç°ã€Œå†²çªã€æ—¶ï¼Œéœ€è¦è¿›è¡Œå†²çªå¤„ç†ã€‚æ€»çš„æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ç­–ç•¥è§£å†³å†²çªï¼š
    - é“¾åœ°å€æ³•ï¼šä¸ºæ¯ä¸ªå“ˆå¸Œå€¼ç»´æŠ¤ä¸€ä¸ªé“¾è¡¨ï¼Œå¹¶å°†å…·æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„å…ƒç´ éƒ½æ”¾å…¥è¿™ä¸€é“¾è¡¨å½“ä¸­ã€‚
    - å¼€æ”¾åœ°å€æ³•ï¼šå½“å‘ç°å“ˆå¸Œå€¼ $h$ å¤„äº§ç”Ÿå†²çªæ—¶ï¼Œæ ¹æ®æŸç§ç­–ç•¥ï¼Œä» $h$ å‡ºå‘æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸å†²çªçš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œä¸€ç§æœ€ç®€å•çš„ç­–ç•¥æ˜¯ï¼Œä¸æ–­åœ°æ£€æŸ¥ $h+1,h+2,h+3,\ldots$ è¿™äº›æ•´æ•°å¯¹åº”çš„ä½ç½®ã€‚
    - å†å“ˆå¸Œæ³•ï¼šå½“å‘ç°å“ˆå¸Œå†²çªåï¼Œä½¿ç”¨å¦ä¸€ä¸ªå“ˆå¸Œå‡½æ•°äº§ç”Ÿä¸€ä¸ªæ–°çš„åœ°å€ã€‚
- æ‰©å®¹ï¼šå½“å“ˆå¸Œè¡¨å…ƒç´ è¿‡å¤šæ—¶ï¼Œå†²çªçš„æ¦‚ç‡å°†è¶Šæ¥è¶Šå¤§ï¼Œè€Œåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ çš„æ•ˆç‡ä¹Ÿä¼šè¶Šæ¥è¶Šä½ã€‚å› æ­¤ï¼Œéœ€è¦å¼€è¾Ÿä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œæ¥ç¼“è§£å“ˆå¸Œè¡¨ä¸­å‘ç”Ÿçš„å†²çªã€‚

ä»¥ä¸Šå†…å®¹è¯»è€…å¯ä»¥è‡ªè¡Œç¿»é˜…æ•°æ®ç»“æ„çš„æ•™æï¼Œæœ¬é¢˜è§£ä¸å†é˜è¿°ï¼Œè€Œæ˜¯ç›´æ¥ç»™å‡ºä¸€ä¸ªæœ€ç®€å•çš„å“ˆå¸Œè¡¨å®ç°ã€‚

#### æ–¹æ³•ä¸€ï¼šé“¾åœ°å€æ³•

è®¾å“ˆå¸Œè¡¨çš„å¤§å°ä¸º $\textit{base}$ï¼Œåˆ™å¯ä»¥è®¾è®¡ä¸€ä¸ªç®€å•çš„å“ˆå¸Œå‡½æ•°ï¼š$\text{hash}(x) = x \bmod \textit{base}$ã€‚

æˆ‘ä»¬å¼€è¾Ÿä¸€ä¸ªå¤§å°ä¸º $\textit{base}$ çš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªä½ç½®æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚å½“è®¡ç®—å‡ºå“ˆå¸Œå€¼ä¹‹åï¼Œå°±æ’å…¥åˆ°å¯¹åº”ä½ç½®çš„é“¾è¡¨å½“ä¸­ã€‚

ç”±äºæˆ‘ä»¬ä½¿ç”¨æ•´æ•°é™¤æ³•ä½œä¸ºå“ˆå¸Œå‡½æ•°ï¼Œä¸ºäº†å°½å¯èƒ½é¿å…å†²çªï¼Œåº”å½“å°† $\textit{base}$ å–ä¸ºä¸€ä¸ªè´¨æ•°ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å– $\textit{base}=769$ã€‚

![fig](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvNzA1LzcwNV9saW5rZWRfbGlzdC5wbmc?x-oss-process=image/format,png)

**ä»£ç **

```C++ [sol1-C++]
class MyHashSet {
private:
    vector<list<int>> data;
    static const int base = 769;
    static int hash(int key) {
        return key % base;
    }
public:
    /** Initialize your data structure here. */
    MyHashSet(): data(base) {}
    
    void add(int key) {
        int h = hash(key);
        for (auto it = data[h].begin(); it != data[h].end(); it++) {
            if ((*it) == key) {
                return;
            }
        }
        data[h].push_back(key);
    }
    
    void remove(int key) {
        int h = hash(key);
        for (auto it = data[h].begin(); it != data[h].end(); it++) {
            if ((*it) == key) {
                data[h].erase(it);
                return;
            }
        }
    }
    
    /** Returns true if this set contains the specified element */
    bool contains(int key) {
        int h = hash(key);
        for (auto it = data[h].begin(); it != data[h].end(); it++) {
            if ((*it) == key) {
                return true;
            }
        }
        return false;
    }
};
```

```Java [sol1-Java]
class MyHashSet {
    private static final int BASE = 769;
    private LinkedList[] data;

    /** Initialize your data structure here. */
    public MyHashSet() {
        data = new LinkedList[BASE];
        for (int i = 0; i < BASE; ++i) {
            data[i] = new LinkedList<Integer>();
        }
    }
    
    public void add(int key) {
        int h = hash(key);
        Iterator<Integer> iterator = data[h].iterator();
        while (iterator.hasNext()) {
            Integer element = iterator.next();
            if (element == key) {
                return;
            }
        }
        data[h].offerLast(key);
    }
    
    public void remove(int key) {
        int h = hash(key);
        Iterator<Integer> iterator = data[h].iterator();
        while (iterator.hasNext()) {
            Integer element = iterator.next();
            if (element == key) {
                data[h].remove(element);
                return;
            }
        }
    }
    
    /** Returns true if this set contains the specified element */
    public boolean contains(int key) {
        int h = hash(key);
        Iterator<Integer> iterator = data[h].iterator();
        while (iterator.hasNext()) {
            Integer element = iterator.next();
            if (element == key) {
                return true;
            }
        }
        return false;
    }

    private static int hash(int key) {
        return key % BASE;
    }
}
```

```JavaScript [sol1-JavaScript]
var MyHashSet = function() {
    this.BASE = 769;
    this.data = new Array(this.BASE).fill(0).map(() => new Array());
};

MyHashSet.prototype.add = function(key) {
    const h = this.hash(key);
    for (const element of this.data[h]) {
        if (element === key) {
            return;
        }
    }
    this.data[h].push(key);
};

MyHashSet.prototype.remove = function(key) {
    const h = this.hash(key);
    const it = this.data[h];
    for (let i = 0; i < it.length; ++i) {
        if (it[i] === key) {
            it.splice(i, 1);
            return;
        }
    }
};

MyHashSet.prototype.contains = function(key) {
    const h = this.hash(key);
    for (const element of this.data[h]) {
        if (element === key) {
            return true;
        }
    }
    return false;
};

MyHashSet.prototype.hash = function(key) {
    return key % this.BASE;
}
```

```go [sol1-Golang]
const base = 769

type MyHashSet struct {
    data []list.List
}

func Constructor() MyHashSet {
    return MyHashSet{make([]list.List, base)}
}

func (s *MyHashSet) hash(key int) int {
    return key % base
}

func (s *MyHashSet) Add(key int) {
    if !s.Contains(key) {
        h := s.hash(key)
        s.data[h].PushBack(key)
    }
}

func (s *MyHashSet) Remove(key int) {
    h := s.hash(key)
    for e := s.data[h].Front(); e != nil; e = e.Next() {
        if e.Value.(int) == key {
            s.data[h].Remove(e)
        }
    }
}

func (s *MyHashSet) Contains(key int) bool {
    h := s.hash(key)
    for e := s.data[h].Front(); e != nil; e = e.Next() {
        if e.Value.(int) == key {
            return true
        }
    }
    return false
}
```

```C [sol1-C]
struct List {
    int val;
    struct List* next;
};

void listPush(struct List* head, int x) {
    struct List* tmp = malloc(sizeof(struct List));
    tmp->val = x;
    tmp->next = head->next;
    head->next = tmp;
}

void listDelete(struct List* head, int x) {
    for (struct List* it = head; it->next; it = it->next) {
        if (it->next->val == x) {
            struct List* tmp = it->next;
            it->next = tmp->next;
            free(tmp);
            break;
        }
    }
}

bool listContains(struct List* head, int x) {
    for (struct List* it = head; it->next; it = it->next) {
        if (it->next->val == x) {
            return true;
        }
    }
    return false;
}

void listFree(struct List* head) {
    while (head->next) {
        struct List* tmp = head->next;
        head->next = tmp->next;
        free(tmp);
    }
}

const int base = 769;

int hash(int key) {
    return key % base;
}

typedef struct {
    struct List* data;
} MyHashSet;

MyHashSet* myHashSetCreate() {
    MyHashSet* ret = malloc(sizeof(MyHashSet));
    ret->data = malloc(sizeof(struct List) * base);
    for (int i = 0; i < base; i++) {
        ret->data[i].val = 0;
        ret->data[i].next = NULL;
    }
    return ret;
}

void myHashSetAdd(MyHashSet* obj, int key) {
    int h = hash(key);
    if (!listContains(&(obj->data[h]), key)) {
        listPush(&(obj->data[h]), key);
    }
}

void myHashSetRemove(MyHashSet* obj, int key) {
    int h = hash(key);
    listDelete(&(obj->data[h]), key);
}

bool myHashSetContains(MyHashSet* obj, int key) {
    int h = hash(key);
    return listContains(&(obj->data[h]), key);
}

void myHashSetFree(MyHashSet* obj) {
    for (int i = 0; i < base; i++) {
        listFree(&(obj->data[i]));
    }
    free(obj->data);
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(\frac{n}{b})$ã€‚å…¶ä¸­ $n$ ä¸ºå“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ æ•°é‡ï¼Œ$b$ ä¸ºé“¾è¡¨çš„æ•°é‡ã€‚å‡è®¾å“ˆå¸Œå€¼æ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œåˆ™æ¯ä¸ªé“¾è¡¨å¤§æ¦‚é•¿åº¦ä¸º $\frac{n}{b}$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n+b)$ã€‚