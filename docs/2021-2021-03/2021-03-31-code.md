# 2021å¹´03æœˆ31æ—¥ code
<a href="https://toutiao.io/k/f0361xm">é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯æ¥å£çš„å¹‚ç­‰æ€§ï¼Ÿ</a><br /><a href="https://toutiao.io/k/nh6jij4">æˆ‘ï¼Œç¬¬ä¸€æ¬¡åšé¡¹ç›®ç»ç†ï¼Œå¹²èµ”äº†</a><br /><a href="https://toutiao.io/k/3j6wxlw">æ•°æ®é‡‡é›†ç»„ä»¶ï¼šFlume åŸºç¡€ç”¨æ³•å’Œ Kafka é›†æˆ</a><br /><a href="https://toutiao.io/k/3kqi349">AQS æ˜¯å¦‚ä½•æ§åˆ¶çº¿ç¨‹çš„</a><br /><a href="https://toutiao.io/k/65w6bft">JVM è¿›é˜¶ä¹‹è·¯ï¼ˆå…­ï¼‰ï¼šåƒåœ¾æ”¶é›†ç†è®ºå’Œç®—æ³•</a><br /><a href="https://toutiao.io/k/w2tps5t">å…¨é‡åŒæ­¥ Elasticsearch æ–¹æ¡ˆä¹‹ Canal</a><br /><a href="https://toutiao.io/k/7y8t1lw">TCP/IP åè®®çš„ç»å…¸é¢è¯•çŸ¥è¯†ç‚¹æ€»ç»“</a><br /><a href="https://toutiao.io/k/h617382">å¤§å‚çš„é¢è¯•å®˜æ˜¯å¦‚ä½•æŒ‘äººçš„ï¼Ÿ</a><br /><a href="https://toutiao.io/k/3l32umv">èŠèŠ DNS çš„é‚£äº›å°çŸ¥è¯†</a><br /><a href="https://toutiao.io/k/l9hnc29">å¤§çº¢å¤§ç´«çš„ Golang çœŸçš„æ˜¯åç«¯å¼€å‘ä¸­çš„ä¸‡èƒ½è¯å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/rmvyfcq">æœ‰èµ App å¦‚ä½•å®ç°åŠ¨æ€åŸŸå</a><br /><a href="https://toutiao.io/k/1a0v2hn">ç¼–ç¨‹è§’åº¦è°ˆæŠ½è±¡</a><br /><a href="https://toutiao.io/k/57jid6q">è®¾è®¡ç¨¿ï¼ˆUI è§†å›¾ï¼‰è‡ªåŠ¨ç”Ÿæˆä»£ç æ–¹æ¡ˆçš„æ¢ç´¢</a><br /><a href="https://toutiao.io/k/05qve4s">ç†¬å¤œè‚äº†ä¸ª IDEA æ’ä»¶æ•´åˆç¨‹åºå‘˜å¸¸ç”¨çš„å·¥å…·ï¼Œæ€»æœ‰ä½ èƒ½ç”¨ä¸Šçš„</a><br /><a href="https://toutiao.io/k/dtuuqu5">è‹¦äºæ²¡æœ‰ Go å®æˆ˜é¡¹ç›®ï¼Ÿä¹Ÿè®¸æœ¬æ–‡çš„ä¸€äº›æƒ³æ³•å¯ä»¥è¯•è¯•</a><br /><a href="https://toutiao.io/k/pjzon5x">å¦‚ä½•æé«˜ Debug æ•ˆç‡</a><br /><a href="https://toutiao.io/k/hmp3z65">å®æ—¶æ•°æ®èšåˆæ€ä¹ˆç ´</a><br /><a href="https://toutiao.io/k/ol2xx31">JS ç¼–ç æŠ€å·§ï¼šæŠ€å·§æŒæ¡çš„å¥½ï¼Œä¸šåŠ¡ä»£ç æ‰èƒ½å†™çš„æºœ</a><br /><a href="https://toutiao.io/k/e7llpmp">[è¯‘] ASP.NET Core åŸºäºè§’è‰²çš„ JWT ä»¤ç‰Œ</a><br /><a href="https://toutiao.io/k/fzg1pti">PHP çš„ Git æœåŠ¡å™¨è¢«é»‘å®¢å…¥ä¾µï¼Œæºä»£ç è¢«æ’å…¥åé—¨ä»£ç </a><br /><a href="https://toutiao.io/k/bkhurax">Arthas Star çªç ´ 2.5Wï¼Œæ’å Github Alibaba Group ç¬¬ä¸€</a><br /><a href="https://toutiao.io/k/6hopkg8">å·¥å…· | æ»´æ»´å¼€æºçš„ä¸€å¥— Android è·¯ç”±æ¡†æ¶</a><br /><a href="https://toutiao.io/k/ukg83qx">[æ¨è] å€¼å¾—æ‹¥æœ‰çš„æ‰‹ç»˜é£æ ¼ç”»å›¾å·¥å…·</a><br /><a href="https://toutiao.io/k/7aczn5o">[æ¨è] é¢è¯•å®˜å¸¸é—®çš„åƒåœ¾å›æ”¶å™¨ï¼Œè¿™æ¬¡å…¨ææ‡‚</a><br /><a href="https://toutiao.io/k/vhnnxpo">[æ¨è] Rhitï¼šé«˜æ•ˆå¯è§†åŒ– Nginx æ—¥å¿—æŸ¥çœ‹å·¥å…·ï¼Œæ¯ç§’å¤„ç†ç™¾ä¸‡è¡Œæ—¥å¿—æ•°æ®</a><br /><a href="https://toutiao.io/k/adg4qv6">[æ¨è] Redis åˆ†å¸ƒå¼é”é‡åˆ°çš„åºåˆ—åŒ–é—®é¢˜</a><br /><a href="https://toutiao.io/k/nvr0l12">[æ¨è] æƒé™ä½“ç³»è®¾è®¡ï¼šç½‘æ˜“æœ‰æ•° BI åŠŸèƒ½å“é‰´</a><br /><a href="https://toutiao.io/k/vsxwjpf">[æ¨è] Redis ä¸æ˜¯ä¸€ç›´å·ç§°å•çº¿ç¨‹æ•ˆç‡ä¹Ÿå¾ˆé«˜å—ï¼Œä¸ºä»€ä¹ˆåˆé‡‡ç”¨å¤šçº¿ç¨‹äº†ï¼Ÿ</a><br /><a href="https://toutiao.io/k/jdslwhk">[æ¨è] [è¯‘] æ–°è€æ‰‹å¿…å¤‡çš„ 34 ç§ JavaScript ç®€å†™ä¼˜åŒ–æŠ€æœ¯</a><br /><a href="https://toutiao.io/k/mvtejua">[æ¨è] ä¹¦å•ï¼šäº’è”ç½‘ä¼ä¸šé¢è¯•æ¡ˆå¤´ä¹¦ä¹‹æ¶æ„å¸ˆç¯‡</a><br /><a href="https://toutiao.io/k/vulmd0h">[æ¨è] æµ…è°ˆåˆ†åº“åˆ†è¡¨é‚£äº›äº‹å„¿</a><br /><a href="https://toutiao.io/k/le19zdx">[æ¨è] ä¸‡å­—é•¿æ–‡ï¼šå½»åº•ææ‡‚å®¹å™¨é•œåƒæ„å»º</a><br /><a href="https://toutiao.io/k/lq6l2fa">[æ¨è] åŠ å¯†æŠ€æœ¯çš„æœªæ¥ï¼šä»æœåŠ¡ç«¯å¯†ç å­˜å‚¨åˆ°ç”¨æˆ·æ•°æ®åŠ å¯†æ–¹æ¡ˆ</a><br /><a href="https://toutiao.io/k/nu45i3g">[æ¨è] æ¶æ„å®è·µå…¨æ™¯å›¾</a><br /><a href="https://toutiao.io/k/2qkwu5f">[æ¨è] Spring Boot ä¸­ä¼˜é›…çš„ä½¿ç”¨ Swagger 2ï¼ˆå²ä¸Šæœ€å…¨æ³¨è§£ç¯‡ï¼‰</a><br /><a href="https://toutiao.io/k/ny7vvdw">[æ¨è] ä¸‡å­—è¯¦è§£æ•´ä¸ªæ•°æ®ä»“åº“å»ºè®¾ä½“ç³»</a><br /><a href="https://toutiao.io/k/ozl31qb">[æ¨è] å¦‚ä½•å†™å‡ºé«˜è´¨é‡çš„æŠ€æœ¯æ–‡ç« ï¼Ÿ</a><br /><hr /><a href="https://github.com/lucidrains/deep-daze">Simple command line tool for text to image generation using OpenAI's CLIP and Siren (Implicit neural representation network)</a><br /><a href="https://github.com/php/php-src">The PHP Interpreter</a><br /><a href="https://github.com/Datalux/Osintgram">Osintgram is a OSINT tool on Instagram. It offers an interactive shell to perform analysis on Instagram account of any users by its nickname</a><br /><a href="https://github.com/NAalytics/Assemblies-of-putative-SARS-CoV2-spike-encoding-mRNA-sequences-for-vaccines-BNT-162b2-and-mRNA-1273">RNA vaccines have become a key tool in moving forward through the challenges raised both in the current pandemic and in numerous other public health and medical challenges. With the rollout of vaccines for COVID-19, these synthetic mRNAs have become broadly distributed RNA species in numerous human populations. Despite their ubiquity, sequences â€¦</a><br /><a href="https://github.com/login?return_to=%2Ftrekhleb%2Fjavascript-algorithms">ğŸ“ Algorithms and data structures implemented in JavaScript with explanations and links to further readings</a><br /><a href="https://github.com/login?return_to=%2Fnuxt%2Fnuxt.js">The Intuitive Vue Framework</a><br /><a href="https://github.com/intel-isl/DPT">Dense Prediction Transformers</a><br /><a href="https://github.com/randallkanna/awesome-job-list"></a><br /><a href="https://github.com/hneemann/Digital">A digital logic designer and circuit simulator.</a><br /><a href="https://github.com/login?return_to=%2Fthedaviddias%2FFront-End-Checklist">ğŸ—‚ The perfect Front-End Checklist for modern websites and meticulous developers</a><br /><a href="https://github.com/public-apis/public-apis">A collective list of free APIs such as http://ipstack.com, http://fixer.io/, https://numverify.com/, etc. for use in software and web development.</a><br /><a href="https://github.com/1ndianl33t/Bug-Bounty-Roadmaps">Bug Bounty Roadmaps</a><br /><a href="https://github.com/donnemartin/data-science-ipython-notebooks">Data science Python notebooks: Deep learning (TensorFlow, Theano, Caffe, Keras), scikit-learn, Kaggle, big data (Spark, Hadoop MapReduce, HDFS), matplotlib, pandas, NumPy, SciPy, Python essentials, AWS, and various command lines.</a><br /><a href="https://github.com/login?return_to=%2F3096%2Fgenshin_scripts"></a><br /><a href="https://github.com/jychp/cloudflare-bypass">Bypass Coudflare bot protection using Cloudflare Workers</a><br /><a href="https://github.com/merry75/educative.io_courses">this is downloadings of all educative.io free student subscription courses as pdf from GitHub student pack</a><br /><a href="https://github.com/russsiq/laravel-docs-8.x-ru">ĞĞµĞ¾Ñ„Ğ¸Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Laravel 8.x Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ.</a><br /><a href="https://github.com/microsoft/Swin-Transformer">a general-purpose Transformer based vision backbone</a><br /><a href="https://github.com/harryheman/React-Total">Ğ ĞµÑÑƒÑ€Ñ Ğ´Ğ»Ñ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ React.js Ğ¸ ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ Ğ½Ğ¸Ğ¼ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ</a><br /><a href="https://github.com/Asabeneh/30-Days-Of-React">30 Days of React challenge is a step by step guide to learn React in 30 days. It requires HTML, CSS, and JavaScript knowledge. You should be comfortable with JavaScript before you start to React. If you are not comfortable with JavaScript check out 30DaysOfJavaScript. This is a continuation of 30 Days Of JS. This challenge may take up to 100 dayâ€¦</a><br /><a href="https://github.com/dromara/sa-token">è¿™å¯èƒ½æ˜¯å²ä¸ŠåŠŸèƒ½æœ€å…¨çš„Javaæƒé™è®¤è¯æ¡†æ¶ï¼ç›®å‰å·²é›†æˆâ€”â€”ç™»å½•éªŒè¯ã€æƒé™éªŒè¯ã€Sessionä¼šè¯ã€è¸¢äººä¸‹çº¿ã€åˆ†å¸ƒå¼ä¼šè¯ã€å•ç‚¹ç™»å½•ã€OAuth2.0ã€è®°ä½æˆ‘æ¨¡å¼ã€æ¨¡æ‹Ÿä»–äººè´¦å·ã€ä¸´æ—¶èº«ä»½åˆ‡æ¢ã€é›†æˆRedisã€å¤šè´¦å·è®¤è¯ä½“ç³»ã€å‰åå°åˆ†ç¦»æ¨¡å¼ã€æ³¨è§£å¼é‰´æƒã€è·¯ç”±æ‹¦æˆªå¼é‰´æƒã€èŠ±å¼tokenç”Ÿæˆã€è‡ªåŠ¨ç»­ç­¾ã€åŒç«¯äº’æ–¥ç™»å½•ã€ä¼šè¯æ²»ç†ã€å¯†ç åŠ å¯†ã€jwté›†æˆã€Springé›†æˆ...</a><br /><a href="https://github.com/CyberPunkMetalHead/bitcoin-bot-buy-if-elon-tweets">This is a bitcoin bot that will automatically buy bitcoin if Elon Musk Tweets about it. It is a configurable crypto trading bot that listens to Technoking Musk to express his opinions on Bitcoin and buy as soon as he's tweeted.</a><br /><a href="https://github.com/nvm-sh/nvm">Node Version Manager - POSIX-compliant bash script to manage multiple active node.js versions</a><br /><a href="https://github.com/nccgroup/ScoutSuite">Multi-Cloud Security Auditing Tool</a><br /><a href="https://github.com/Tylous/Limelighter">A tool for generating fake code signing certificates or signing real ones</a><br /><hr />å­é›† II<br /><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚</p>

<p>è§£é›† <strong>ä¸èƒ½</strong> åŒ…å«é‡å¤çš„å­é›†ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ <strong>ä»»æ„é¡ºåº</strong> æ’åˆ—ã€‚</p>

<div class="original__bRMd">
<div>
<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,2,2]
<strong>è¾“å‡ºï¼š</strong>[[],[1],[1,2],[1,2,2],[2],[2,2]]
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [0]
<strong>è¾“å‡ºï¼š</strong>[[],[0]]
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= nums.length <= 10</code></li>
	<li><code>-10 <= nums[i] <= 10</code></li>
</ul>
</div>
</div>
<br />#### å‰è¨€

æœ¬é¢˜è§£åŸºäºã€Œ[78. å­é›†çš„å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/subsets/solution/zi-ji-by-leetcode-solution/)ã€ï¼Œè¯·è¯»è€…åœ¨å……åˆ†ç†è§£è¯¥é¢˜è§£åç»§ç»­é˜…è¯»ã€‚

#### æ–¹æ³•ä¸€ï¼šè¿­ä»£æ³•å®ç°å­é›†æšä¸¾

**æ€è·¯**

è€ƒè™‘æ•°ç»„ $[1,2,2]$ï¼Œé€‰æ‹©å‰ä¸¤ä¸ªæ•°ï¼Œæˆ–è€…ç¬¬ä¸€ã€ä¸‰ä¸ªæ•°ï¼Œéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„å­é›†ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå½“å‰é€‰æ‹©çš„æ•° $x$ï¼Œè‹¥å‰é¢æœ‰ä¸å…¶ç›¸åŒçš„æ•° $y$ï¼Œä¸”æ²¡æœ‰é€‰æ‹© $y$ï¼Œæ­¤æ—¶åŒ…å« $x$ çš„å­é›†ï¼Œå¿…ç„¶ä¼šå‡ºç°åœ¨åŒ…å« $y$ çš„æ‰€æœ‰å­é›†ä¸­ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­è¿™ç§æƒ…å†µï¼Œæ¥é¿å…ç”Ÿæˆé‡å¤çš„å­é›†ã€‚ä»£ç å®ç°æ—¶ï¼Œå¯ä»¥å…ˆå°†æ•°ç»„æ’åºï¼›è¿­ä»£æ—¶ï¼Œè‹¥å‘ç°æ²¡æœ‰é€‰æ‹©ä¸Šä¸€ä¸ªæ•°ï¼Œä¸”å½“å‰æ•°å­—ä¸ä¸Šä¸€ä¸ªæ•°ç›¸åŒï¼Œåˆ™å¯ä»¥è·³è¿‡å½“å‰ç”Ÿæˆçš„å­é›†ã€‚

**ä»£ç **

```C++ [sol1-C++]
class Solution {
public:
    vector<int> t;
    vector<vector<int>> ans;

    vector<vector<int>> subsetsWithDup(vector<int> &nums) {
        sort(nums.begin(), nums.end());
        int n = nums.size();
        for (int mask = 0; mask < (1 << n); ++mask) {
            t.clear();
            bool flag = true;
            for (int i = 0; i < n; ++i) {
                if (mask & (1 << i)) {
                    if (i > 0 && (mask >> (i - 1) & 1) == 0 && nums[i] == nums[i - 1]) {
                        flag = false;
                        break;
                    }
                    t.push_back(nums[i]);
                }
            }
            if (flag) {
                ans.push_back(t);
            }
        }
        return ans;
    }
};
```

```Java [sol1-Java]
class Solution {
    List<Integer> t = new ArrayList<Integer>();
    List<List<Integer>> ans = new ArrayList<List<Integer>>();

    public List<List<Integer>> subsetsWithDup(int[] nums) {
        Arrays.sort(nums);
        int n = nums.length;
        for (int mask = 0; mask < (1 << n); ++mask) {
            t.clear();
            boolean flag = true;
            for (int i = 0; i < n; ++i) {
                if ((mask & (1 << i)) != 0) {
                    if (i > 0 && (mask >> (i - 1) & 1) == 0 && nums[i] == nums[i - 1]) {
                        flag = false;
                        break;
                    }
                    t.add(nums[i]);
                }
            }
            if (flag) {
                ans.add(new ArrayList<Integer>(t));
            }
        }
        return ans;
    }
}
```

```go [sol1-Golang]
func subsetsWithDup(nums []int) (ans [][]int) {
    sort.Ints(nums)
    n := len(nums)
outer:
    for mask := 0; mask < 1<<n; mask++ {
        t := []int{}
        for i, v := range nums {
            if mask>>i&1 > 0 {
                if i > 0 && mask>>(i-1)&1 == 0 && v == nums[i-1] {
                    continue outer
                }
                t = append(t, v)
            }
        }
        ans = append(ans, append([]int(nil), t...))
    }
    return
}
```

```JavaScript [sol1-JavaScript]
var subsetsWithDup = function(nums) {
    nums.sort((a, b) => a - b);
    let t = [], ans = [];
    const n = nums.length;
    for (let mask = 0; mask < (1 << n); ++mask) {
        t = [];
        let flag = true;
        for (let i = 0; i < n; ++i) {
            if ((mask & (1 << i)) != 0) {
                if (i > 0 && (mask >> (i - 1) & 1) == 0 && nums[i] == nums[i - 1]) {
                    flag = false;
                    break;
                }
                t.push(nums[i]);
            }
        }
        if (flag) {
            ans.push(t.slice());
        }
    }
    return ans;
};
```

```C [sol1-C]
int** subsetsWithDup(int* nums, int numsSize, int* returnSize, int** returnColumnSizes) {
    qsort(nums, numsSize, sizeof(int), cmp);
    int n = numsSize;
    *returnSize = 0;
    *returnColumnSizes = malloc(sizeof(int) * (1 << n));
    int** ans = malloc(sizeof(int*) * (1 << n));
    for (int mask = 0; mask < (1 << n); ++mask) {
        int* t = malloc(sizeof(int) * n);
        int tSize = 0;
        bool flag = true;
        for (int i = 0; i < n; ++i) {
            if (mask & (1 << i)) {
                if (i > 0 && (mask >> (i - 1) & 1) == 0 && nums[i] == nums[i - 1]) {
                    flag = false;
                    break;
                }
                t[tSize++] = nums[i];
            }
        }
        t = realloc(t, sizeof(int) * tSize);
        if (flag) {
            ans[*returnSize] = t;
            (*returnColumnSizes)[(*returnSize)++] = tSize;
        }
    }
    ans = realloc(ans, sizeof(int*) * (*returnSize));
    return ans;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n \times 2^n)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„ $\textit{nums}$ çš„é•¿åº¦ã€‚æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n \log n)$ã€‚ä¸€å…± $2^n$ ä¸ªçŠ¶æ€ï¼Œæ¯ç§çŠ¶æ€éœ€è¦ $O(n)$ çš„æ—¶é—´æ¥æ„é€ å­é›†ï¼Œä¸€å…±éœ€è¦ $O(n \times 2^n)$ çš„æ—¶é—´æ¥æ„é€ å­é›†ã€‚ç”±äºåœ¨æ¸è¿›æ„ä¹‰ä¸Š $O(n \log n)$ å°äº $O(n \times 2^n)$ï¼Œæ•…æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n \times 2^n)$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚å³æ„é€ å­é›†ä½¿ç”¨çš„ä¸´æ—¶æ•°ç»„ $t$ çš„ç©ºé—´ä»£ä»·ã€‚

#### æ–¹æ³•äºŒï¼šé€’å½’æ³•å®ç°å­é›†æšä¸¾

**æ€è·¯**

ä¸æ–¹æ³•ä¸€ç±»ä¼¼ï¼Œåœ¨é€’å½’æ—¶ï¼Œè‹¥å‘ç°æ²¡æœ‰é€‰æ‹©ä¸Šä¸€ä¸ªæ•°ï¼Œä¸”å½“å‰æ•°å­—ä¸ä¸Šä¸€ä¸ªæ•°ç›¸åŒï¼Œåˆ™å¯ä»¥è·³è¿‡å½“å‰ç”Ÿæˆçš„å­é›†ã€‚

**ä»£ç **

```C++ [sol2-C++]
class Solution {
public:
    vector<int> t;
    vector<vector<int>> ans;

    void dfs(bool choosePre, int cur, vector<int> &nums) {
        if (cur == nums.size()) {
            ans.push_back(t);
            return;
        }
        dfs(false, cur + 1, nums);
        if (!choosePre && cur > 0 && nums[cur - 1] == nums[cur]) {
            return;
        }
        t.push_back(nums[cur]);
        dfs(true, cur + 1, nums);
        t.pop_back();
    }

    vector<vector<int>> subsetsWithDup(vector<int> &nums) {
        sort(nums.begin(), nums.end());
        dfs(false, 0, nums);
        return ans;
    }
};
```

```Java [sol2-Java]
class Solution {
    List<Integer> t = new ArrayList<Integer>();
    List<List<Integer>> ans = new ArrayList<List<Integer>>();

    public List<List<Integer>> subsetsWithDup(int[] nums) {
        Arrays.sort(nums);
        dfs(false, 0, nums);
        return ans;
    }

    public void dfs(boolean choosePre, int cur, int[] nums) {
        if (cur == nums.length) {
            ans.add(new ArrayList<Integer>(t));
            return;
        }
        dfs(false, cur + 1, nums);
        if (!choosePre && cur > 0 && nums[cur - 1] == nums[cur]) {
            return;
        }
        t.add(nums[cur]);
        dfs(true, cur + 1, nums);
        t.remove(t.size() - 1);
    }
}
```

```go [sol2-Golang]
func subsetsWithDup(nums []int) (ans [][]int) {
    sort.Ints(nums)
    t := []int{}
    var dfs func(bool, int)
    dfs = func(choosePre bool, cur int) {
        if cur == len(nums) {
            ans = append(ans, append([]int(nil), t...))
            return
        }
        dfs(false, cur+1)
        if !choosePre && cur > 0 && nums[cur-1] == nums[cur] {
            return
        }
        t = append(t, nums[cur])
        dfs(true, cur+1)
        t = t[:len(t)-1]
    }
    dfs(false, 0)
    return
}
```

```JavaScript [sol2-JavaScript]
var subsetsWithDup = function(nums) {
    nums.sort((a, b) => a - b);
    let t = [], ans = [];
    const dfs = (choosePre, cur, nums) => {
        if (cur === nums.length) {
            ans.push(t.slice());
            return;
        }
        dfs(false, cur + 1, nums);
        if (!choosePre && cur > 0 && nums[cur - 1] === nums[cur]) {
            return;
        }
        t.push(nums[cur]);
        dfs(true, cur + 1, nums);
        t = t.slice(0, t.length - 1);
    }
    dfs(false, 0, nums);
    return ans;
};
```

```C [sol1-C]
int cmp(int* a, int* b) {
    return *a - *b;
}

int* t;
int tSize;

void dfs(bool choosePre, int cur, int* nums, int numSize, int** ret, int* returnSize, int** returnColumnSizes) {
    if (cur == numSize) {
        int* tmp = malloc(sizeof(int) * tSize);
        memcpy(tmp, t, sizeof(int) * tSize);
        ret[*returnSize] = tmp;
        (*returnColumnSizes)[(*returnSize)++] = tSize;
        return;
    }
    dfs(false, cur + 1, nums, numSize, ret, returnSize, returnColumnSizes);
    if (!choosePre && cur > 0 && nums[cur - 1] == nums[cur]) {
        return;
    }
    t[tSize++] = nums[cur];
    dfs(true, cur + 1, nums, numSize, ret, returnSize, returnColumnSizes);
    tSize--;
}

int** subsetsWithDup(int* nums, int numsSize, int* returnSize, int** returnColumnSizes) {
    qsort(nums, numsSize, sizeof(int), cmp);
    int n = numsSize;
    *returnSize = 0;
    *returnColumnSizes = malloc(sizeof(int) * (1 << n));
    int** ret = malloc(sizeof(int*) * (1 << n));
    t = malloc(sizeof(int) * n);
    dfs(false, 0, nums, n, ret, returnSize, returnColumnSizes);
    return ret;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n \times 2^n)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„ $\textit{nums}$ çš„é•¿åº¦ã€‚æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n \log n)$ã€‚æœ€åæƒ…å†µä¸‹ $\textit{nums}$ ä¸­æ— é‡å¤å…ƒç´ ï¼Œéœ€è¦æšä¸¾å…¶æ‰€æœ‰ $2^n$ ä¸ªå­é›†ï¼Œæ¯ä¸ªå­é›†åŠ å…¥ç­”æ¡ˆæ—¶éœ€è¦æ‹·è´ä¸€ä»½ï¼Œè€—æ—¶ $O(n)$ï¼Œä¸€å…±éœ€è¦ $O(n \times 2^n)+O(n)=O(n \times 2^n)$ çš„æ—¶é—´æ¥æ„é€ å­é›†ã€‚ç”±äºåœ¨æ¸è¿›æ„ä¹‰ä¸Š $O(n \log n)$ å°äº $O(n \times 2^n)$ï¼Œæ•…æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n \times 2^n)$ã€‚ 

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚ä¸´æ—¶æ•°ç»„ $\textit{t}$ çš„ç©ºé—´ä»£ä»·æ˜¯ $O(n)$ï¼Œé€’å½’æ—¶æ ˆç©ºé—´çš„ä»£ä»·ä¸º $O(n)$ã€‚