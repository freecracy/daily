# 2021年04月19日 code
<a href="https://toutiao.io/k/iebk207">面向 K8s 设计误区</a><br /><a href="https://toutiao.io/k/nvqjbvt">写给开发人员的实用密码学：数字证书</a><br /><a href="https://toutiao.io/k/rx3r4ia">使用 awk 查找并修复数据中一对多的不一致问题</a><br /><a href="https://toutiao.io/k/187g37k">为自己的团队定制 CSS 框架</a><br /><a href="https://toutiao.io/k/oroh2lf">不理解 Java Steam？一步步梳理其工作方式</a><br /><a href="https://toutiao.io/k/twwep78">[译] 图查询语言的历史回顾短文</a><br /><a href="https://toutiao.io/k/7jktdg5">贝锐创始人陈宇晔：花生壳诞生自一次挫折，15 年坚守有温度不作恶</a><br /><a href="https://toutiao.io/k/2wt6nrp">阿里飞猪如何构建旅行场景下的个性化召回？</a><br /><a href="https://toutiao.io/k/cygntbm">VueConf 2021 抢先看，Evan You 和你聊聊 Vue 的未来</a><br /><a href="https://toutiao.io/k/kvmcf3m">设计师快醒醒吧！NFT 与你没啥关系</a><br /><a href="https://toutiao.io/k/68q4m1v">[推荐] 架构设计方法论</a><br /><a href="https://toutiao.io/k/we8gr61">[推荐] 从需求出发设计一条开源持续部署流水线</a><br /><a href="https://toutiao.io/k/z5c0vp0">[推荐] 谈谈 MySQL 锁</a><br /><a href="https://toutiao.io/k/zdnq3fy">[推荐] 踩坑 MySQL 索引，看看你真的会用吗？</a><br /><a href="https://toutiao.io/k/906zu1i">[推荐] 教你从头写游戏服务器框架</a><br /><a href="https://toutiao.io/k/3etk65w">[推荐] 基于 OpenResty 长连接推送的演进</a><br /><a href="https://toutiao.io/k/zpo0xd7">[推荐] 职场：工作五年之后，对技术和业务的思考</a><br /><a href="https://toutiao.io/k/3bv147y">[推荐] 免费正版 IntelliJ IDEA license 详细指南</a><br /><a href="https://toutiao.io/k/omkb9gy">[推荐] InnoDB 解决幻读的方案：LBCC & MVCC</a><br /><a href="https://toutiao.io/k/gauwubg">[推荐] 我很久没写代码了，但我是个好架构师</a><br /><a href="https://toutiao.io/k/82eogba">[推荐] Git 分支管理策略与工作流程</a><br /><a href="https://toutiao.io/k/bi1fr9y">[推荐] 码云 Gitee：高并发大存储下的架构演进之路</a><br /><a href="https://toutiao.io/k/4zqz7k1">[推荐] RESTful API 设计最佳实践</a><br /><a href="https://toutiao.io/k/feyaceo">[推荐] 两次被裁之后，我终于解决了数据库缓存一致性问题</a><br /><a href="https://toutiao.io/k/pmlwnuy">[推荐] 有哪些可以提高代码质量的书籍推荐？</a><br /><hr /><a href="https://github.com/Chia-Network/chia-blockchain">Chia blockchain python implementation (full node, farmer, harvester, timelord, and wallet)</a><br /><a href="https://github.com/dogecoin/dogecoin">very currency</a><br /><a href="https://github.com/CSSEGISandData/COVID-19">Novel Coronavirus (COVID-19) Cases, provided by JHU CSSE</a><br /><a href="https://github.com/testerSunshine/12306">12306智能刷票，订票</a><br /><a href="https://github.com/login?return_to=%2Fferib%2FD2R-Offline">Diablo II: Resurrected, Offline-mode patcher</a><br /><a href="https://github.com/ekzhang/graphics-workshop">Learn computer graphics by writing GPU shaders!</a><br /><a href="https://github.com/coolsnowwolf/lede">Lean's OpenWrt source</a><br /><a href="https://github.com/flashlight/flashlight">A C++ standalone library for machine learning</a><br /><a href="https://github.com/developedbyed/explore"></a><br /><a href="https://github.com/ytdl-org/youtube-dl">Command-line program to download videos from YouTube.com and other video sites</a><br /><a href="https://github.com/facebookresearch/pytorchvideo">A deep learning library for video understanding research.</a><br /><a href="https://github.com/microg/GmsCore">Free implementation of Play Services</a><br /><a href="https://github.com/PathOfBuildingCommunity/PathOfBuilding">Offline build planner for Path of Exile.</a><br /><a href="https://github.com/Datalux/Osintgram">Osintgram is a OSINT tool on Instagram. It offers an interactive shell to perform analysis on Instagram account of any users by its nickname</a><br /><a href="https://github.com/ChristianChiarulli/LunarVim">A Neovim config made with sane defaults</a><br /><a href="https://github.com/SerenityOS/serenity">The Serenity Operating System 🐞</a><br /><a href="https://github.com/bytecodealliance/wasmtime">Standalone JIT-style runtime for WebAssembly, using Cranelift</a><br /><a href="https://github.com/mpv-player/mpv">🎥 Command line video player</a><br /><a href="https://github.com/louisfb01/start-machine-learning-in-2020">A complete guide to start and improve in machine learning (ML), artificial intelligence (AI) in 2021 without ANY background in the field and stay up-to-date with the latest news and state-of-the-art techniques!</a><br /><a href="https://github.com/donnemartin/system-design-primer">Learn how to design large-scale systems. Prep for the system design interview. Includes Anki flashcards.</a><br /><a href="https://github.com/github/docs">The open-source repo for docs.github.com</a><br /><a href="https://github.com/frontierdotxyz/frontier-chain-testnets">Frontier Chain Testnets</a><br /><a href="https://github.com/ashishpatel26/500-AI-Machine-learning-Deep-learning-Computer-vision-NLP-Projects-with-code">500 AI Machine learning Deep learning Computer vision NLP Projects with code</a><br /><a href="https://github.com/qiurunze123/miaosha">⭐⭐⭐⭐秒杀系统设计与实现.互联网工程师进阶与分析🙋🐓</a><br /><a href="https://github.com/Developer-Y/cs-video-courses">List of Computer Science courses with video lectures.</a><br /><hr />移除元素<br /><p>给你一个数组 <code>nums</code><em> </em>和一个值 <code>val</code>，你需要 <strong><a href="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" target="_blank">原地</a></strong> 移除所有数值等于 <code>val</code><em> </em>的元素，并返回移除后数组的新长度。</p>

<p>不要使用额外的数组空间，你必须仅使用 <code>O(1)</code> 额外空间并 <strong><a href="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" target="_blank">原地 </a>修改输入数组</strong>。</p>

<p>元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。</p>

<p> </p>

<p><strong>说明:</strong></p>

<p>为什么返回数值是整数，但输出的答案是数组呢?</p>

<p>请注意，输入数组是以<strong>「引用」</strong>方式传递的，这意味着在函数里修改输入数组对于调用者是可见的。</p>

<p>你可以想象内部操作如下:</p>

<pre>
// <strong>nums</strong> 是以“引用”方式传递的。也就是说，不对实参作任何拷贝
int len = removeElement(nums, val);

// 在函数里修改输入数组对于调用者是可见的。
// 根据你的函数返回的长度, 它会打印出数组中<strong> 该长度范围内</strong> 的所有元素。
for (int i = 0; i < len; i++) {
    print(nums[i]);
}
</pre>

<p> </p>

<p><strong>示例 1：</strong></p>

<pre>
<strong>输入：</strong>nums = [3,2,2,3], val = 3
<strong>输出：</strong>2, nums = [2,2]
<strong>解释：</strong>函数应该返回新的长度 <strong>2</strong>, 并且 nums<em> </em>中的前两个元素均为 <strong>2</strong>。你不需要考虑数组中超出新长度后面的元素。例如，函数返回的新长度为 2 ，而 nums = [2,2,3,3] 或 nums = [2,2,0,0]，也会被视作正确答案。
</pre>

<p><strong>示例 2：</strong></p>

<pre>
<strong>输入：</strong>nums = [0,1,2,2,3,0,4,2], val = 2
<strong>输出：</strong>5, nums = [0,1,4,0,3]
<strong>解释：</strong>函数应该返回新的长度 <strong><code>5</code></strong>, 并且 nums 中的前五个元素为 <strong><code>0</code></strong>, <strong><code>1</code></strong>, <strong><code>3</code></strong>, <strong><code>0</code></strong>, <strong>4</strong>。注意这五个元素可为任意顺序。你不需要考虑数组中超出新长度后面的元素。
</pre>

<p> </p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>0 <= nums.length <= 100</code></li>
	<li><code>0 <= nums[i] <= 50</code></li>
	<li><code>0 <= val <= 100</code></li>
</ul>
<br />## 概要

这是一个相当简单的问题，但人们可能会对“就地”一词感到困惑，并认为在不复制数组的情况下从数组中删除元素是不可能的。

## 提示

1. 尝试双指针法。
2. 你是否使用“元素顺序可以更改”这一属性？
3. 当要删除的元素很少时会发生什么？

## 解决方案

#### 方法一：双指针

**思路**

既然问题要求我们就地删除给定值的所有元素，我们就必须用 $O(1)$ 的额外空间来处理它。如何解决？我们可以保留两个指针 $i$ 和 $j$，其中 $i$ 是慢指针，$j$ 是快指针。

**算法**

当 $nums[j]$ 与给定的值相等时，递增 $j$ 以跳过该元素。只要 $nums[j] \neq val$，我们就复制 $nums[j]$ 到 $nums[i]$ 并同时递增两个索引。重复这一过程，直到 $j$ 到达数组的末尾，该数组的新长度为 $i$。

该解法与 [删除排序数组中的重复项](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/solution/shan-chu-pai-xu-shu-zu-zhong-de-zhong-fu-xiang-by-/) 的解法十分相似。

```java [eHwPxmkE-Java]
public int removeElement(int[] nums, int val) {
    int i = 0;
    for (int j = 0; j < nums.length; j++) {
        if (nums[j] != val) {
            nums[i] = nums[j];
            i++;
        }
    }
    return i;
}
```

**复杂度分析**

* 时间复杂度：$O(n)$，
假设数组总共有 $n$ 个元素，$i$ 和 $j$ 至少遍历 $2n$ 步。

* 空间复杂度：$O(1)$。




#### 方法二：双指针 —— 当要删除的元素很少时

**思路**

现在考虑数组包含很少的要删除的元素的情况。例如，$num=[1，2，3，5，4]，Val=4$。之前的算法会对前四个元素做不必要的复制操作。另一个例子是 $num=[4，1，2，3，5]，Val=4$。似乎没有必要将 $[1，2，3，5]$ 这几个元素左移一步，因为问题描述中提到元素的顺序可以更改。

**算法**

当我们遇到 $nums[i] = val$ 时，我们可以将当前元素与最后一个元素进行交换，并释放最后一个元素。这实际上使数组的大小减少了 1。

请注意，被交换的最后一个元素可能是您想要移除的值。但是不要担心，在下一次迭代中，我们仍然会检查这个元素。

```java [wZ9Qm3KS-Java]
public int removeElement(int[] nums, int val) {
    int i = 0;
    int n = nums.length;
    while (i < n) {
        if (nums[i] == val) {
            nums[i] = nums[n - 1];
            // reduce array size by one
            n--;
        } else {
            i++;
        }
    }
    return n;
}
```


**复杂度分析**

* 时间复杂度：$O(n)$，$i$ 和 $n$ 最多遍历 $n$ 步。在这个方法中，赋值操作的次数等于要删除的元素的数量。因此，如果要移除的元素很少，效率会更高。


* 空间复杂度：$O(1)$。