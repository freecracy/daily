# 2021年04月13日 code
<a href="https://toutiao.io/k/feyaceo">两次被裁之后，我终于解决了数据库缓存一致性问题</a><br /><a href="https://toutiao.io/k/7uw9l2r">JVM 进阶之路（九）：性能监控工具（可视化工具篇）</a><br /><a href="https://toutiao.io/k/6aau0fc">一文读懂，DDD 落地数据库设计实战</a><br /><a href="https://toutiao.io/k/otdc5oi">ZooKeeper 设计原理</a><br /><a href="https://toutiao.io/k/fszlt1x">Docker 常用命令</a><br /><a href="https://toutiao.io/k/0t0xhkg">快速排序算法实现及优化</a><br /><a href="https://toutiao.io/k/53qhi1g">一文带你了解如何排查内存泄漏导致的页面卡顿现象</a><br /><a href="https://toutiao.io/k/0lfgf4r">能聊聊你对充血模型和贫血模型的理解吗？</a><br /><a href="https://toutiao.io/k/dxejqkb">Prometheus 2.25 新特性讲解</a><br /><a href="https://toutiao.io/k/ijh18wb">传说中的 10x 程序员？</a><br /><a href="https://toutiao.io/k/ed3a620">分布式系统中接口的幂等性</a><br /><a href="https://toutiao.io/k/3bv147y">免费正版 IntelliJ IDEA license 详细指南</a><br /><a href="https://toutiao.io/k/7y59mv5">让你的程序炫起来！少有人知道但超酷的 Python 进度条开源库</a><br /><a href="https://toutiao.io/k/9m25n08">源码级深挖 AQS 队列同步器</a><br /><a href="https://toutiao.io/k/8sq97yr">其实，我们也在努力做 CPU</a><br /><a href="https://toutiao.io/k/2nlt4v6">Redis 专题：你用的分布式锁安全吗？</a><br /><a href="https://toutiao.io/k/vplr1da">OWASP 十大网站安全风险 （二）：无效身份认证</a><br /><a href="https://toutiao.io/k/cx87obf">如何在 JavaScript 中实现队列数据结构</a><br /><a href="https://toutiao.io/k/bhb6afk">阅读 Go 源码，你需要了解这几个编译器指示</a><br /><a href="https://toutiao.io/k/yjqljbj">Nexmoe 博客主题的设计理念</a><br /><a href="https://toutiao.io/k/bi1fr9y">[推荐] 码云 Gitee：高并发大存储下的架构演进之路</a><br /><a href="https://toutiao.io/k/9uox6mg">[推荐] 21 张图详解网络基础知识</a><br /><a href="https://toutiao.io/k/6jo6q1t">[推荐] Go 应用优化指北</a><br /><a href="https://toutiao.io/k/f0361xm">[推荐] 高并发下如何保证接口的幂等性？</a><br /><a href="https://toutiao.io/k/pufqjt0">[推荐] GitHub 太慢？9 种方案可提速</a><br /><a href="https://toutiao.io/k/hti1ill">[推荐] 其实，每次面试的问题都逃不过这几方面</a><br /><a href="https://toutiao.io/k/oa4amzb">[推荐] 使用 Git 丢失代码的 N 种操作，您中招了吗？</a><br /><a href="https://toutiao.io/k/iyge3cy">[推荐] 史上最全教程：idea 将 Java 项目打包 Jar 包，并生成 exe 可执行文件</a><br /><a href="https://toutiao.io/k/zdnq3fy">[推荐] 踩坑 MySQL 索引，看看你真的会用吗？</a><br /><a href="https://toutiao.io/k/0yy2iga">[推荐] [译] Uber：面向领域的微服务架构</a><br /><a href="https://toutiao.io/k/ygnbct1">[推荐] GitHub 加速指南进阶版</a><br /><a href="https://toutiao.io/k/gauwubg">[推荐] 我很久没写代码了，但我是个好架构师</a><br /><a href="https://toutiao.io/k/romtfff">[推荐] 图文详解 Java 对象内存布局</a><br /><a href="https://toutiao.io/k/we8gr61">[推荐] 从需求出发设计一条开源持续部署流水线</a><br /><a href="https://toutiao.io/k/pmlwnuy">[推荐] 有哪些可以提高代码质量的书籍推荐？</a><br /><hr /><a href="https://github.com/DualCoder/vgpu_unlock">Unlock vGPU functionality for consumer grade GPUs.</a><br /><a href="https://github.com/Kethku/neovide">No Nonsense Neovim Client in Rust</a><br /><a href="https://github.com/DidierRLopes/GamestonkTerminal">The next best thing after Bloomberg Terminal</a><br /><a href="https://github.com/bradtraversy/vanillawebprojects">Mini projects built with HTML5, CSS & JavaScript. No frameworks or libraries</a><br /><a href="https://github.com/open-mmlab/mmocr">OpenMMLab Text Detection, Recognition and Understanding Toolbox</a><br /><a href="https://github.com/airbnb/javascript">JavaScript Style Guide</a><br /><a href="https://github.com/ocornut/imgui">Dear ImGui: Bloat-free Graphical User interface for C++ with minimal dependencies</a><br /><a href="https://github.com/Light-City/CPlusPlusThings">C++那些事</a><br /><a href="https://github.com/scikit-learn/scikit-learn">scikit-learn: machine learning in Python</a><br /><a href="https://github.com/pamoroso/free-python-books">Python books free to read online or download</a><br /><a href="https://github.com/RUSH-LAB/SLIDE"></a><br /><a href="https://github.com/microsoft/CyberBattleSim">An experimentation and research platform to investigate the interaction of automated agents in an abstract simulated network environments.</a><br /><a href="https://github.com/lydiahallie/javascript-questions">A long list of (advanced) JavaScript questions, and their explanations ✨</a><br /><a href="https://github.com/google/leveldb">LevelDB is a fast key-value storage library written at Google that provides an ordered mapping from string keys to string values.</a><br /><a href="https://github.com/openwrt/openwrt">This repository is a mirror of https://git.openwrt.org/openwrt/openwrt.git It is for reference only and is not active for check-ins or for reporting issues. We will continue to accept Pull Requests here. They will be merged via staging trees then into openwrt.git. All issues should be reported at: https://bugs.openwrt.org</a><br /><a href="https://github.com/urbanadventurer/Android-PIN-Bruteforce">Unlock an Android phone (or device) by bruteforcing the lockscreen PIN. Turn your Kali Nethunter phone into a bruteforce PIN cracker for Android devices! (no root, no adb)</a><br /><a href="https://github.com/nordicgiant2/awesome-landing-page">A series of beautiful and practical landing page templates</a><br /><a href="https://github.com/ryanmcdermott/clean-code-javascript">🛁 Clean Code concepts adapted for JavaScript</a><br /><a href="https://github.com/leonardomso/33-js-concepts">📜 33 concepts every JavaScript developer should know.</a><br /><a href="https://github.com/mrcodedev/frontend-developer-resources">Recursos gratuitos para empezar a ser un Frontend Developer o ampliar conocimientos</a><br /><a href="https://github.com/bevyengine/bevy">A refreshingly simple data-driven game engine built in Rust</a><br /><a href="https://github.com/PeiQi0/PeiQi-WIKI-POC">鹿不在侧，鲸不予游🐋</a><br /><a href="https://github.com/tailwindlabs/headlessui">Completely unstyled, fully accessible UI components, designed to integrate beautifully with Tailwind CSS.</a><br /><a href="https://github.com/assetnote/kiterunner">Contextual Content Discovery Tool</a><br /><a href="https://github.com/lindelof/awesome-web-effect">A series of exquisite and compact web page cool effects</a><br /><hr />二叉搜索树节点最小距离<br /><p>给你一个二叉搜索树的根节点 <code>root</code> ，返回 <strong>树中任意两不同节点值之间的最小差值</strong> 。</p>

<p><strong>注意：</strong>本题与 530：<a href="https://leetcode-cn.com/problems/minimum-absolute-difference-in-bst/">https://leetcode-cn.com/problems/minimum-absolute-difference-in-bst/</a> 相同</p>

<p> </p>

<div class="original__bRMd">
<div>
<p><strong>示例 1：</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2021/02/05/bst1.jpg" style="width: 292px; height: 301px;" />
<pre>
<strong>输入：</strong>root = [4,2,6,1,3]
<strong>输出：</strong>1
</pre>

<p><strong>示例 2：</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2021/02/05/bst2.jpg" style="width: 282px; height: 301px;" />
<pre>
<strong>输入：</strong>root = [1,0,48,null,null,12,49]
<strong>输出：</strong>1
</pre>

<p> </p>

<p><strong>提示：</strong></p>

<ul>
	<li>树中节点数目在范围 <code>[2, 100]</code> 内</li>
	<li><code>0 <= Node.val <= 10<sup>5</sup></code></li>
</ul>
</div>
</div>
<br />#### 方法一：中序遍历

**思路与算法**

考虑对升序数组 $a$ 求任意两个元素之差的最小值，答案一定为相邻两个元素之差的最小值，即
$$
\textit{ans}=\min_{i=0}^{n-2}\left\{a[i+1]-a[i]\right\}
$$
其中 $n$ 为数组 $a$ 的长度。其他任意间隔距离大于等于 $2$ 的下标对 $(i,j)$ 的元素之差一定大于下标对 $(i,i+1)$ 的元素之差，故不需要再被考虑。

回到本题，本题要求二叉搜索树任意两节点差的最小值，而我们知道二叉搜索树有个性质为**二叉搜索树中序遍历得到的值序列是递增有序的**，因此我们只要得到中序遍历后的值序列即能用上文提及的方法来解决。

朴素的方法是经过一次中序遍历将值保存在一个数组中再进行遍历求解，我们也可以在中序遍历的过程中用 $\textit{pre}$ 变量保存前驱节点的值，这样即能边遍历边更新答案，不再需要显式创建数组来保存，需要注意的是 $\textit{pre}$ 的初始值需要设置成任意负数标记开头，下文代码中设置为 $-1$。

二叉树的中序遍历有多种方式，包括递归、栈、Morris 遍历等，读者可选择自己最擅长的来实现。下文代码提供最普遍的递归方法来实现，其他遍历方法的介绍可以详细看「[94. 二叉树的中序遍历的官方题解](https://leetcode-cn.com/problems/binary-tree-inorder-traversal/solution/er-cha-shu-de-zhong-xu-bian-li-by-leetcode-solutio/)」，这里不再赘述。

**代码**

```C++ [sol1-C++]
class Solution {
public:
    void dfs(TreeNode* root, int& pre, int& ans) {
        if (root == nullptr) {
            return;
        }
        dfs(root->left, pre, ans);
        if (pre == -1) {
            pre = root->val;
        } else {
            ans = min(ans, root->val - pre);
            pre = root->val;
        }
        dfs(root->right, pre, ans);
    }
    int getMinimumDifference(TreeNode* root) {
        int ans = INT_MAX, pre = -1;
        dfs(root, pre, ans);
        return ans;
    }
};
```

```Java [sol1-Java]
class Solution {
    int pre;
    int ans;

    public int getMinimumDifference(TreeNode root) {
        ans = Integer.MAX_VALUE;
        pre = -1;
        dfs(root);
        return ans;
    }

    public void dfs(TreeNode root) {
        if (root == null) {
            return;
        }
        dfs(root.left);
        if (pre == -1) {
            pre = root.val;
        } else {
            ans = Math.min(ans, root.val - pre);
            pre = root.val;
        }
        dfs(root.right);
    }
}
```

```JavaScript [sol1-JavaScript]
var getMinimumDifference = function(root) {
    let ans = Number.MAX_SAFE_INTEGER, pre = -1;
    const dfs = (root) => {
        if (root === null) {
            return;
        }
        dfs(root.left);
        if (pre == -1) {
            pre = root.val;
        } else {
            ans = Math.min(ans, root.val - pre);
            pre = root.val;
        }
        dfs(root.right);
    }
    dfs(root);
    return ans;
};
```

```Golang [sol1-Golang]
func getMinimumDifference(root *TreeNode) int {
    ans, pre := math.MaxInt64, -1
    var dfs func(*TreeNode)
    dfs = func(node *TreeNode) {
        if node == nil {
            return
        }
        dfs(node.Left)
        if pre != -1 && node.Val-pre < ans {
            ans = node.Val - pre
        }
        pre = node.Val
        dfs(node.Right)
    }
    dfs(root)
    return ans
}
```

```C [sol1-C]
void dfs(struct TreeNode* root, int* pre, int* ans) {
    if (root == NULL) {
        return;
    }
    dfs(root->left, pre, ans);
    if (*pre == -1) {
        *pre = root->val;
    } else {
        *ans = fmin(*ans, root->val - (*pre));
        *pre = root->val;
    }
    dfs(root->right, pre, ans);
}

int getMinimumDifference(struct TreeNode* root) {
    int ans = INT_MAX, pre = -1;
    dfs(root, &pre, &ans);
    return ans;
}
```

**复杂度分析**

- 时间复杂度：$O(n)$，其中 $n$ 为二叉搜索树节点的个数。每个节点在中序遍历中都会被访问一次且只会被访问一次，因此总时间复杂度为 $O(n)$。

- 空间复杂度：$O(n)$。递归函数的空间复杂度取决于递归的栈深度，而栈深度在二叉搜索树为一条链的情况下会达到 $O(n)$ 级别。