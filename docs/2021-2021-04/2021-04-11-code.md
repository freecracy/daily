# 2021å¹´04æœˆ11æ—¥ code
<a href="https://toutiao.io/k/bdr9xsb">[è¯‘] ç”Ÿå­˜æŒ‡å—ä¹‹ CORS + API Gateway</a><br /><a href="https://toutiao.io/k/cdkjc3r">ç¾å›¢å¼¹æ€§ä¼¸ç¼©ç³»ç»Ÿçš„æŠ€æœ¯æ¼”è¿›ä¸è½åœ°å®è·µ</a><br /><a href="https://toutiao.io/k/y1lq4em">æ‰‹æ‘¸æ‰‹æ•™ä½ é˜…è¯»å’Œè°ƒè¯•å¤§å‹å¼€æºé¡¹ç›® ZooKeeper</a><br /><a href="https://toutiao.io/k/11eua30">ä»£ç ä¸ºç‹çš„æ—¶ä»£ï¼šè½¦ä¼å¦‚ä½•æŒæ¡å“è¶Šè½¯ä»¶å¼€å‘èƒ½åŠ›</a><br /><a href="https://toutiao.io/k/3qy2z6i">monkey-api-encrypt åˆå¢å¼ºäº†ä¸€ä¸ªå®ç”¨åŠŸèƒ½</a><br /><a href="https://toutiao.io/k/vt2226s">Flutter Boost 3.0 åˆæ¢</a><br /><a href="https://toutiao.io/k/7d0xius">å‡çº§ Dubboï¼Œå°å¿ƒ default.version</a><br /><a href="https://toutiao.io/k/i9t6vw1">çº¦å®šå¼è·¯ç”±çš„èœå•æ•°æ®ç”Ÿæˆæ–¹æ¡ˆ</a><br /><a href="https://toutiao.io/k/9g83hmz">ZLT-MP v4.4.0 å‘å¸ƒ</a><br /><a href="https://toutiao.io/k/85g2l2v">â€œä¼ªå…±äº«â€ å‡Œä¹±è®°</a><br /><a href="https://toutiao.io/k/47wemjf">[æ¨è] è¶…å®ç”¨çš„ IDEA æ’ä»¶æ¨èï¼ç™¾ä¸‡çº§ä¸‹è½½é‡</a><br /><a href="https://toutiao.io/k/oa4amzb">[æ¨è] ä½¿ç”¨ Git ä¸¢å¤±ä»£ç çš„ N ç§æ“ä½œï¼Œæ‚¨ä¸­æ‹›äº†å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/f0361xm">[æ¨è] é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯æ¥å£çš„å¹‚ç­‰æ€§ï¼Ÿ</a><br /><a href="https://toutiao.io/k/iyge3cy">[æ¨è] å²ä¸Šæœ€å…¨æ•™ç¨‹ï¼šidea å°† Java é¡¹ç›®æ‰“åŒ… Jar åŒ…ï¼Œå¹¶ç”Ÿæˆ exe å¯æ‰§è¡Œæ–‡ä»¶</a><br /><a href="https://toutiao.io/k/sso4l2l">[æ¨è] æˆ‘åœ¨æ¶æ„è®¾è®¡å’Œä»£ç å¼€å‘ä¸­çš„ä¸€äº›å¸¸ç”¨åŸåˆ™</a><br /><a href="https://toutiao.io/k/romtfff">[æ¨è] å›¾æ–‡è¯¦è§£ Java å¯¹è±¡å†…å­˜å¸ƒå±€</a><br /><a href="https://toutiao.io/k/bi1fr9y">[æ¨è] ç äº‘ Giteeï¼šé«˜å¹¶å‘å¤§å­˜å‚¨ä¸‹çš„æ¶æ„æ¼”è¿›ä¹‹è·¯</a><br /><a href="https://toutiao.io/k/9uox6mg">[æ¨è] 21 å¼ å›¾è¯¦è§£ç½‘ç»œåŸºç¡€çŸ¥è¯†</a><br /><a href="https://toutiao.io/k/0yy2iga">[æ¨è] [è¯‘] Uberï¼šé¢å‘é¢†åŸŸçš„å¾®æœåŠ¡æ¶æ„</a><br /><a href="https://toutiao.io/k/cifpaoe">[æ¨è] å¦‚ä½•åƒé€ä¸€ä¸ª Java é¡¹ç›®ï¼Ÿï¼ˆé™„å­¦ä¹ å®è·µï¼‰</a><br /><a href="https://toutiao.io/k/hti1ill">[æ¨è] å…¶å®ï¼Œæ¯æ¬¡é¢è¯•çš„é—®é¢˜éƒ½é€ƒä¸è¿‡è¿™å‡ æ–¹é¢</a><br /><a href="https://toutiao.io/k/ygnbct1">[æ¨è] GitHub åŠ é€ŸæŒ‡å—è¿›é˜¶ç‰ˆ</a><br /><a href="https://toutiao.io/k/6jo6q1t">[æ¨è] Go åº”ç”¨ä¼˜åŒ–æŒ‡åŒ—</a><br /><a href="https://toutiao.io/k/pufqjt0">[æ¨è] GitHub å¤ªæ…¢ï¼Ÿ9 ç§æ–¹æ¡ˆå¯æé€Ÿ</a><br /><a href="https://toutiao.io/k/2fe4jjq">[æ¨è] å†è§ Go é¢è¯•å®˜ï¼šGMP æ¨¡å‹ï¼Œä¸ºä»€ä¹ˆè¦æœ‰ Pï¼Ÿ</a><br /><hr /><a href="https://github.com/benawad/dogehouse">Taking voice conversations to the moon ğŸš€</a><br /><a href="https://github.com/ory/keto">Open Source (Go) implementation of "Zanzibar: Google's Consistent, Global Authorization System". Ships gRPC, REST APIs, newSQL, and an easy and granular permission language. Supports ACL, RBAC, and other access models.</a><br /><a href="https://github.com/apache/superset">Apache Superset is a Data Visualization and Data Exploration Platform</a><br /><a href="https://github.com/input-output-hk/plutus-pioneer-program"></a><br /><a href="https://github.com/Unity-Technologies/com.unity.multiplayer.samples.coop">A small-scale cooperative game sample built on the new, Unity networking framework to teach developers about creating a similar multiplayer game.</a><br /><a href="https://github.com/bevyengine/bevy">A refreshingly simple data-driven game engine built in Rust</a><br /><a href="https://github.com/apache/incubator-dolphinscheduler">Apache DolphinScheduler is a distributed and extensible workflow scheduler platform with powerful DAG visual interfaces, dedicated to solving complex job dependencies in the data pipeline and providing various types of jobs available `out of the box`.</a><br /><a href="https://github.com/flutter/flutter">Flutter makes it easy and fast to build beautiful apps for mobile and beyond.</a><br /><a href="https://github.com/microsoft/CyberBattleSim">An experimentation and research platform to investigate the interaction of automated agents in an abstract simulated network environments.</a><br /><a href="https://github.com/Layout-Parser/layout-parser">A Python Library for Document Layout Understanding</a><br /><a href="https://github.com/androidmalware/android_hid">Use Android as Rubber Ducky against another Android device</a><br /><a href="https://github.com/login?return_to=%2Fsebastianbergmann%2Fphpunit">The PHP Unit Testing framework.</a><br /><a href="https://github.com/edeng23/binance-trade-bot">Automated cryptocurrency trading bot</a><br /><a href="https://github.com/adonovan/spaghetti">Spaghetti: a dependency analysis tool for Go packages</a><br /><a href="https://github.com/zhangdaiscott/JimuReport">ä¸€æ¬¾å…è´¹çš„æ•°æ®å¯è§†åŒ–å·¥å…·ï¼ŒæŠ¥è¡¨ä¸å¤§å±è®¾è®¡ï¼ç±»ä¼¼äºexcelæ“ä½œé£æ ¼ï¼Œåœ¨çº¿æ‹–æ‹½å®ŒæˆæŠ¥è¡¨è®¾è®¡ï¼åŠŸèƒ½æ¶µç›–: æŠ¥è¡¨è®¾è®¡ã€å›¾å½¢æŠ¥è¡¨ã€æ‰“å°è®¾è®¡ã€å¤§å±è®¾è®¡ç­‰ï¼Œæ°¸ä¹…å…è´¹ï¼</a><br /><a href="https://github.com/pretzelhammer/rust-blog">Educational blog posts for Rust beginners</a><br /><a href="https://github.com/urbanadventurer/Android-PIN-Bruteforce">Unlock an Android phone (or device) by bruteforcing the lockscreen PIN. Turn your Kali Nethunter phone into a bruteforce PIN cracker for Android devices! (no root, no adb)</a><br /><a href="https://github.com/login?return_to=%2Fstreamich%2Freact-use">React Hooks â€” ğŸ‘</a><br /><a href="https://github.com/martin-ger/esp_wifi_repeater">A full functional WiFi Repeater (correctly: a WiFi NAT Router)</a><br /><a href="https://github.com/sivel/speedtest-cli">Command line interface for testing internet bandwidth using speedtest.net</a><br /><a href="https://github.com/lydiahallie/javascript-questions">A long list of (advanced) JavaScript questions, and their explanations âœ¨</a><br /><a href="https://github.com/bridgecrewio/checkov">Prevent cloud misconfigurations during build-time for Terraform, Cloudformation, Kubernetes, Serverless framework and other infrastructure-as-code-languages with Checkov by Bridgecrew.</a><br /><a href="https://github.com/elixir-nx/axon">Nx-powered Neural Networks.</a><br /><a href="https://github.com/bilibili/ijkplayer">Android/iOS video player based on FFmpeg n3.4, with MediaCodec, VideoToolbox support.</a><br /><a href="https://github.com/cypress-io/cypress">Fast, easy and reliable testing for anything that runs in a browser.</a><br /><hr />ä¸‘æ•° II<br /><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code> ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ç¬¬ <code>n</code> ä¸ª <strong>ä¸‘æ•°</strong> ã€‚</p>

<p><strong>ä¸‘æ•° </strong>å°±æ˜¯åªåŒ…å«è´¨å› æ•°Â <code>2</code>ã€<code>3</code> å’Œ/æˆ–Â <code>5</code>Â çš„æ­£æ•´æ•°ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 10
<strong>è¾“å‡ºï¼š</strong>12
<strong>è§£é‡Šï¼š</strong>[1, 2, 3, 4, 5, 6, 8, 9, 10, 12] æ˜¯ç”±å‰ 10 ä¸ªä¸‘æ•°ç»„æˆçš„åºåˆ—ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = 1
<strong>è¾“å‡ºï¼š</strong>1
<strong>è§£é‡Šï¼š</strong>1 é€šå¸¸è¢«è§†ä¸ºä¸‘æ•°ã€‚
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= n <= 1690</code></li>
</ul>
<br />#### æ–¹æ³•ä¸€ï¼šæœ€å°å †

è¦å¾—åˆ°ä»å°åˆ°å¤§çš„ç¬¬ $n$ ä¸ªä¸‘æ•°ï¼Œå¯ä»¥ä½¿ç”¨**æœ€å°å †**å®ç°ã€‚

åˆå§‹æ—¶å †ä¸ºç©ºã€‚é¦–å…ˆå°†æœ€å°çš„ä¸‘æ•° $1$ åŠ å…¥å †ã€‚

æ¯æ¬¡å–å‡ºå †é¡¶å…ƒç´  $x$ï¼Œåˆ™ $x$ æ˜¯å †ä¸­æœ€å°çš„ä¸‘æ•°ï¼Œç”±äº $2x, 3x, 5x$ ä¹Ÿæ˜¯ä¸‘æ•°ï¼Œå› æ­¤å°† $2x, 3x, 5x$ åŠ å…¥å †ã€‚

ä¸Šè¿°åšæ³•ä¼šå¯¼è‡´å †ä¸­å‡ºç°é‡å¤å…ƒç´ çš„æƒ…å†µã€‚ä¸ºäº†é¿å…é‡å¤å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œé›†åˆå»é‡ï¼Œé¿å…ç›¸åŒå…ƒç´ å¤šæ¬¡åŠ å…¥å †ã€‚

åœ¨æ’é™¤é‡å¤å…ƒç´ çš„æƒ…å†µä¸‹ï¼Œç¬¬ $n$ æ¬¡ä»æœ€å°å †ä¸­å–å‡ºçš„å…ƒç´ å³ä¸ºç¬¬ $n$ ä¸ªä¸‘æ•°ã€‚

<![fig1](https://assets.leetcode-cn.com/solution-static/264/1.png),![fig2](https://assets.leetcode-cn.com/solution-static/264/2.png),![fig3](https://assets.leetcode-cn.com/solution-static/264/3.png),![fig4](https://assets.leetcode-cn.com/solution-static/264/4.png),![fig5](https://assets.leetcode-cn.com/solution-static/264/5.png),![fig6](https://assets.leetcode-cn.com/solution-static/264/6.png),![fig7](https://assets.leetcode-cn.com/solution-static/264/7.png),![fig8](https://assets.leetcode-cn.com/solution-static/264/8.png),![fig9](https://assets.leetcode-cn.com/solution-static/264/9.png),![fig10](https://assets.leetcode-cn.com/solution-static/264/10.png),![fig11](https://assets.leetcode-cn.com/solution-static/264/11.png),![fig12](https://assets.leetcode-cn.com/solution-static/264/12.png)>

```Java [sol1-Java]
class Solution {
    public int nthUglyNumber(int n) {
        int[] factors = {2, 3, 5};
        Set<Long> seen = new HashSet<Long>();
        PriorityQueue<Long> heap = new PriorityQueue<Long>();
        seen.add(1L);
        heap.offer(1L);
        int ugly = 0;
        for (int i = 0; i < n; i++) {
            long curr = heap.poll();
            ugly = (int) curr;
            for (int factor : factors) {
                long next = curr * factor;
                if (seen.add(next)) {
                    heap.offer(next);
                }
            }
        }
        return ugly;
    }
}
```

```go [sol1-Golang]
var factors = []int{2, 3, 5}

type hp struct{ sort.IntSlice }
func (h *hp) Push(v interface{}) { h.IntSlice = append(h.IntSlice, v.(int)) }
func (h *hp) Pop() interface{}   { a := h.IntSlice; v := a[len(a)-1]; h.IntSlice = a[:len(a)-1]; return v }

func nthUglyNumber(n int) int {
    h := &hp{sort.IntSlice{1}}
    seen := map[int]struct{}{1: {}}
    for i := 1; ; i++ {
        x := heap.Pop(h).(int)
        if i == n {
            return x
        }
        for _, f := range factors {
            next := x * f
            if _, has := seen[next]; !has {
                heap.Push(h, next)
                seen[next] = struct{}{}
            }
        }
    }
}
```

```Python [sol1-Python3]
class Solution:
    def nthUglyNumber(self, n: int) -> int:
        factors = [2, 3, 5]
        seen = {1}
        heap = [1]

        for i in range(n - 1):
            curr = heapq.heappop(heap)
            for factor in factors:
                if (nxt := curr * factor) not in seen:
                    seen.add(nxt)
                    heapq.heappush(heap, nxt)

        return heapq.heappop(heap)
```

```JavaScript [sol1-JavaScript]
var nthUglyNumber = function(n) {
    const factors = [2, 3, 5];
    const seen = new Set();
    const heap = new MinHeap();
    seen.add(1);
    heap.insert(1);
    let ugly = 0;
    for (let i = 0; i < n; i++) {
        ugly = heap.pop();
        for (const factor of factors) {
            const next = ugly * factor;
            if (!seen.has(next)) {
                seen.add(next);
                heap.insert(next);
            }
        }
        
    }
    return ugly;
};

// æœ€å°å †
class MinHeap {
    constructor() {
        this.heap = [];
    }

    getParentIndex(i) {
        return (i - 1) >> 1;
    }

    getLeftIndex(i) {
        return i * 2 + 1;
    }

    getRightIndex(i) {
        return i * 2 + 2;
    }

    shiftUp(index) {
        if(index === 0) { return; }
        const parentIndex = this.getParentIndex(index);
        if(this.heap[parentIndex] > this.heap[index]){
            this.swap(parentIndex, index);
            this.shiftUp(parentIndex);
        }  
    }

    swap(i1, i2) {
        const temp = this.heap[i1];
        this.heap[i1]= this.heap[i2];
        this.heap[i2] = temp;
    }

    insert(value) {
        this.heap.push(value);
        this.shiftUp(this.heap.length - 1);
    }

    pop() {
        this.heap[0] = this.heap.pop();
        this.shiftDown(0);
        return this.heap[0];
    }

    shiftDown(index) {
        const leftIndex = this.getLeftIndex(index);
        const rightIndex = this.getRightIndex(index);
        if (this.heap[leftIndex] < this.heap[index]) {
            this.swap(leftIndex, index);
            this.shiftDown(leftIndex);
        }
        if (this.heap[rightIndex] < this.heap[index]){
            this.swap(rightIndex, index);
            this.shiftDown(rightIndex);
        }
    }

    peek() {
        return this.heap[0];
    }

    size() {
        return this.heap.length;
    }
}
```

```C++ [sol1-C++]
class Solution {
public:
    int nthUglyNumber(int n) {
        vector<int> factors = {2, 3, 5};
        unordered_set<long> seen;
        priority_queue<long, vector<long>, greater<long>> heap;
        seen.insert(1L);
        heap.push(1L);
        int ugly = 0;
        for (int i = 0; i < n; i++) {
            long curr = heap.top();
            heap.pop();
            ugly = (int)curr;
            for (int factor : factors) {
                long next = curr * factor;
                if (!seen.count(next)) {
                    seen.insert(next);
                    heap.push(next);
                }
            }
        }
        return ugly;
    }
};
```

```C [sol1-C]
#define HASH_FIND_LONG(head, findint, out) HASH_FIND(hh, head, findint, sizeof(long), out)
#define HASH_ADD_LONG(head, intfield, add) HASH_ADD(hh, head, intfield, sizeof(long), add)

struct HashTable {
    long key;
    UT_hash_handle hh;
};

void insert(struct HashTable** hashTable, long ikey) {
    struct HashTable* tmp;
    HASH_FIND_LONG(*hashTable, &ikey, tmp);
    if (tmp == NULL) {
        tmp = malloc(sizeof(struct HashTable));
        tmp->key = ikey;
        HASH_ADD_LONG(*hashTable, key, tmp);
    }
}

bool count(struct HashTable** hashTable, long ikey) {
    struct HashTable* tmp;
    HASH_FIND_LONG(*hashTable, &ikey, tmp);
    return tmp == NULL;
}

struct Heap {
    long* heap;
    int heapSize;
    bool (*cmp)(long, long);
};

void init(struct Heap* obj, int n, bool (*cmp)(long, long)) {
    obj->heap = malloc(sizeof(long) * (n + 1));
    obj->heapSize = 0;
    obj->cmp = cmp;
}

bool cmp1(long a, long b) {
    return a > b;
}

void swap(long* a, long* b) {
    long tmp = *a;
    *a = *b, *b = tmp;
}

void push(struct Heap* obj, long x) {
    int p = ++(obj->heapSize), q = p >> 1;
    obj->heap[p] = x;
    while (q) {
        if (!obj->cmp(obj->heap[q], obj->heap[p])) {
            break;
        }
        swap(&(obj->heap[q]), &(obj->heap[p]));
        p = q, q = p >> 1;
    }
}

void pop(struct Heap* obj) {
    swap(&(obj->heap[1]), &(obj->heap[(obj->heapSize)--]));
    int p = 1, q = p << 1;
    while (q <= obj->heapSize) {
        if (q + 1 <= obj->heapSize) {
            if (obj->cmp(obj->heap[q], obj->heap[q + 1])) {
                q++;
            }
        }
        if (!obj->cmp(obj->heap[p], obj->heap[q])) {
            break;
        }
        swap(&(obj->heap[q]), &(obj->heap[p]));
        p = q, q = p << 1;
    }
}

long top(struct Heap* obj) {
    return obj->heap[1];
}

bool empty(struct Heap* obj) {
    return obj->heapSize == 0;
}

int nthUglyNumber(int n) {
    int factors[3] = {2, 3, 5};
    struct HashTable* hashTable = NULL;
    insert(&hashTable, 1);
    struct Heap* heap = malloc(sizeof(struct Heap));
    init(heap, n * 3, cmp1);
    push(heap, 1);
    int ugly = 0;
    for (int i = 0; i < n; i++) {
        long curr = top(heap);
        pop(heap);
        ugly = (int)curr;
        for (int i = 0; i < 3; i++) {
            long next = curr * factors[i];
            if (count(&hashTable, next)) {
                insert(&hashTable, next);
                push(heap, next);
            }
        }
    }
    return ugly;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n \log n)$ã€‚å¾—åˆ°ç¬¬ $n$ ä¸ªä¸‘æ•°éœ€è¦è¿›è¡Œ $n$ æ¬¡å¾ªç¯ï¼Œæ¯æ¬¡å¾ªç¯éƒ½è¦ä»æœ€å°å †ä¸­å–å‡º $1$ ä¸ªå…ƒç´ ä»¥åŠå‘æœ€å°å †ä¸­åŠ å…¥æœ€å¤š $3$ ä¸ªå…ƒç´ ï¼Œå› æ­¤æ¯æ¬¡å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(\log n+\log 3n)=O(\log n)$ï¼Œæ€»æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n \log n)$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºæœ€å°å †å’Œå“ˆå¸Œé›†åˆçš„å¤§å°ï¼Œæœ€å°å †å’Œå“ˆå¸Œé›†åˆçš„å¤§å°éƒ½ä¸ä¼šè¶…è¿‡ $3n$ã€‚

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

æ–¹æ³•ä¸€ä½¿ç”¨æœ€å°å †ï¼Œä¼šé¢„å…ˆå­˜å‚¨è¾ƒå¤šçš„ä¸‘æ•°ï¼Œå¯¼è‡´ç©ºé—´å¤æ‚åº¦è¾ƒé«˜ï¼Œç»´æŠ¤æœ€å°å †çš„è¿‡ç¨‹ä¹Ÿå¯¼è‡´æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•è¿›è¡Œä¼˜åŒ–ã€‚

å®šä¹‰æ•°ç»„ $\textit{dp}$ï¼Œå…¶ä¸­ $\textit{dp}[i]$ è¡¨ç¤ºç¬¬ $i$ ä¸ªä¸‘æ•°ï¼Œç¬¬ $n$ ä¸ªä¸‘æ•°å³ä¸º $\textit{dp}[n]$ã€‚

ç”±äºæœ€å°çš„ä¸‘æ•°æ˜¯ $1$ï¼Œå› æ­¤ $\textit{dp}[1]=1$ã€‚

å¦‚ä½•å¾—åˆ°å…¶ä½™çš„ä¸‘æ•°å‘¢ï¼Ÿå®šä¹‰ä¸‰ä¸ªæŒ‡é’ˆ $p_2,p_3,p_5$ï¼Œè¡¨ç¤ºä¸‹ä¸€ä¸ªä¸‘æ•°æ˜¯å½“å‰æŒ‡é’ˆæŒ‡å‘çš„ä¸‘æ•°ä¹˜ä»¥å¯¹åº”çš„è´¨å› æ•°ã€‚åˆå§‹æ—¶ï¼Œä¸‰ä¸ªæŒ‡é’ˆçš„å€¼éƒ½æ˜¯ $1$ã€‚

å½“ $2 \le i \le n$ æ—¶ï¼Œä»¤ $\textit{dp}[i]=\min(\textit{dp}[p_2] \times 2, \textit{dp}[p_3] \times 3, \textit{dp}[p_5] \times 5)$ï¼Œç„¶ååˆ†åˆ«æ¯”è¾ƒ $\textit{dp}[i]$ å’Œ $\textit{dp}[p_2],\textit{dp}[p_3],\textit{dp}[p_5]$ æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰åˆ™å°†å¯¹åº”çš„æŒ‡é’ˆåŠ  $1$ã€‚

**æ­£ç¡®æ€§è¯æ˜**

å¯¹äº $i>1$ï¼Œåœ¨è®¡ç®— $\textit{dp}[i]$ æ—¶ï¼ŒæŒ‡é’ˆ $p_x(x \in \{2,3,5\})$ çš„å«ä¹‰æ˜¯ä½¿å¾— $\textit{dp}[j] \times x>\textit{dp}[i-1]$ çš„æœ€å°çš„ä¸‹æ ‡ $j$ï¼Œå³å½“ $j \ge p_x$ æ—¶ $\textit{dp}[j] \times x>\textit{dp}[i-1]$ï¼Œå½“ $j<p_x$ æ—¶ $\textit{dp}[j] \times x \le \textit{dp}[i-1]$ã€‚

å› æ­¤ï¼Œå¯¹äº $i>1$ï¼Œåœ¨è®¡ç®— $\textit{dp}[i]$ æ—¶ï¼Œ$\textit{dp}[p_2] \times 2,\textit{dp}[p_3] \times 3,\textit{dp}[p_5] \times 5$ éƒ½å¤§äº $\textit{dp}[i-1]$ï¼Œ$\textit{dp}[p_2-1] \times 2,\textit{dp}[p_3-1] \times 3,\textit{dp}[p_5-1] \times 5$ éƒ½å°äºæˆ–ç­‰äº $\textit{dp}[i-1]$ã€‚ä»¤ $\textit{dp}[i]=\min(\textit{dp}[p_2] \times 2, \textit{dp}[p_3] \times 3, \textit{dp}[p_5] \times 5)$ï¼Œåˆ™ $\textit{dp}[i]>\textit{dp}[i-1]$ ä¸” $\textit{dp}[i]$ æ˜¯å¤§äº $\textit{dp}[i-1]$ çš„æœ€å°çš„ä¸‘æ•°ã€‚

åœ¨è®¡ç®— $\textit{dp}[i]$ ä¹‹åï¼Œä¼šæ›´æ–°ä¸‰ä¸ªæŒ‡é’ˆ $p_2,p_3,p_5$ï¼Œæ›´æ–°ä¹‹åçš„æŒ‡é’ˆå°†ç”¨äºè®¡ç®— $\textit{dp}[i+1]$ï¼ŒåŒæ ·æ»¡è¶³ $\textit{dp}[i+1]>\textit{dp}[i]$ ä¸” $\textit{dp}[i+1]$ æ˜¯å¤§äº $\textit{dp}[i]$ çš„æœ€å°çš„ä¸‘æ•°ã€‚

<![ppt1](https://assets.leetcode-cn.com/solution-static/264/p1.png),![ppt2](https://assets.leetcode-cn.com/solution-static/264/p2.png),![ppt3](https://assets.leetcode-cn.com/solution-static/264/p3.png),![ppt4](https://assets.leetcode-cn.com/solution-static/264/p4.png),![ppt5](https://assets.leetcode-cn.com/solution-static/264/p5.png)>

```Java [sol2-Java]
class Solution {
    public int nthUglyNumber(int n) {
        int[] dp = new int[n + 1];
        dp[1] = 1;
        int p2 = 1, p3 = 1, p5 = 1;
        for (int i = 2; i <= n; i++) {
            int num2 = dp[p2] * 2, num3 = dp[p3] * 3, num5 = dp[p5] * 5;
            dp[i] = Math.min(Math.min(num2, num3), num5);
            if (dp[i] == num2) {
                p2++;
            }
            if (dp[i] == num3) {
                p3++;
            }
            if (dp[i] == num5) {
                p5++;
            }
        }
        return dp[n];
    }
}
```

```JavaScript [sol2-JavaScript]
var nthUglyNumber = function(n) {
    const dp = new Array(n + 1).fill(0);
    dp[1] = 1;
    let p2 = 1, p3 = 1, p5 = 1;
    for (let i = 2; i <= n; i++) {
        const num2 = dp[p2] * 2, num3 = dp[p3] * 3, num5 = dp[p5] * 5;
        dp[i] = Math.min(Math.min(num2, num3), num5);
        if (dp[i] === num2) {
            p2++;
        }
        if (dp[i] === num3) {
            p3++;
        }
        if (dp[i] === num5) {
            p5++;
        }
    }
    return dp[n];
};
```

```go [sol2-Golang]
func nthUglyNumber(n int) int {
    dp := make([]int, n+1)
    dp[1] = 1
    p2, p3, p5 := 1, 1, 1
    for i := 2; i <= n; i++ {
        x2, x3, x5 := dp[p2]*2, dp[p3]*3, dp[p5]*5
        dp[i] = min(min(x2, x3), x5)
        if dp[i] == x2 {
            p2++
        }
        if dp[i] == x3 {
            p3++
        }
        if dp[i] == x5 {
            p5++
        }
    }
    return dp[n]
}

func min(a, b int) int {
    if a < b {
        return a
    }
    return b
}
```

```Python [sol2-Python3]
class Solution:
    def nthUglyNumber(self, n: int) -> int:
        dp = [0] * (n + 1)
        dp[1] = 1
        p2 = p3 = p5 = 1

        for i in range(2, n + 1):
            num2, num3, num5 = dp[p2] * 2, dp[p3] * 3, dp[p5] * 5
            dp[i] = min(num2, num3, num5)
            if dp[i] == num2:
                p2 += 1
            if dp[i] == num3:
                p3 += 1
            if dp[i] == num5:
                p5 += 1
        
        return dp[n]
```

```C++ [sol2-C++]
class Solution {
public:
    int nthUglyNumber(int n) {
        vector<int> dp(n + 1);
        dp[1] = 1;
        int p2 = 1, p3 = 1, p5 = 1;
        for (int i = 2; i <= n; i++) {
            int num2 = dp[p2] * 2, num3 = dp[p3] * 3, num5 = dp[p5] * 5;
            dp[i] = min(min(num2, num3), num5);
            if (dp[i] == num2) {
                p2++;
            }
            if (dp[i] == num3) {
                p3++;
            }
            if (dp[i] == num5) {
                p5++;
            }
        }
        return dp[n];
    }
};
```

```C [sol2-C]
int nthUglyNumber(int n) {
    int dp[n + 1];
    dp[1] = 1;
    int p2 = 1, p3 = 1, p5 = 1;
    for (int i = 2; i <= n; i++) {
        int num2 = dp[p2] * 2, num3 = dp[p3] * 3, num5 = dp[p5] * 5;
        dp[i] = fmin(fmin(num2, num3), num5);
        if (dp[i] == num2) {
            p2++;
        }
        if (dp[i] == num3) {
            p3++;
        }
        if (dp[i] == num5) {
            p5++;
        }
    }
    return dp[n];
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚éœ€è¦è®¡ç®—æ•°ç»„ $\textit{dp}$ ä¸­çš„ $n$ ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ çš„è®¡ç®—éƒ½å¯ä»¥åœ¨ $O(1)$ çš„æ—¶é—´å†…å®Œæˆã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºæ•°ç»„ $\textit{dp}$ çš„å¤§å°ã€‚