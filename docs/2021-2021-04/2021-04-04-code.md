# 2021å¹´04æœˆ04æ—¥ code
<a href="https://toutiao.io/k/bh32yol">58 åŒåŸ App æ€§èƒ½æ²»ç†å®è·µï¼šiOS å¯åŠ¨æ—¶é—´ä¼˜åŒ–</a><br /><a href="https://toutiao.io/k/s8q5qn3">Etcd åˆ†å¸ƒå¼é”å†…å­˜æ³„éœ²</a><br /><a href="https://toutiao.io/k/k23mell">åŸºäº Redis çš„åä¸šåŠ¡åº”ç”¨çš„åˆ†å¸ƒå¼é™æµç»„ä»¶</a><br /><a href="https://toutiao.io/k/1ufc5cn">ææ‡‚ ThreadLocal</a><br /><a href="https://toutiao.io/k/v0y3otx">ä½¿ç”¨ç«ç„°å›¾å®šä½ OLAP å¼•æ“ç“¶é¢ˆ</a><br /><a href="https://toutiao.io/k/jtz7p3i">å¦‚ä½•è´­ä¹°ä¸€æœ¬ä¹¦ï¼Ÿ</a><br /><a href="https://toutiao.io/k/tt8a7m6">[è¯‘] ä½•æ—¶ä½¿ç”¨ Rustï¼Ÿä½•æ—¶ä½¿ç”¨ Goï¼Ÿ</a><br /><a href="https://toutiao.io/k/eihymr1">Dokka è®¾ç½®åŒ…æè¿°ï¼Œè®©ä½ çš„ Kotlin åº“æ–‡æ¡£æ›´è¯¦å®</a><br /><a href="https://toutiao.io/k/pqyobsu">Kubernetes Deployment æ»šåŠ¨æ›´æ–°åŸç†è§£æ</a><br /><a href="https://toutiao.io/k/5eks2bi">å¯¹è¯ Tetrate.io åˆ›å§‹å·¥ç¨‹å¸ˆå´æ™Ÿï¼šå¼€æºé¢†åŸŸéœ€è¦ 40+ çš„å¼€å‘è€…ï¼Œä¹Ÿéœ€è¦æ›´å¼ æ‰¬çš„å¹´è½»äºº</a><br /><a href="https://toutiao.io/k/sso4l2l">[æ¨è] æˆ‘åœ¨æ¶æ„è®¾è®¡å’Œä»£ç å¼€å‘ä¸­çš„ä¸€äº›å¸¸ç”¨åŸåˆ™</a><br /><a href="https://toutiao.io/k/f0361xm">[æ¨è] é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯æ¥å£çš„å¹‚ç­‰æ€§ï¼Ÿ</a><br /><a href="https://toutiao.io/k/ny7vvdw">[æ¨è] ä¸‡å­—è¯¦è§£æ•´ä¸ªæ•°æ®ä»“åº“å»ºè®¾ä½“ç³»</a><br /><a href="https://toutiao.io/k/pufqjt0">[æ¨è] GitHub å¤ªæ…¢ï¼Ÿ9 ç§æ–¹æ¡ˆå¯æé€Ÿ</a><br /><a href="https://toutiao.io/k/47wemjf">[æ¨è] è¶…å®ç”¨çš„ IDEA æ’ä»¶æ¨èï¼ç™¾ä¸‡çº§ä¸‹è½½é‡</a><br /><a href="https://toutiao.io/k/mvtejua">[æ¨è] ä¹¦å•ï¼šäº’è”ç½‘ä¼ä¸šé¢è¯•æ¡ˆå¤´ä¹¦ä¹‹æ¶æ„å¸ˆç¯‡</a><br /><a href="https://toutiao.io/k/cifpaoe">[æ¨è] å¦‚ä½•åƒé€ä¸€ä¸ª Java é¡¹ç›®ï¼Ÿï¼ˆé™„å­¦ä¹ å®è·µï¼‰</a><br /><a href="https://toutiao.io/k/v9aar7o">[æ¨è] è¿™ 30 ä¸ªæˆ‘ç²¾é€‰çš„å«ç­”æ¡ˆçš„é¢è¯•é¢˜ï¼Œç¡¬ä¸ç¡¬ä½ è¯´å§</a><br /><a href="https://toutiao.io/k/vulmd0h">[æ¨è] æµ…è°ˆåˆ†åº“åˆ†è¡¨é‚£äº›äº‹å„¿</a><br /><a href="https://toutiao.io/k/2qkwu5f">[æ¨è] Spring Boot ä¸­ä¼˜é›…çš„ä½¿ç”¨ Swagger 2ï¼ˆå²ä¸Šæœ€å…¨æ³¨è§£ç¯‡ï¼‰</a><br /><a href="https://toutiao.io/k/nu45i3g">[æ¨è] æ¶æ„å®è·µå…¨æ™¯å›¾</a><br /><a href="https://toutiao.io/k/adg4qv6">[æ¨è] Redis åˆ†å¸ƒå¼é”é‡åˆ°çš„åºåˆ—åŒ–é—®é¢˜</a><br /><a href="https://toutiao.io/k/ukg83qx">[æ¨è] å€¼å¾—æ‹¥æœ‰çš„æ‰‹ç»˜é£æ ¼ç”»å›¾å·¥å…·</a><br /><hr /><a href="https://github.com/johnBuffer/AntSimulator">Simple Ants simulator</a><br /><a href="https://github.com/catchorg/Catch2">A modern, C++-native, header-only, test framework for unit-tests, TDD and BDD - using C++11, C++14, C++17 and later (or C++03 on the Catch1.x branch)</a><br /><a href="https://github.com/KevinOConnor/klipper">Klipper is a 3d-printer firmware</a><br /><a href="https://github.com/pinterest/querybook">Querybook is a Big Data Querying UI, combining collocated table metadata and a simple notebook interface.</a><br /><a href="https://github.com/chartjs/Chart.js">Simple HTML5 Charts using the <canvas> tag</a><br /><a href="https://github.com/login?return_to=%2Fsindresorhus%2Fawesome">ğŸ˜ Awesome lists about all kinds of interesting topics</a><br /><a href="https://github.com/jwasham/coding-interview-university">A complete computer science study plan to become a software engineer.</a><br /><a href="https://github.com/AcalaNetwork/Acala">Acala - cross-chain DeFi hub and stablecoin based on Substrate for Polkadot and Kusama.</a><br /><a href="https://github.com/nicehash/NiceHashQuickMiner">Super simple & easy Windows 10 cryptocurrency miner made by NiceHash.</a><br /><a href="https://github.com/btcpayserver/btcpayserver">Accept Bitcoin payments. Free, open-source & self-hosted, Bitcoin payment processor.</a><br /><a href="https://github.com/appsmithorg/appsmith">Use Appsmith to build and self-host your internal apps. Create UI that connects to any database or API.</a><br /><a href="https://github.com/orpatashnik/StyleCLIP"></a><br /><a href="https://github.com/john-smilga/node-express-course"></a><br /><a href="https://github.com/RiotVanguard/Vanguard">Official Vanguard Anti-Cheat source code.</a><br /><a href="https://github.com/archlinux/archinstall">Arch Linux installer - guided, templates etc.</a><br /><a href="https://github.com/merry75/educative.io_courses">this is downloadings of all educative.io free student subscription courses as pdf from GitHub student pack</a><br /><a href="https://github.com/dotnet/runtime">.NET is a cross-platform runtime for cloud, mobile, desktop, and IoT apps.</a><br /><a href="https://github.com/protocolbuffers/protobuf">Protocol Buffers - Google's data interchange format</a><br /><a href="https://github.com/mytechnotalent/Reverse-Engineering">A FREE comprehensive reverse engineering course covering x86, x64, 32-bit ARM & 64-bit ARM architectures.</a><br /><a href="https://github.com/discordjs/discord.js">A powerful JavaScript library for interacting with the Discord API</a><br /><a href="https://github.com/jvns/dnspeep">spy on the DNS queries your computer is making</a><br /><a href="https://github.com/ytdl-org/youtube-dl">Command-line program to download videos from YouTube.com and other video sites</a><br /><a href="https://github.com/facebookresearch/madgrad">MADGRAD Optimization Method</a><br /><a href="https://github.com/GUI/covid-vaccine-spotter"></a><br /><a href="https://github.com/itdevbooks/pdf">ç¼–ç¨‹ç”µå­ä¹¦ï¼Œç”µå­ä¹¦ï¼Œç¼–ç¨‹ä¹¦ç±ï¼ŒåŒ…æ‹¬Cï¼ŒC#ï¼ŒDockerï¼ŒElasticsearchï¼ŒGitï¼ŒHadoopï¼ŒHeadFirstï¼ŒJavaï¼ŒJavascriptï¼Œjvmï¼ŒKafkaï¼ŒLinuxï¼ŒMavenï¼ŒMongoDBï¼ŒMyBatisï¼ŒMySQLï¼ŒNettyï¼ŒNginxï¼ŒPythonï¼ŒRabbitMQï¼ŒRedisï¼ŒScalaï¼ŒSolrï¼ŒSparkï¼ŒSpringï¼ŒSpringBootï¼ŒSpringCloudï¼ŒTCPIPï¼ŒTomcatï¼ŒZookeeperï¼Œäººå·¥æ™ºèƒ½ï¼Œå¤§æ•°æ®ç±»ï¼Œå¹¶å‘ç¼–ç¨‹ï¼Œæ•°æ®åº“ç±»ï¼Œæ•°æ®æŒ–æ˜ï¼Œæ–°é¢è¯•é¢˜ï¼Œæ¶æ„è®¾è®¡ï¼Œç®—æ³•ç³»åˆ—ï¼Œè®¡ç®—æœºç±»ï¼Œè®¾è®¡æ¨¡å¼ï¼Œè½¯ä»¶æµ‹è¯•ï¼Œé‡æ„ä¼˜åŒ–ï¼Œç­‰æ›´å¤šåˆ†ç±»</a><br /><hr />æ£®æ—ä¸­çš„å…”å­<br /><p>æ£®æ—ä¸­ï¼Œæ¯ä¸ªå…”å­éƒ½æœ‰é¢œè‰²ã€‚å…¶ä¸­ä¸€äº›å…”å­ï¼ˆå¯èƒ½æ˜¯å…¨éƒ¨ï¼‰å‘Šè¯‰ä½ è¿˜æœ‰å¤šå°‘å…¶ä»–çš„å…”å­å’Œè‡ªå·±æœ‰ç›¸åŒçš„é¢œè‰²ã€‚æˆ‘ä»¬å°†è¿™äº›å›ç­”æ”¾åœ¨&nbsp;<code>answers</code>&nbsp;æ•°ç»„é‡Œã€‚</p>

<p>è¿”å›æ£®æ—ä¸­å…”å­çš„æœ€å°‘æ•°é‡ã€‚</p>

<pre>
<strong>ç¤ºä¾‹:</strong>
<strong>è¾“å…¥:</strong> answers = [1, 1, 2]
<strong>è¾“å‡º:</strong> 5
<strong>è§£é‡Š:</strong>
ä¸¤åªå›ç­”äº† &quot;1&quot; çš„å…”å­å¯èƒ½æœ‰ç›¸åŒçš„é¢œè‰²ï¼Œè®¾ä¸ºçº¢è‰²ã€‚
ä¹‹åå›ç­”äº† &quot;2&quot; çš„å…”å­ä¸ä¼šæ˜¯çº¢è‰²ï¼Œå¦åˆ™ä»–ä»¬çš„å›ç­”ä¼šç›¸äº’çŸ›ç›¾ã€‚
è®¾å›ç­”äº† &quot;2&quot; çš„å…”å­ä¸ºè“è‰²ã€‚
æ­¤å¤–ï¼Œæ£®æ—ä¸­è¿˜åº”æœ‰å¦å¤– 2 åªè“è‰²å…”å­çš„å›ç­”æ²¡æœ‰åŒ…å«åœ¨æ•°ç»„ä¸­ã€‚
å› æ­¤æ£®æ—ä¸­å…”å­çš„æœ€å°‘æ•°é‡æ˜¯ 5: 3 åªå›ç­”çš„å’Œ 2 åªæ²¡æœ‰å›ç­”çš„ã€‚

<strong>è¾“å…¥:</strong> answers = [10, 10, 10]
<strong>è¾“å‡º:</strong> 11

<strong>è¾“å…¥:</strong> answers = []
<strong>è¾“å‡º:</strong> 0
</pre>

<p><strong>è¯´æ˜:</strong></p>

<ol>
	<li><code>answers</code>&nbsp;çš„é•¿åº¦æœ€å¤§ä¸º<code>1000</code>ã€‚</li>
	<li><code>answers[i]</code>&nbsp;æ˜¯åœ¨&nbsp;<code>[0, 999]</code>&nbsp;èŒƒå›´å†…çš„æ•´æ•°ã€‚</li>
</ol>
<br />#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ

**æ€è·¯**

ä¸¤åªç›¸åŒé¢œè‰²çš„å…”å­çœ‹åˆ°çš„å…¶ä»–åŒè‰²å…”å­æ•°å¿…ç„¶æ˜¯ç›¸åŒçš„ã€‚åä¹‹ï¼Œè‹¥ä¸¤åªå…”å­çœ‹åˆ°çš„å…¶ä»–åŒè‰²å…”å­æ•°ä¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤åªå…”å­é¢œè‰²ä¹Ÿä¸åŒã€‚

å› æ­¤ï¼Œå°† $\textit{answers}$ ä¸­å€¼ç›¸åŒçš„å…ƒç´ åˆ†ä¸ºä¸€ç»„ï¼Œå¯¹äºæ¯ä¸€ç»„ï¼Œè®¡ç®—å‡ºå…”å­çš„æœ€å°‘æ•°é‡ï¼Œç„¶åå°†æ‰€æœ‰ç»„çš„è®¡ç®—ç»“æœç´¯åŠ ï¼Œå°±æ˜¯æœ€ç»ˆçš„ç­”æ¡ˆã€‚

ä¾‹å¦‚ï¼Œç°åœ¨æœ‰ $13$ åªå…”å­å›ç­” $5$ã€‚å‡è®¾å…¶ä¸­æœ‰ä¸€åªçº¢è‰²çš„å…”å­ï¼Œé‚£ä¹ˆæ£®æ—ä¸­å¿…ç„¶æœ‰ $6$ åªçº¢å…”å­ã€‚å†å‡è®¾å…¶ä¸­è¿˜æœ‰ä¸€åªè“è‰²çš„å…”å­ï¼ŒåŒæ ·çš„é“ç†æ£®æ—ä¸­å¿…ç„¶æœ‰ $6$ åªè“å…”å­ã€‚ä¸ºäº†æœ€å°åŒ–å¯èƒ½çš„å…”å­æ•°é‡ï¼Œæˆ‘ä»¬å‡è®¾è¿™ $12$ åªå…”å­éƒ½åœ¨è¿™ $13$ åªå…”å­ä¸­ã€‚é‚£ä¹ˆè¿˜æœ‰ä¸€åªé¢å¤–çš„å…”å­å›ç­” $5$ï¼Œè¿™åªå…”å­åªèƒ½æ˜¯å…¶ä»–çš„é¢œè‰²ï¼Œè¿™ä¸€é¢œè‰²çš„å…”å­ä¹Ÿæœ‰ $6$ åªã€‚å› æ­¤è¿™ç§æƒ…å†µä¸‹æœ€å°‘ä¼šæœ‰ $18$ åªå…”å­ã€‚

ä¸€èˆ¬åœ°ï¼Œå¦‚æœæœ‰ $x$ åªå…”å­éƒ½å›ç­” $y$ï¼Œåˆ™è‡³å°‘æœ‰ $\lceil\dfrac{x}{y+1}\rceil$ ç§ä¸åŒçš„é¢œè‰²ï¼Œä¸”æ¯ç§é¢œè‰²æœ‰ $y+1$ åªå…”å­ï¼Œå› æ­¤å…”å­æ•°è‡³å°‘ä¸º 

$$\lceil\dfrac{x}{y+1}\rceil\cdot(y+1)$$

æˆ‘ä»¬å¯ä»¥ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡ $\textit{answers}$ ä¸­å„ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°ï¼Œå¯¹æ¯ä¸ªå…ƒç´ å¥—ç”¨ä¸Šè¿°å…¬å¼è®¡ç®—ï¼Œå¹¶å°†è®¡ç®—ç»“æœç´¯åŠ ï¼Œå³ä¸ºæœ€ç»ˆç­”æ¡ˆã€‚

**ä»£ç **

```C++ [sol1-C++]
class Solution {
public:
    int numRabbits(vector<int> &answers) {
        unordered_map<int, int> count;
        for (int y : answers) {
            ++count[y];
        }
        int ans = 0;
        for (auto &[y, x] : count) {
            ans += (x + y) / (y + 1) * (y + 1);
        }
        return ans;
    }
};
```

```Java [sol1-Java]
class Solution {
    public int numRabbits(int[] answers) {
        Map<Integer, Integer> count = new HashMap<Integer, Integer>();
        for (int y : answers) {
            count.put(y, count.getOrDefault(y, 0) + 1);
        }
        int ans = 0;
        for (Map.Entry<Integer, Integer> entry : count.entrySet()) {
            int y = entry.getKey(), x = entry.getValue();
            ans += (x + y) / (y + 1) * (y + 1);
        }
        return ans;
    }
}
```

```go [sol1-Golang]
func numRabbits(answers []int) (ans int) {
    count := map[int]int{}
    for _, y := range answers {
        count[y]++
    }
    for y, x := range count {
        ans += (x + y) / (y + 1) * (y + 1)
    }
    return
}
```

```JavaScript [sol1-JavaScript]
var numRabbits = function(answers) {
    const count = new Map();
    for (const y of answers) {
        count.set(y, (count.get(y) || 0) + 1);
    }
    let ans = 0;
    for (const [y, x] of count.entries()) {
        ans += Math.floor((x + y) / (y + 1)) * (y + 1);
    }
    return ans;
};
```

```Python [sol1-Python3]
class Solution:
    def numRabbits(self, answers: List[int]) -> int:
        count = Counter(answers)
        ans = sum((x + y) // (y + 1) * (y + 1) for y, x in count.items())
        return ans
```

```C [sol1-C]
struct HashTable {
    int key;
    int val;
    UT_hash_handle hh;
};

int numRabbits(int* answers, int answersSize) {
    struct HashTable* hashTable = NULL;
    for (int i = 0; i < answersSize; i++) {
        struct HashTable* tmp;
        HASH_FIND_INT(hashTable, &answers[i], tmp);
        if (tmp == NULL) {
            tmp = malloc(sizeof(struct HashTable));
            tmp->key = answers[i];
            tmp->val = 1;
            HASH_ADD_INT(hashTable, key, tmp);
        } else {
            tmp->val++;
        }
    }
    int ans = 0;
    struct HashTable *iter, *tmp;
    HASH_ITER(hh, hashTable, iter, tmp) {
        int x = iter->val, y = iter->key;
        ans += (x + y) / (y + 1) * (y + 1);
    }
    return ans;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„ $\textit{answers}$ çš„é•¿åº¦ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚æœ€åæƒ…å†µä¸‹ï¼Œå“ˆå¸Œè¡¨ä¸­å«æœ‰ $n$ ä¸ªå…ƒç´ ã€‚