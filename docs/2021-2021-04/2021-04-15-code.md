# 2021å¹´04æœˆ15æ—¥ code
<a href="https://toutiao.io/k/omkb9gy">InnoDB è§£å†³å¹»è¯»çš„æ–¹æ¡ˆï¼šLBCC & MVCC</a><br /><a href="https://toutiao.io/k/811or1j">å­¦ä¼šè¿™ 10 ç§å®šæ—¶ä»»åŠ¡ï¼Œæˆ‘æœ‰ç‚¹é£˜äº†</a><br /><a href="https://toutiao.io/k/rz5gehp">æ¥å£æµ‹è¯•ç»“æœå­—æ®µå¤ªå¤šï¼Œæ–­è¨€çƒ¦ä¸èƒœçƒ¦ï¼ŒDeepDiff å¸®ä½ ä¸€é”®æå®š</a><br /><a href="https://toutiao.io/k/o4pjxdm">å®æ“ï¼šå¦‚ä½•å°† Containerd ç”¨ä½œ Kubernetes runtime</a><br /><a href="https://toutiao.io/k/6a0hddg">Conda ç®€æ˜ä½¿ç”¨æŒ‡å—</a><br /><a href="https://toutiao.io/k/i52m574">ä½ çŸ¥é“å¨èƒæ‰‹æ¸¸å®‰å…¨çš„å¯¹è±¡æœ‰å“ªäº›å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/jen5rcs">Kafka æ¶ˆæ¯å­˜å‚¨æœºåˆ¶</a><br /><a href="https://toutiao.io/k/vcpcgop">ä½¿ç”¨ npm å‘½ä»¤è¡Œæ›´æ–°ç‰ˆæœ¬å·</a><br /><a href="https://toutiao.io/k/k5cbxm5">ç¼–ç ç¼–æˆç¿”çš„åå…«èˆ¬å…µå™¨</a><br /><a href="https://toutiao.io/k/p3nl5uo">ä¸¤ä¸‡å­—æ€»ç»“ã€ŠC++ Primerã€‹è¦ç‚¹</a><br /><a href="https://toutiao.io/k/3io59y9">Dubbo ç¼–è§£ç é‚£äº›äº‹</a><br /><a href="https://toutiao.io/k/f2sy94i">æˆ‘å«å° Mï¼Œç«‹å¿—å»ºç«‹ MySQL å¸å›½</a><br /><a href="https://toutiao.io/k/py1bkby">æŠ–éŸ³ iOS å·¥ç¨‹æ¶æ„æ¼”è¿›</a><br /><a href="https://toutiao.io/k/3e97p0w">æµ…è°ˆäº‘åŸç”Ÿç³»ç»Ÿæ—¥å¿—æ”¶é›†åœ¨æ•°æ ˆçš„å®è·µ </a><br /><a href="https://toutiao.io/k/k6fc46h">åŸºäº CNN + åŒå‘ LSTM çš„æ­é…ç”Ÿæˆç®—æ³•</a><br /><a href="https://toutiao.io/k/mwpeytt">x64 å¹³å°ä¸‹ inline hook çš„åŸç†ã€å®ç°ä¸é˜²å¾¡</a><br /><a href="https://toutiao.io/k/zvtbrf9">å¦‚ä½•é€šè¿‡ aop + spel è¡¨è¾¾å¼ç©è½¬å‡ºä¸ä¸€æ ·çš„åˆ‡é¢å®ç°</a><br /><a href="https://toutiao.io/k/s0m1xsa">ç¾å›½ï¼Œä¸ºä¸­å›½ â€œé€â€ æ¥å…‰åˆ»æœº</a><br /><a href="https://toutiao.io/k/t9n0w18">å®æ—¶ OLAPï¼Œ ä» 0 åˆ° 1</a><br /><a href="https://toutiao.io/k/xj1zsqh">æ¶æ„è®¾è®¡ç¬”è®°ï¼ˆåäº”ï¼‰ï¼šå…³é”®æ¨¡å¼_å¾®æœåŠ¡</a><br /><a href="https://toutiao.io/k/we8gr61">[æ¨è] ä»éœ€æ±‚å‡ºå‘è®¾è®¡ä¸€æ¡å¼€æºæŒç»­éƒ¨ç½²æµæ°´çº¿</a><br /><a href="https://toutiao.io/k/pmlwnuy">[æ¨è] æœ‰å“ªäº›å¯ä»¥æé«˜ä»£ç è´¨é‡çš„ä¹¦ç±æ¨èï¼Ÿ</a><br /><a href="https://toutiao.io/k/0yy2iga">[æ¨è] [è¯‘] Uberï¼šé¢å‘é¢†åŸŸçš„å¾®æœåŠ¡æ¶æ„</a><br /><a href="https://toutiao.io/k/gauwubg">[æ¨è] æˆ‘å¾ˆä¹…æ²¡å†™ä»£ç äº†ï¼Œä½†æˆ‘æ˜¯ä¸ªå¥½æ¶æ„å¸ˆ</a><br /><a href="https://toutiao.io/k/bi1fr9y">[æ¨è] ç äº‘ Giteeï¼šé«˜å¹¶å‘å¤§å­˜å‚¨ä¸‹çš„æ¶æ„æ¼”è¿›ä¹‹è·¯</a><br /><a href="https://toutiao.io/k/6jo6q1t">[æ¨è] Go åº”ç”¨ä¼˜åŒ–æŒ‡åŒ—</a><br /><a href="https://toutiao.io/k/oa4amzb">[æ¨è] ä½¿ç”¨ Git ä¸¢å¤±ä»£ç çš„ N ç§æ“ä½œï¼Œæ‚¨ä¸­æ‹›äº†å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/hti1ill">[æ¨è] å…¶å®ï¼Œæ¯æ¬¡é¢è¯•çš„é—®é¢˜éƒ½é€ƒä¸è¿‡è¿™å‡ æ–¹é¢</a><br /><a href="https://toutiao.io/k/906zu1i">[æ¨è] æ•™ä½ ä»å¤´å†™æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶</a><br /><a href="https://toutiao.io/k/9uox6mg">[æ¨è] 21 å¼ å›¾è¯¦è§£ç½‘ç»œåŸºç¡€çŸ¥è¯†</a><br /><a href="https://toutiao.io/k/ygnbct1">[æ¨è] GitHub åŠ é€ŸæŒ‡å—è¿›é˜¶ç‰ˆ</a><br /><a href="https://toutiao.io/k/zdnq3fy">[æ¨è] è¸©å‘ MySQL ç´¢å¼•ï¼Œçœ‹çœ‹ä½ çœŸçš„ä¼šç”¨å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/romtfff">[æ¨è] å›¾æ–‡è¯¦è§£ Java å¯¹è±¡å†…å­˜å¸ƒå±€</a><br /><a href="https://toutiao.io/k/iyge3cy">[æ¨è] å²ä¸Šæœ€å…¨æ•™ç¨‹ï¼šidea å°† Java é¡¹ç›®æ‰“åŒ… Jar åŒ…ï¼Œå¹¶ç”Ÿæˆ exe å¯æ‰§è¡Œæ–‡ä»¶</a><br /><hr /><a href="https://github.com/r4j0x00/exploits"></a><br /><a href="https://github.com/microsoft/Swin-Transformer">This is an official implementation for "Swin Transformer: Hierarchical Vision Transformer using Shifted Windows".</a><br /><a href="https://github.com/Light-City/CPlusPlusThings">C++é‚£äº›äº‹</a><br /><a href="https://github.com/opensearch-project/OpenSearch">Open source distributed and RESTful search engine.</a><br /><a href="https://github.com/tailwindlabs/headlessui">Completely unstyled, fully accessible UI components, designed to integrate beautifully with Tailwind CSS.</a><br /><a href="https://github.com/d2l-ai/d2l-zh">ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹ï¼šé¢å‘ä¸­æ–‡è¯»è€…ã€èƒ½è¿è¡Œã€å¯è®¨è®ºã€‚ä¸­è‹±æ–‡ç‰ˆè¢«å…¨çƒ175æ‰€å¤§å­¦é‡‡ç”¨æ•™å­¦ã€‚</a><br /><a href="https://github.com/bradtraversy/vanillawebprojects">Mini projects built with HTML5, CSS & JavaScript. No frameworks or libraries</a><br /><a href="https://github.com/tauri-apps/tauri">Build smaller, faster, and more secure desktop applications with a web frontend.</a><br /><a href="https://github.com/opensearch-project/OpenSearch-Dashboards">Open source visualization dashboards for OpenSearch.</a><br /><a href="https://github.com/DidierRLopes/GamestonkTerminal">The next best thing after Bloomberg Terminal</a><br /><a href="https://github.com/PaddlePaddle/PaddleOCR">Awesome multilingual OCR toolkits based on PaddlePaddle ï¼ˆpractical ultra lightweight OCR system, provide data annotation and synthesis tools, support training and deployment among server, mobile, embedded and IoT devicesï¼‰</a><br /><a href="https://github.com/pamoroso/free-python-books">Python books free to read online or download</a><br /><a href="https://github.com/thedevdojo/wave">Wave - The Software as a Service Starter Kit, designed to help you build the SAAS of your dreams ğŸš€ ğŸ’°</a><br /><a href="https://github.com/easychen/one-person-businesses-methodology">ä¸€äººå…¬å¸æ–¹æ³•è®º</a><br /><a href="https://github.com/Chia-Network/chia-blockchain">Chia blockchain python implementation (full node, farmer, harvester, timelord, and wallet)</a><br /><a href="https://github.com/nordicgiant2/awesome-landing-page">A series of beautiful and practical landing page templates</a><br /><a href="https://github.com/mikepound/enigma">A java implementation of Enigma, and a modern attack to decrypt it.</a><br /><a href="https://github.com/academind/react-complete-guide-code">Code snapshots and materials for our "React - The Complete Guide" course (https://acad.link/reactjs)</a><br /><a href="https://github.com/lindelof/awesome-web-effect">A series of exquisite and compact web page cool effects</a><br /><a href="https://github.com/semi-technologies/weaviate">Weaviate is a cloud-native, modular, real-time vector search engine</a><br /><a href="https://github.com/qiurunze123/miaosha">â­â­â­â­ç§’æ€ç³»ç»Ÿè®¾è®¡ä¸å®ç°.äº’è”ç½‘å·¥ç¨‹å¸ˆè¿›é˜¶ä¸åˆ†æğŸ™‹ğŸ“</a><br /><a href="https://github.com/Serial-Studio/Serial-Studio">Multi-purpose serial data visualization & processing program</a><br /><a href="https://github.com/huggingface/transformers">ğŸ¤—Transformers: State-of-the-art Natural Language Processing for Pytorch and TensorFlow 2.0.</a><br /><a href="https://github.com/login?return_to=%2Fnlohmann%2Fjson">JSON for Modern C++</a><br /><a href="https://github.com/login?return_to=%2Ffoxlet%2FmacOS-Simple-KVM">Tools to set up a quick macOS VM in QEMU, accelerated by KVM.</a><br /><hr />æ‰“å®¶åŠ«èˆ II<br /><p>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ï¼Œæ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚è¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æˆ¿å±‹éƒ½ <strong>å›´æˆä¸€åœˆ</strong> ï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å±‹å’Œæœ€åä¸€ä¸ªæˆ¿å±‹æ˜¯ç´§æŒ¨ç€çš„ã€‚åŒæ—¶ï¼Œç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ<strong>å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦</strong> ã€‚</p>

<p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  <strong>åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹</strong> ï¼Œèƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹Â 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [2,3,2]
<strong>è¾“å‡ºï¼š</strong>3
<strong>è§£é‡Šï¼š</strong>ä½ ä¸èƒ½å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰, å› ä¸ºä»–ä»¬æ˜¯ç›¸é‚»çš„ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,2,3,1]
<strong>è¾“å‡ºï¼š</strong>4
<strong>è§£é‡Šï¼š</strong>ä½ å¯ä»¥å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 1ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 3ï¼‰ã€‚
Â     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [0]
<strong>è¾“å‡ºï¼š</strong>0
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= nums.length <= 100</code></li>
	<li><code>0 <= nums[i] <= 1000</code></li>
</ul>
<br />#### å‰è¨€

è¿™é“é¢˜æ˜¯ã€Œ[198. æ‰“å®¶åŠ«èˆ](https://leetcode-cn.com/problems/house-robber)ã€çš„è¿›é˜¶ï¼Œå’Œç¬¬ 198 é¢˜çš„ä¸åŒä¹‹å¤„æ˜¯ï¼Œè¿™é“é¢˜ä¸­çš„æˆ¿å±‹æ˜¯é¦–å°¾ç›¸è¿çš„ï¼Œç¬¬ä¸€é—´æˆ¿å±‹å’Œæœ€åä¸€é—´æˆ¿å±‹ç›¸é‚»ï¼Œå› æ­¤ç¬¬ä¸€é—´æˆ¿å±‹å’Œæœ€åä¸€é—´æˆ¿å±‹ä¸èƒ½åœ¨åŒä¸€æ™šä¸Šå·çªƒã€‚

å’Œç¬¬ 198 é¢˜ç›¸ä¼¼ï¼Œè¿™é“é¢˜ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’è§£å†³ã€‚å»ºè®®è¯»è€…é¦–å…ˆé˜…è¯»ã€Œ[198. æ‰“å®¶åŠ«èˆçš„å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/house-robber/solution/da-jia-jie-she-by-leetcode-solution)ã€ï¼Œäº†è§£åŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚

#### æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’

é¦–å…ˆè€ƒè™‘æœ€ç®€å•çš„æƒ…å†µã€‚å¦‚æœåªæœ‰ä¸€é—´æˆ¿å±‹ï¼Œåˆ™å·çªƒè¯¥æˆ¿å±‹ï¼Œå¯ä»¥å·çªƒåˆ°æœ€é«˜æ€»é‡‘é¢ã€‚å¦‚æœåªæœ‰ä¸¤é—´æˆ¿å±‹ï¼Œåˆ™ç”±äºä¸¤é—´æˆ¿å±‹ç›¸é‚»ï¼Œä¸èƒ½åŒæ—¶å·çªƒï¼Œåªèƒ½å·çªƒå…¶ä¸­çš„ä¸€é—´æˆ¿å±‹ï¼Œå› æ­¤é€‰æ‹©å…¶ä¸­é‡‘é¢è¾ƒé«˜çš„æˆ¿å±‹è¿›è¡Œå·çªƒï¼Œå¯ä»¥å·çªƒåˆ°æœ€é«˜æ€»é‡‘é¢ã€‚

æ³¨æ„åˆ°å½“æˆ¿å±‹æ•°é‡ä¸è¶…è¿‡ä¸¤é—´æ—¶ï¼Œæœ€å¤šåªèƒ½å·çªƒä¸€é—´æˆ¿å±‹ï¼Œå› æ­¤ä¸éœ€è¦è€ƒè™‘é¦–å°¾ç›¸è¿çš„é—®é¢˜ã€‚å¦‚æœæˆ¿å±‹æ•°é‡å¤§äºä¸¤é—´ï¼Œå°±å¿…é¡»è€ƒè™‘é¦–å°¾ç›¸è¿çš„é—®é¢˜ï¼Œç¬¬ä¸€é—´æˆ¿å±‹å’Œæœ€åä¸€é—´æˆ¿å±‹ä¸èƒ½åŒæ—¶å·çªƒã€‚

å¦‚ä½•æ‰èƒ½ä¿è¯ç¬¬ä¸€é—´æˆ¿å±‹å’Œæœ€åä¸€é—´æˆ¿å±‹ä¸åŒæ—¶å·çªƒå‘¢ï¼Ÿå¦‚æœå·çªƒäº†ç¬¬ä¸€é—´æˆ¿å±‹ï¼Œåˆ™ä¸èƒ½å·çªƒæœ€åä¸€é—´æˆ¿å±‹ï¼Œå› æ­¤å·çªƒæˆ¿å±‹çš„èŒƒå›´æ˜¯ç¬¬ä¸€é—´æˆ¿å±‹åˆ°æœ€åç¬¬äºŒé—´æˆ¿å±‹ï¼›å¦‚æœå·çªƒäº†æœ€åä¸€é—´æˆ¿å±‹ï¼Œåˆ™ä¸èƒ½å·çªƒç¬¬ä¸€é—´æˆ¿å±‹ï¼Œå› æ­¤å·çªƒæˆ¿å±‹çš„èŒƒå›´æ˜¯ç¬¬äºŒé—´æˆ¿å±‹åˆ°æœ€åä¸€é—´æˆ¿å±‹ã€‚

å‡è®¾æ•°ç»„ $\textit{nums}$ çš„é•¿åº¦ä¸º $n$ã€‚å¦‚æœä¸å·çªƒæœ€åä¸€é—´æˆ¿å±‹ï¼Œåˆ™å·çªƒæˆ¿å±‹çš„ä¸‹æ ‡èŒƒå›´æ˜¯ $[0, n-2]$ï¼›å¦‚æœä¸å·çªƒç¬¬ä¸€é—´æˆ¿å±‹ï¼Œåˆ™å·çªƒæˆ¿å±‹çš„ä¸‹æ ‡èŒƒå›´æ˜¯ $[1, n-1]$ã€‚åœ¨ç¡®å®šå·çªƒæˆ¿å±‹çš„ä¸‹æ ‡èŒƒå›´ä¹‹åï¼Œå³å¯ç”¨ç¬¬ 198 é¢˜çš„æ–¹æ³•è§£å†³ã€‚å¯¹äºä¸¤æ®µä¸‹æ ‡èŒƒå›´åˆ†åˆ«è®¡ç®—å¯ä»¥å·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢ï¼Œå…¶ä¸­çš„æœ€å¤§å€¼å³ä¸ºåœ¨ $n$ é—´æˆ¿å±‹ä¸­å¯ä»¥å·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢ã€‚

å‡è®¾å·çªƒæˆ¿å±‹çš„ä¸‹æ ‡èŒƒå›´æ˜¯ $[\textit{start},\textit{end}]$ï¼Œç”¨ $\textit{dp}[i]$ è¡¨ç¤ºåœ¨ä¸‹æ ‡èŒƒå›´ $[\textit{start},i]$ å†…å¯ä»¥å·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢ï¼Œé‚£ä¹ˆå°±æœ‰å¦‚ä¸‹çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

$$
\textit{dp}[i] = \max(\textit{dp}[i-2]+\textit{nums}[i], \textit{dp}[i-1])
$$

è¾¹ç•Œæ¡ä»¶ä¸ºï¼š

$$
\begin{cases}
\textit{dp}[\textit{start}] = \textit{nums}[\textit{start}] & åªæœ‰ä¸€é—´æˆ¿å±‹ï¼Œåˆ™å·çªƒè¯¥æˆ¿å±‹ \\
\textit{dp}[\textit{start}+1] = \max(\textit{nums}[\textit{start}], \textit{nums}[\textit{start}+1]) & åªæœ‰ä¸¤é—´æˆ¿å±‹ï¼Œå·çªƒå…¶ä¸­é‡‘é¢è¾ƒé«˜çš„æˆ¿å±‹
\end{cases}
$$

è®¡ç®—å¾—åˆ° $\textit{dp}[\textit{end}]$ å³ä¸ºä¸‹æ ‡èŒƒå›´ $[\textit{start},\textit{end}]$ å†…å¯ä»¥å·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢ã€‚

åˆ†åˆ«å– $(\textit{start},\textit{end})=(0,n-2)$ å’Œ $(\textit{start},\textit{end})=(1,n-1)$ è¿›è¡Œè®¡ç®—ï¼Œå–ä¸¤ä¸ª $\textit{dp}[\textit{end}]$ ä¸­çš„æœ€å¤§å€¼ï¼Œå³å¯å¾—åˆ°æœ€ç»ˆç»“æœã€‚

æ ¹æ®ä¸Šè¿°æ€è·¯ï¼Œå¯ä»¥å¾—åˆ°æ—¶é—´å¤æ‚åº¦ $O(n)$ å’Œç©ºé—´å¤æ‚åº¦ $O(n)$ çš„å®ç°ã€‚è€ƒè™‘åˆ°æ¯é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢åªå’Œè¯¥æˆ¿å±‹çš„å‰ä¸¤é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢ç›¸å…³ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„ï¼Œåœ¨æ¯ä¸ªæ—¶åˆ»åªéœ€è¦å­˜å‚¨å‰ä¸¤é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢ï¼Œå°†ç©ºé—´å¤æ‚åº¦é™åˆ° $O(1)$ã€‚

<![fig1](https://assets.leetcode-cn.com/solution-static/213/1.PNG),![fig2](https://assets.leetcode-cn.com/solution-static/213/2.PNG),![fig3](https://assets.leetcode-cn.com/solution-static/213/3.PNG),![fig4](https://assets.leetcode-cn.com/solution-static/213/4.PNG),![fig5](https://assets.leetcode-cn.com/solution-static/213/5.PNG),![fig6](https://assets.leetcode-cn.com/solution-static/213/6.PNG),![fig7](https://assets.leetcode-cn.com/solution-static/213/7.PNG),![fig8](https://assets.leetcode-cn.com/solution-static/213/8.PNG),![fig9](https://assets.leetcode-cn.com/solution-static/213/9.PNG)>

```Java [sol1-Java]
class Solution {
    public int rob(int[] nums) {
        int length = nums.length;
        if (length == 1) {
            return nums[0];
        } else if (length == 2) {
            return Math.max(nums[0], nums[1]);
        }
        return Math.max(robRange(nums, 0, length - 2), robRange(nums, 1, length - 1));
    }

    public int robRange(int[] nums, int start, int end) {
        int first = nums[start], second = Math.max(nums[start], nums[start + 1]);
        for (int i = start + 2; i <= end; i++) {
            int temp = second;
            second = Math.max(first + nums[i], second);
            first = temp;
        }
        return second;
    }
}
```

```JavaScript [sol1-JavaScript]
var rob = function(nums) {
    const length = nums.length;
    if (length === 1) {
        return nums[0];
    } else if (length === 2) {
        return Math.max(nums[0], nums[1]);
    }
    return Math.max(robRange(nums, 0, length - 2), robRange(nums, 1, length - 1));
};

const robRange = (nums, start, end) => {
    let first = nums[start], second = Math.max(nums[start], nums[start + 1]);
    for (let i = start + 2; i <= end; i++) {
        const temp = second;
        second = Math.max(first + nums[i], second);
        first = temp;
    }
    return second;
}
```

```go [sol1-Golang]
func _rob(nums []int) int {
    first, second := nums[0], max(nums[0], nums[1])
    for _, v := range nums[2:] {
        first, second = second, max(first+v, second)
    }
    return second
}

func rob(nums []int) int {
    n := len(nums)
    if n == 1 {
        return nums[0]
    }
    if n == 2 {
        return max(nums[0], nums[1])
    }
    return max(_rob(nums[:n-1]), _rob(nums[1:]))
}

func max(a, b int) int {
    if a > b {
        return a
    }
    return b
}
```

```Python [sol1-Python3]
class Solution:
    def rob(self, nums: List[int]) -> int:
        def robRange(start: int, end: int) -> int:
            first = nums[start]
            second = max(nums[start], nums[start + 1])
            for i in range(start + 2, end + 1):
                first, second = second, max(first + nums[i], second)
            return second
        
        length = len(nums)
        if length == 1:
            return nums[0]
        elif length == 2:
            return max(nums[0], nums[1])
        else:
            return max(robRange(0, length - 2), robRange(1, length - 1))
```

```C++ [sol1-C++]
class Solution {
public:
    int robRange(vector<int>& nums, int start, int end) {
        int first = nums[start], second = max(nums[start], nums[start + 1]);
        for (int i = start + 2; i <= end; i++) {
            int temp = second;
            second = max(first + nums[i], second);
            first = temp;
        }
        return second;
    }

    int rob(vector<int>& nums) {
        int length = nums.size();
        if (length == 1) {
            return nums[0];
        } else if (length == 2) {
            return max(nums[0], nums[1]);
        }
        return max(robRange(nums, 0, length - 2), robRange(nums, 1, length - 1));
    }
};
```

```C [sol1-C]
int robRange(int* nums, int start, int end) {
    int first = nums[start], second = fmax(nums[start], nums[start + 1]);
    for (int i = start + 2; i <= end; i++) {
        int temp = second;
        second = fmax(first + nums[i], second);
        first = temp;
    }
    return second;
}

int rob(int* nums, int numsSize) {
    if (numsSize == 1) {
        return nums[0];
    } else if (numsSize == 2) {
        return fmax(nums[0], nums[1]);
    }
    return fmax(robRange(nums, 0, numsSize - 2), robRange(nums, 1, numsSize - 1));
}
```

**å¤æ‚åº¦åˆ†æ**

* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„é•¿åº¦ã€‚éœ€è¦å¯¹æ•°ç»„éå†ä¸¤æ¬¡ï¼Œè®¡ç®—å¯ä»¥å·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢ã€‚

* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚