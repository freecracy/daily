# 2021å¹´04æœˆ29æ—¥ code
<a href="https://toutiao.io/k/upefap5">ç¨‹åºå‘˜åº”è¯¥æŒæ¡çš„å¸¸ç”¨ç½‘ç»œé—®é¢˜å®šä½å·¥å…·</a><br /><a href="https://toutiao.io/k/ez9hkgb">ä¸çœ‹æºç ï¼Œæ€ä¹ˆå·çš„è¿‡å°å¹´è½»</a><br /><a href="https://toutiao.io/k/lvyzxo8">å›¾è§£ Kafka</a><br /><a href="https://toutiao.io/k/rhbhde7">å‡çº§ Vue 3 å¤§å¹…æå‡å¼€å‘è¿è¡Œæ•ˆç‡</a><br /><a href="https://toutiao.io/k/ifrjp9y">é‡åˆ°çš„åŠ å¯†ç®—æ³•</a><br /><a href="https://toutiao.io/k/xxj22f1">OLAP å¼•æ“ï¼šåŸºäº Presto ç»„ä»¶è¿›è¡Œè·¨æ•°æ®æºåˆ†æ</a><br /><a href="https://toutiao.io/k/hky2owc">åœ¨ Windows ç”¨ä¸Š Linux GUIï¼šGitHub çƒ­ç‚¹é€Ÿè§ˆ</a><br /><a href="https://toutiao.io/k/yyp2cvu">Golang atomic.Value çš„å‰ä¸–ä»Šç”Ÿ</a><br /><a href="https://toutiao.io/k/59wl97y">å£°ç½‘ Agora éŸ³é¢‘äº’åŠ¨ MoS åˆ†æ–¹æ³•ï¼šä¸ºéŸ³é¢‘äº’åŠ¨ä½“éªŒè¿›è¡Œå®æ—¶æ‰“åˆ†</a><br /><a href="https://toutiao.io/k/as4ik1r">Kafka ä¸ºä»€ä¹ˆè¦æ”¾å¼ƒ Zookeeperï¼Ÿ</a><br /><a href="https://toutiao.io/k/xpm70fy">ç”¨ Go map è¦æ³¨æ„è¿™ 1 ä¸ªç»†èŠ‚ï¼Œé¿å…ä¾èµ–ä»–</a><br /><a href="https://toutiao.io/k/q2x0uhc">ç»™èŒåœºæ–°äººçš„ 10 æ¡ä¸­è‚¯ç»éªŒ</a><br /><a href="https://toutiao.io/k/tzfuwb4">[è¯‘] 2021 å¹´åŠæœªæ¥çš„äº‘åŸç”Ÿé¢„æµ‹</a><br /><a href="https://toutiao.io/k/iy9vngw">é«˜æ€§èƒ½æœ¬åœ°ç¼“å­˜ç»„ä»¶ Caffeine Cache</a><br /><a href="https://toutiao.io/k/mqrd7e4">review çš„ä¸ªäººä»·å€¼</a><br /><a href="https://toutiao.io/k/mpxa12x">å¦‚ä½•ä» 0 åˆ° 1 å¼€å‘ PyFlink API ä½œä¸š</a><br /><a href="https://toutiao.io/k/pxrr9gb">Lucene ä¸­çš„å†…å­˜ç´¢å¼•ï¼ˆä¸€ï¼‰</a><br /><a href="https://toutiao.io/k/vdxknip">é«˜å¾·æ‰“è½¦é€šç”¨å¯ç¼–æ’è®¢å•çŠ¶æ€æœºå¼•æ“è®¾è®¡</a><br /><a href="https://toutiao.io/k/ww3e4vv">å“ªäº›å› ç´ ä¼šå½±å“å˜æ›´æ§åˆ¶çš„åŠ›åº¦å’Œæµç¨‹ï¼Ÿ</a><br /><a href="https://toutiao.io/k/q2yfcxa">å­¦ä¼šé»‘ç§‘æŠ€ï¼Œä¸€æ‹›æå®š iOS 14.2 çš„ libffi crash</a><br /><a href="https://toutiao.io/k/08uadl6">[æ¨è] ä¹¦å•ä¸¨â€œ1 æœ¬æŠµ 10 æœ¬â€ çš„å¥½ä¹¦ï¼Œå»ºè®®æ”¶è—</a><br /><a href="https://toutiao.io/k/czntgsa">[æ¨è] è¿™ 11 æ¬¾ Chrome ç¥å™¨ï¼Œç”¨èµ·æ¥çˆ½åˆ°çˆ†</a><br /><a href="https://toutiao.io/k/4zqz7k1">[æ¨è] RESTful API è®¾è®¡æœ€ä½³å®è·µ</a><br /><a href="https://toutiao.io/k/ti0gb8i">[æ¨è] Redis è¿›é˜¶ç¬”è®°</a><br /><a href="https://toutiao.io/k/zxa65u1">[æ¨è] è¶…çº§è¯¦ç»†çš„ Spring Boot æ³¨è§£æ€»ç»“</a><br /><a href="https://toutiao.io/k/90vs9kg">[æ¨è] ClickHouse åœ¨ Bilibili ç”¨æˆ·è¡Œä¸ºåˆ†æçš„å®è·µ</a><br /><a href="https://toutiao.io/k/syxnrph">[æ¨è] OpenResty å®ç°é™æµ</a><br /><a href="https://toutiao.io/k/wxrneux">[æ¨è] ä¸ºä»€ä¹ˆæ”¾å¼ƒ Kafkaï¼Œé€‰æ‹© Pulsar?</a><br /><a href="https://toutiao.io/k/6z3uu2m">[æ¨è] å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜æ€§èƒ½çš„ç§’æ€ç³»ç»Ÿ</a><br /><a href="https://toutiao.io/k/xkhaihd">[æ¨è] åç¨‹åˆ‡æ¢ä¼šå¼•èµ·ä»€ä¹ˆé—®é¢˜</a><br /><a href="https://toutiao.io/k/j7fdh6h">[æ¨è] ä¸€æ–‡ææ‡‚åˆ†å¸ƒå¼é”çš„åŸç†ä¸å®ç°</a><br /><a href="https://toutiao.io/k/nrdp4oq">[æ¨è] ç”¨æˆ·ç”»åƒçš„åŸºç¡€ã€åŸç†ã€æ–¹æ³•è®ºï¼ˆæ¨¡å‹ï¼‰å’Œåº”ç”¨</a><br /><hr /><a href="https://github.com/nekohasekai/SagerNet">The universal proxy toolchain for Android.</a><br /><a href="https://github.com/chrisleekr/binance-trading-bot">Automated Binance trading bot - Buy low/Sell high with stop loss limit/Trade multiple cryptocurrencies</a><br /><a href="https://github.com/TheAlgorithms/Python">All Algorithms implemented in Python</a><br /><a href="https://github.com/xinliangnote/go-gin-api">åŸºäº Gin è¿›è¡Œæ¨¡å—åŒ–è®¾è®¡çš„ API æ¡†æ¶ï¼Œå°è£…äº†å¸¸ç”¨åŠŸèƒ½ï¼Œä½¿ç”¨ç®€å•ï¼Œè‡´åŠ›äºè¿›è¡Œå¿«é€Ÿçš„ä¸šåŠ¡ç ”å‘ã€‚æ¯”å¦‚ï¼Œæ”¯æŒ cors è·¨åŸŸã€jwt ç­¾åéªŒè¯ã€zap æ—¥å¿—æ”¶é›†ã€panic å¼‚å¸¸æ•è·ã€trace é“¾è·¯è¿½è¸ªã€prometheus ç›‘æ§æŒ‡æ ‡ã€swagger æ–‡æ¡£ç”Ÿæˆã€viper é…ç½®æ–‡ä»¶è§£æã€gorm æ•°æ®åº“ç»„ä»¶ã€gormgen ä»£ç ç”Ÿæˆå·¥å…·ã€graphql æŸ¥è¯¢è¯­è¨€ã€errno ç»Ÿä¸€å®šä¹‰é”™è¯¯ç ã€gRPC çš„ä½¿ç”¨ ç­‰ç­‰ã€‚</a><br /><a href="https://github.com/johnBuffer/NoCol">Trajectories finder</a><br /><a href="https://github.com/login?return_to=%2Ftrekhleb%2Fjavascript-algorithms">ğŸ“ Algorithms and data structures implemented in JavaScript with explanations and links to further readings</a><br /><a href="https://github.com/acidanthera/OpenCorePkg">OpenCore bootloader</a><br /><a href="https://github.com/login?return_to=%2FEbookFoundation%2Ffree-programming-books">ğŸ“š Freely available programming books</a><br /><a href="https://github.com/UnityTechnologies/open-project-1">Unity Open Project #1: Chop Chop</a><br /><a href="https://github.com/trustwallet/assets">A comprehensive, up-to-date collection of information about several thousands (!) of crypto tokens.</a><br /><a href="https://github.com/tuvtran/project-based-learning">Curated list of project-based tutorials</a><br /><a href="https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials">ğŸ“š Learn to write an embedded OS in Rust ğŸ¦€</a><br /><a href="https://github.com/airbus-seclab/qemu_blog">A series of posts about QEMU internals</a><br /><a href="https://github.com/jackfrued/Python-100-Days">Python - 100å¤©ä»æ–°æ‰‹åˆ°å¤§å¸ˆ</a><br /><a href="https://github.com/SebLague/Slime-Simulation"></a><br /><a href="https://github.com/nianyuguai/longzhuzhu"></a><br /><a href="https://github.com/deepcam-cn/yolov5-face"></a><br /><a href="https://github.com/plan9foundation/plan9">Plan 9 History, from 1992-09-21 to 2015-01-10.</a><br /><a href="https://github.com/mlflow/mlflow">Open source platform for the machine learning lifecycle</a><br /><a href="https://github.com/tensorflow/tensorboard">TensorFlow's Visualization Toolkit</a><br /><a href="https://github.com/doocs/leetcode">ğŸ˜ LeetCode solutions in any programming language | å¤šç§ç¼–ç¨‹è¯­è¨€å®ç° LeetCodeã€ã€Šå‰‘æŒ‡ Offerï¼ˆç¬¬ 2 ç‰ˆï¼‰ã€‹ã€ã€Šç¨‹åºå‘˜é¢è¯•é‡‘å…¸ï¼ˆç¬¬ 6 ç‰ˆï¼‰ã€‹é¢˜è§£</a><br /><a href="https://github.com/nextapps-de/winbox">WinBox is a professional HTML5 window manager for the web: lightweight, outstanding performance, no dependencies, fully customizable, open source!</a><br /><a href="https://github.com/goldbergyoni/nodebestpractices">âœ… The Node.js best practices list (April 2021)</a><br /><a href="https://github.com/singularseclab/Slides">A collection of slides from Singular Security Lab.</a><br /><a href="https://github.com/airbnb/lottie-ios">An iOS library to natively render After Effects vector animations</a><br /><hr />é’è›™è¿‡æ²³<br /><p>ä¸€åªé’è›™æƒ³è¦è¿‡æ²³ã€‚ å‡å®šæ²³æµè¢«ç­‰åˆ†ä¸ºè‹¥å¹²ä¸ªå•å…ƒæ ¼ï¼Œå¹¶ä¸”åœ¨æ¯ä¸€ä¸ªå•å…ƒæ ¼å†…éƒ½æœ‰å¯èƒ½æ”¾æœ‰ä¸€å—çŸ³å­ï¼ˆä¹Ÿæœ‰å¯èƒ½æ²¡æœ‰ï¼‰ã€‚ é’è›™å¯ä»¥è·³ä¸ŠçŸ³å­ï¼Œä½†æ˜¯ä¸å¯ä»¥è·³å…¥æ°´ä¸­ã€‚</p>

<p>ç»™ä½ çŸ³å­çš„ä½ç½®åˆ—è¡¨ <code>stones</code>ï¼ˆç”¨å•å…ƒæ ¼åºå· <strong>å‡åº</strong> è¡¨ç¤ºï¼‰ï¼ŒÂ è¯·åˆ¤å®šé’è›™èƒ½å¦æˆåŠŸè¿‡æ²³ï¼ˆå³èƒ½å¦åœ¨æœ€åä¸€æ­¥è·³è‡³æœ€åä¸€å—çŸ³å­ä¸Šï¼‰ã€‚</p>

<p>å¼€å§‹æ—¶ï¼ŒÂ é’è›™é»˜è®¤å·²ç«™åœ¨ç¬¬ä¸€å—çŸ³å­ä¸Šï¼Œå¹¶å¯ä»¥å‡å®šå®ƒç¬¬ä¸€æ­¥åªèƒ½è·³è·ƒä¸€ä¸ªå•ä½ï¼ˆå³åªèƒ½ä»å•å…ƒæ ¼ 1 è·³è‡³å•å…ƒæ ¼ 2 ï¼‰ã€‚</p>

<p>å¦‚æœé’è›™ä¸Šä¸€æ­¥è·³è·ƒäº†Â <code>k</code><em>Â </em>ä¸ªå•ä½ï¼Œé‚£ä¹ˆå®ƒæ¥ä¸‹æ¥çš„è·³è·ƒè·ç¦»åªèƒ½é€‰æ‹©ä¸ºÂ <code>k - 1</code>ã€<code>k</code><em>Â </em>æˆ–Â <code>k + 1</code> ä¸ªå•ä½ã€‚Â å¦è¯·æ³¨æ„ï¼Œé’è›™åªèƒ½å‘å‰æ–¹ï¼ˆç»ˆç‚¹çš„æ–¹å‘ï¼‰è·³è·ƒã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>stones = [0,1,3,5,6,8,12,17]
<strong>è¾“å‡ºï¼š</strong>true
<strong>è§£é‡Šï¼š</strong>é’è›™å¯ä»¥æˆåŠŸè¿‡æ²³ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ–¹æ¡ˆè·³è·ƒï¼šè·³ 1 ä¸ªå•ä½åˆ°ç¬¬ 2 å—çŸ³å­, ç„¶åè·³ 2 ä¸ªå•ä½åˆ°ç¬¬ 3 å—çŸ³å­, æ¥ç€ è·³ 2 ä¸ªå•ä½åˆ°ç¬¬ 4 å—çŸ³å­, ç„¶åè·³ 3 ä¸ªå•ä½åˆ°ç¬¬ 6 å—çŸ³å­, è·³ 4 ä¸ªå•ä½åˆ°ç¬¬ 7 å—çŸ³å­, æœ€åï¼Œè·³ 5 ä¸ªå•ä½åˆ°ç¬¬ 8 ä¸ªçŸ³å­ï¼ˆå³æœ€åä¸€å—çŸ³å­ï¼‰ã€‚</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>stones = [0,1,2,3,4,8,9,11]
<strong>è¾“å‡ºï¼š</strong>false
<strong>è§£é‡Šï¼š</strong>è¿™æ˜¯å› ä¸ºç¬¬ 5 å’Œç¬¬ 6 ä¸ªçŸ³å­ä¹‹é—´çš„é—´è·å¤ªå¤§ï¼Œæ²¡æœ‰å¯é€‰çš„æ–¹æ¡ˆä¾›é’è›™è·³è·ƒè¿‡å»ã€‚</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>2 <= stones.length <= 2000</code></li>
	<li><code>0 <= stones[i] <= 2<sup>31</sup> - 1</code></li>
	<li><code>stones[0] == 0</code></li>
</ul>
<br />#### æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢ + äºŒåˆ†æŸ¥æ‰¾

**æ€è·¯åŠç®—æ³•**

æœ€ç›´æ¥çš„æƒ³æ³•æ˜¯ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼å°è¯•æ‰€æœ‰è·³è·ƒæ–¹æ¡ˆï¼Œç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°ä¸€ç»„å¯è¡Œè§£ä¸ºæ­¢ã€‚ä½†æ˜¯ä¸åŠ ä¼˜åŒ–çš„è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åœ¨æœ€åæƒ…å†µä¸‹æ˜¯æŒ‡æ•°çº§çš„ï¼Œå› æ­¤è€ƒè™‘ä¼˜åŒ–ã€‚

æ³¨æ„åˆ°å½“é’è›™æ¯æ¬¡èƒ½å¤Ÿè·³è·ƒçš„è·ç¦»ä»…å–å†³äºé’è›™çš„ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€ã€‚è€Œé’è›™æ­¤åèƒ½å¦åˆ°è¾¾ç»ˆç‚¹ï¼Œåªå’Œå®ƒã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€ä»¥åŠã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€æœ‰å…³ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸¤ä¸ªç»´åº¦ç»¼åˆè®°å½•ä¸ºä¸€ä¸ªçŠ¶æ€ã€‚ä½¿ç”¨è®°å¿†åŒ–æœç´¢çš„æ–¹å¼ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚

å…·ä½“åœ°ï¼Œå½“é’è›™ä½äºç¬¬ $i$ ä¸ªçŸ³å­ï¼Œä¸Šæ¬¡è·³è·ƒè·ç¦»ä¸º $\textit{lastDis}$ æ—¶ï¼Œå®ƒå½“å‰èƒ½å¤Ÿè·³è·ƒçš„è·ç¦»èŒƒå›´ä¸º $[\textit{lastDis}-1,\textit{lastDis}+1]$ã€‚æˆ‘ä»¬éœ€è¦åˆ†åˆ«åˆ¤æ–­è¿™ä¸‰ä¸ªè·ç¦»å¯¹åº”çš„ä¸‰ä¸ªä½ç½®æ˜¯å¦å­˜åœ¨çŸ³å­ã€‚æ³¨æ„åˆ°ç»™å®šçš„çŸ³å­åˆ—è¡¨ä¸ºå‡åºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥ä¼˜åŒ–æŸ¥æ‰¾çŸ³å­çš„æ—¶é—´å¤æ‚åº¦ã€‚æ¯æ¬¡æˆ‘ä»¬æ‰¾åˆ°äº†ç¬¦åˆè¦æ±‚çš„ä½ç½®ï¼Œæˆ‘ä»¬å°±å°è¯•è¿›è¡Œä¸€æ¬¡é€’å½’æœç´¢å³å¯ã€‚

ä¸ºäº†ä¼˜åŒ–ç¼–ç ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºé’è›™çš„åˆå§‹çŠ¶æ€ä¸ºï¼šã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€ä¸º $0$ï¼ˆçŸ³å­ä» $0$ å¼€å§‹ç¼–å·ï¼‰ï¼Œã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€ä¸º $0$ï¼ˆè¿™æ ·å¯ä»¥ä¿è¯é’è›™çš„ç¬¬ä¸€æ¬¡è·³è·ƒè·ç¦»ä¸º $1$ï¼‰ã€‚

**ä»£ç **

```C++ [sol1-C++]
class Solution {
public:
    vector<unordered_map<int, int>> rec;

    bool dfs(vector<int>& stones, int i, int lastDis) {
        if (i == stones.size() - 1) {
            return true;
        }
        if (rec[i].count(lastDis)) {
            return rec[i][lastDis];
        }
        for (int curDis = lastDis - 1; curDis <= lastDis + 1; curDis++) {
            if (curDis > 0) {
                int j = lower_bound(stones.begin(), stones.end(), curDis + stones[i]) - stones.begin();
                if (j != stones.size() && stones[j] == curDis + stones[i] && dfs(stones, j, curDis)) {
                    return rec[i][lastDis] = true;
                }
            }
        }
        return rec[i][lastDis] = false;
    }

    bool canCross(vector<int>& stones) {
        int n = stones.size();
        rec.resize(n);
        return dfs(stones, 0, 0);
    }
};
```

```Java [sol1-Java]
class Solution {
    private Boolean[][] rec;

    public boolean canCross(int[] stones) {
        int n = stones.length;
        rec = new Boolean[n][n];
        return dfs(stones, 0, 0);
    }

    private boolean dfs(int[] stones, int i, int lastDis) {
        if (i == stones.length - 1) {
            return true;
        }
        if (rec[i][lastDis] != null) {
            return rec[i][lastDis];
        }

        for (int curDis = lastDis - 1; curDis <= lastDis + 1; curDis++) {
            if (curDis > 0) {
                int j = Arrays.binarySearch(stones, i + 1, stones.length, curDis + stones[i]);
                if (j >= 0 && dfs(stones, j, curDis)) {
                    return rec[i][lastDis] = true;
                }
            }
        }
        return rec[i][lastDis] = false;
    }
}
```

```JavaScript [sol1-JavaScript]
var canCross = function(stones) {
    const n = stones.length;
    rec = new Array(n).fill(0).map(() => new Map());

    const dfs = (stones, i, lastDis) => {
        if (i === stones.length - 1) {
            return true;
        }
        if (rec[i].has(lastDis)) {
            return rec[i].get(lastDis);
        }
        for (let curDis = lastDis - 1; curDis <= lastDis + 1; curDis++) {
            if (curDis > 0) {
                const j = lower_bound(stones, curDis + stones[i]);
                if (j !== stones.length && stones[j] === curDis + stones[i] && dfs(stones, j, curDis)) {
                    rec[i].set(lastDis, true);
                    return rec[i].get(lastDis);
                }
            }
        }
        rec[i].set(lastDis, false);
        return rec[i].get(lastDis);
    }

    return dfs(stones, 0, 0);
};

function lower_bound(nums, target) {
    let lo = 0, hi = nums.length;

    while (lo < hi) {
        const mid = lo + Math.floor((hi - lo) / 2);

        if (nums[mid] >= target) {
            hi = mid;
        } else {
            lo = mid + 1;
        }
    }
    return lo;
}
```

```go [sol1-Golang]
func canCross(stones []int) bool {
    n := len(stones)
    dp := make([]map[int]bool, n-1)
    for i := range dp {
        dp[i] = map[int]bool{}
    }
    var dfs func(int, int) bool
    dfs = func(i, lastDis int) (res bool) {
        if i == n-1 {
            return true
        }
        if res, has := dp[i][lastDis]; has {
            return res
        }
        defer func() { dp[i][lastDis] = res }()
        for curDis := lastDis - 1; curDis <= lastDis+1; curDis++ {
            if curDis > 0 {
                j := sort.SearchInts(stones, curDis+stones[i])
                if j != n && stones[j] == curDis+stones[i] && dfs(j, curDis) {
                    return true
                }
            }
        }
        return false
    }
    return dfs(0, 0)
}
```

```C [sol1-C]
struct HashTable {
    int key, val;
    UT_hash_handle hh;
};

struct HashTable** rec;

bool count(struct HashTable** hashTable, int ikey) {
    struct HashTable* tmp;
    HASH_FIND_INT(*hashTable, &ikey, tmp);
    return tmp != NULL;
}

int modify(struct HashTable** hashTable, int ikey, int ival) {
    struct HashTable* tmp;
    HASH_FIND_INT(*hashTable, &ikey, tmp);
    if (tmp == NULL) {
        tmp = malloc(sizeof(struct HashTable));
        tmp->key = ikey, tmp->val = ival;
        HASH_ADD_INT(*hashTable, key, tmp);
    } else {
        tmp->val = ival;
    }
    return ival;
}

int query(struct HashTable** hashTable, int ikey) {
    struct HashTable* tmp;
    HASH_FIND_INT(*hashTable, &ikey, tmp);
    return tmp->val;
}

int lower_bound(int* stones, int stonesSize, int target) {
    int left = 0, right = stonesSize;
    while (left < right) {
        int mid = (left + right) >> 1;
        if (stones[mid] < target) {
            left = mid + 1;
        } else {
            right = mid;
        }
    }
    return left;
}

bool dfs(int* stones, int stonesSize, int i, int lastDis) {
    if (i == stonesSize - 1) {
        return true;
    }
    if (count(&rec[i], lastDis)) {
        return query(&rec[i], lastDis);
    }
    for (int curDis = lastDis - 1; curDis <= lastDis + 1; curDis++) {
        if (curDis > 0) {
            int j = lower_bound(stones, stonesSize, curDis + stones[i]);
            if (j != stonesSize && stones[j] == curDis + stones[i] && dfs(stones, stonesSize, j, curDis)) {
                return modify(&rec[i], lastDis, true);
            }
        }
    }
    return modify(&rec[i], lastDis, false);
}

bool canCross(int* stones, int stonesSize) {
    rec = malloc(sizeof(struct HashTable*) * stonesSize);
    memset(rec, 0, sizeof(struct HashTable*) * stonesSize);
    return dfs(stones, stonesSize, 0, 0);
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2\log n)$ï¼Œå…¶ä¸­ $n$ æ˜¯çŸ³å­çš„æ•°é‡ã€‚å› ä¸ºé’è›™ä»…èƒ½åœ¨çŸ³å­é—´è·³è·ƒï¼Œä¸”ä¸èƒ½å‘åæ–¹ï¼ˆèµ·ç‚¹çš„æ–¹å‘ï¼‰è·³è·ƒï¼Œè€Œç¬¬ $i$ ä¸ªçŸ³å­åæ–¹åªæœ‰ $i-1$ ä¸ªçŸ³å­ï¼Œå› æ­¤åœ¨ä»»æ„ä½ç½®ï¼Œé’è›™çš„ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€è‡³å¤šåªæœ‰ $O(n)$ ç§ï¼ŒçŠ¶æ€æ€»æ•°ä¸º $O(n^2)$ã€‚æœ€åæƒ…å†µä¸‹æˆ‘ä»¬è¦éå†æ¯ä¸€ä¸ªçŠ¶æ€ï¼Œæ¯æ¬¡æˆ‘ä»¬éœ€è¦ $O(\log n)$ çš„æ—¶é—´æŸ¥æ‰¾æŒ‡å®šä½ç½®çš„çŸ³å­æ˜¯å¦å­˜åœ¨ï¼Œç›¸ä¹˜å³å¯å¾—åˆ°æœ€ç»ˆæ—¶é—´å¤æ‚åº¦ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œå…¶ä¸­ $n$ æ˜¯çŸ³å­çš„æ•°é‡ã€‚æœ€åæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦è®°å½•å…¨éƒ¨ $O(n^2)$ ä¸ªçŠ¶æ€ã€‚

#### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

**æ€è·¯åŠç®—æ³•**

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œä»¤ $\textit{dp}[i][k]$ è¡¨ç¤ºé’è›™èƒ½å¦è¾¾åˆ°ã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€ä¸º $i$ ä¸”ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€ä¸º $k$ çš„çŠ¶æ€ã€‚

è¿™æ ·æˆ‘ä»¬å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

$$\textit{dp}[i][k] = \textit{dp}[j][k - 1] \bigvee \textit{dp}[j][k] \bigvee \textit{dp}[j][k + 1]$$ 

å¼ä¸­ $j$ ä»£è¡¨äº†é’è›™çš„ã€Œä¸Šä¸€æ¬¡æ‰€åœ¨çš„çŸ³å­ç¼–å·ã€ï¼Œæ»¡è¶³ $stones[i] - stones[j] = k$ã€‚

å’Œæ–¹æ³•ä¸€ç›¸åŒï¼ŒçŠ¶æ€è½¬ç§»çš„åˆå§‹æ¡ä»¶ä¸º $\textit{dp}[0][0] = \text{true}$ï¼Œè¡¨ç¤ºï¼šã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€ä¸º $0$ï¼ˆçŸ³å­ä» $0$ å¼€å§‹ç¼–å·ï¼‰ï¼Œã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€ä¸º $0$ï¼ˆè¿™æ ·å¯ä»¥ä¿è¯é’è›™çš„ç¬¬ä¸€æ¬¡è·³è·ƒè·ç¦»ä¸º $1$ï¼‰ã€‚å½“æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ª $\textit{dp}[n-1][k]$ ä¸ºçœŸæ—¶ï¼Œæˆ‘ä»¬å°±çŸ¥é“é’è›™å¯ä»¥åˆ°è¾¾ç»ˆç‚¹ï¼ˆç¬¬ $n-1$ ä¸ªçŸ³å­ï¼‰ã€‚

å…·ä½“åœ°ï¼Œå¯¹äºç¬¬ $i$ ä¸ªçŸ³å­ï¼Œæˆ‘ä»¬é¦–å…ˆæšä¸¾æ‰€æœ‰çš„ $j$ï¼ˆå³ä¸Šä¸€æ¬¡æ‰€åœ¨çš„çŸ³å­ç¼–å·ï¼‰ï¼Œé‚£ä¹ˆã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€$k$ å³ä¸º $stones[i] - stones[j]$ã€‚å¦‚æœåœ¨ç¬¬ $j$ ä¸ªçŸ³å­ä¸Šï¼Œé’è›™çš„ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€å¯ä»¥ä¸º $k-1,k,k+1$ ä¸‰è€…ä¹‹ä¸€ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ­¤æ—¶çš„æ–¹æ¡ˆå³ä¸ºåˆæ³•æ–¹æ¡ˆã€‚å› æ­¤æˆ‘ä»¬åªéœ€è¦æ£€æŸ¥ $\textit{dp}[j][k - 1], \textit{dp}[j][k], \textit{dp}[j][k + 1]$ æ˜¯å¦æœ‰è‡³å°‘ä¸€ä¸ªä¸ºçœŸå³å¯ã€‚

**ä¼˜åŒ–**

ä¸ºäº†ä¼˜åŒ–ç¨‹åºè¿è¡Œé€Ÿåº¦ï¼Œæˆ‘ä»¬è¿˜å°†æ¨å‡ºä¸¤ä¸ªç»“è®ºï¼Œå¹¶åšå‡ºä¼˜åŒ–ï¼š

1. ã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€ä¸º $i$ æ—¶ï¼Œã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€$k$ å¿…å®šæ»¡è¶³ $k \leq i$ã€‚
   - å½“é’è›™ä½äºç¬¬ $0$ ä¸ªçŸ³å­ä¸Šæ—¶ï¼Œé’è›™çš„ä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»é™å®šä¸º $0$ï¼Œä¹‹åæ¯æ¬¡è·³è·ƒï¼Œé’è›™æ‰€åœ¨çš„çŸ³å­ç¼–å·è‡³å°‘å¢åŠ  $1$ï¼Œè€Œæ¯æ¬¡è·³è·ƒè·ç¦»è‡³å¤šå¢åŠ  $1$ã€‚
   - è·³è·ƒ $m$ æ¬¡åï¼Œé’è›™ã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€$i \geq m$ï¼Œã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€$k \leq m$ï¼Œå› æ­¤ $k\leq i$ã€‚
   - è¿™æ ·æˆ‘ä»¬å¯ä»¥å°†çŠ¶æ€æ•°çº¦æŸåœ¨ $O(n^2)$ã€‚
   - æˆ‘ä»¬å¯ä»¥ä»åå‘å‰æšä¸¾ã€Œä¸Šä¸€æ¬¡æ‰€åœ¨çš„çŸ³å­ç¼–å·ã€$j$ï¼Œå½“ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€$k$ è¶…è¿‡äº† $j+1$ æ—¶ï¼Œæˆ‘ä»¬å³å¯ä»¥åœæ­¢è·³è·ƒï¼Œå› ä¸ºåœ¨ç¬¬ $j$ ä¸ªçŸ³å­ä¸Šæˆ‘ä»¬è‡³å¤šåªèƒ½è·³å‡º $j+1$ çš„è·ç¦»ã€‚
2. å½“ç¬¬ $i$ ä¸ªçŸ³å­ä¸ç¬¬ $i-1$ ä¸ªçŸ³å­è·ç¦»è¶…è¿‡ $i$ æ—¶ï¼Œé’è›™å¿…å®šæ— æ³•åˆ°è¾¾ç»ˆç‚¹ã€‚
   - ç”±ç»“è®º $1$ å¯çŸ¥ï¼Œå½“é’è›™åˆ°è¾¾ç¬¬ $i-1$ ä¸ªçŸ³å­æ—¶ï¼Œå®ƒçš„ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€è‡³å¤šä¸º $i-1$ï¼Œå› æ­¤é’è›™åœ¨ç¬¬ $i$ ä¸ªçŸ³å­ä¸Šæœ€è¿œåªèƒ½è·³å‡º $i$ çš„è·ç¦»ã€‚
   - è€Œè·ç¦»ç¬¬ $i-1$ ä¸ªçŸ³å­æœ€è¿‘çš„çŸ³å­å³ä¸ºç¬¬ $i$ ä¸ªçŸ³å­ï¼Œå®ƒä»¬çš„è·ç¦»è¶…è¿‡äº†é’è›™å½“å‰èƒ½è·³å‡ºçš„æœ€è¿œè·ç¦»ï¼Œå› æ­¤é’è›™æ— è·¯å¯è·³ã€‚
   - å› æ­¤æˆ‘ä»¬å¯ä»¥æå‰æ£€æŸ¥æ˜¯å¦æœ‰ç›¸é‚»çš„çŸ³å­ä¸æ»¡è¶³æ¡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œæˆ‘ä»¬å¯ä»¥æå‰è¿”å› $\text{false}$ã€‚

**ä»£ç **

```C++ [sol2-C++]
class Solution {
public:
    bool canCross(vector<int>& stones) {
        int n = stones.size();
        vector<vector<int>> dp(n, vector<int>(n));
        dp[0][0] = true;
        for (int i = 1; i < n; ++i) {
            if (stones[i] - stones[i - 1] > i) {
                return false;
            }
        }
        for (int i = 1; i < n; ++i) {
            for (int j = i - 1; j >= 0; --j) {
                int k = stones[i] - stones[j];
                if (k > j + 1) {
                    break;
                }
                dp[i][k] = dp[j][k - 1] || dp[j][k] || dp[j][k + 1];
                if (i == n - 1 && dp[i][k]) {
                    return true;
                }
            }
        }
        return false;
    }
};
```

```Java [sol2-Java]
class Solution {
    public boolean canCross(int[] stones) {
        int n = stones.length;
        boolean[][] dp = new boolean[n][n];
        dp[0][0] = true;
        for (int i = 1; i < n; ++i) {
            if (stones[i] - stones[i - 1] > i) {
                return false;
            }
        }
        for (int i = 1; i < n; ++i) {
            for (int j = i - 1; j >= 0; --j) {
                int k = stones[i] - stones[j];
                if (k > j + 1) {
                    break;
                }
                dp[i][k] = dp[j][k - 1] || dp[j][k] || dp[j][k + 1];
                if (i == n - 1 && dp[i][k]) {
                    return true;
                }
            }
        }
        return false;
    }
}
```

```go [sol2-Golang]
func canCross(stones []int) bool {
    n := len(stones)
    dp := make([][]bool, n)
    for i := range dp {
        dp[i] = make([]bool, n)
    }
    dp[0][0] = true
    for i := 1; i < n; i++ {
        if stones[i]-stones[i-1] > i {
            return false
        }
    }
    for i := 1; i < n; i++ {
        for j := i - 1; j >= 0; j-- {
            k := stones[i] - stones[j]
            if k > j+1 {
                break
            }
            dp[i][k] = dp[j][k-1] || dp[j][k] || dp[j][k+1]
            if i == n-1 && dp[i][k] {
                return true
            }
        }
    }
    return false
}
```

```C [sol2-C]
bool canCross(int* stones, int stonesSize) {
    int dp[stonesSize][stonesSize];
    memset(dp, 0, sizeof(dp));
    dp[0][0] = true;
    for (int i = 1; i < stonesSize; ++i) {
        if (stones[i] - stones[i - 1] > i) {
            return false;
        }
    }
    for (int i = 1; i < stonesSize; ++i) {
        for (int j = i - 1; j >= 0; --j) {
            int k = stones[i] - stones[j];
            if (k > j + 1) {
                break;
            }
            dp[i][k] = dp[j][k - 1] || dp[j][k] || dp[j][k + 1];
            if (i == stonesSize - 1 && dp[i][k]) {
                return true;
            }
        }
    }
    return false;
}
```

```JavaScript [sol1-JavaScript]
var canCross = function(stones) {
    const n = stones.length;
    const dp = new Array(n).fill(0).map(() => new Array(n).fill(0));
    dp[0][0] = true;
    for (let i = 1; i < n; ++i) {
        if (stones[i] - stones[i - 1] > i) {
            return false;
        }
    }
    for (let i = 1; i < n; ++i) {
        for (let j = i - 1; j >= 0; --j) {
            const k = stones[i] - stones[j];
            if (k > j + 1) {
                break;
            }
            dp[i][k] = dp[j][k - 1] || dp[j][k] || dp[j][k + 1];
            if (i === n - 1 && dp[i][k]) {
                return true;
            }
        }
    }
    return false;
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œå…¶ä¸­ $n$ æ˜¯çŸ³å­çš„æ•°é‡ã€‚å› ä¸ºé’è›™ä»…èƒ½åœ¨çŸ³å­é—´è·³è·ƒï¼Œä¸”ä¸èƒ½å‘åæ–¹ï¼ˆèµ·ç‚¹çš„æ–¹å‘ï¼‰è·³è·ƒï¼Œè€Œç¬¬ $i$ ä¸ªçŸ³å­åæ–¹åªæœ‰ $i-1$ ä¸ªçŸ³å­ï¼Œå› æ­¤åœ¨ä»»æ„ä½ç½®ï¼Œé’è›™çš„ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€è‡³å¤šåªæœ‰ $n$ ç§ï¼ŒçŠ¶æ€æ€»æ•°ä¸º $n^2$ã€‚æœ€åæƒ…å†µä¸‹æˆ‘ä»¬è¦éå†æ¯ä¸€ä¸ªçŠ¶æ€ï¼Œæ¯æ¬¡æˆ‘ä»¬åªéœ€è¦ $O(1)$ çš„æ—¶é—´è®¡ç®—å½“å‰çŠ¶æ€æ˜¯å¦å¯è¾¾ï¼Œç›¸ä¹˜å³å¯å¾—åˆ°æœ€ç»ˆæ—¶é—´å¤æ‚åº¦ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œå…¶ä¸­ $n$ æ˜¯çŸ³å­çš„æ•°é‡ã€‚æˆ‘ä»¬éœ€è¦è®°å½•å…¨éƒ¨ $n^2$ ä¸ªçŠ¶æ€ã€‚