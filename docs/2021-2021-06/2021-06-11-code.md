# 2021å¹´06æœˆ11æ—¥ code
<a href="https://toutiao.io/k/ojtkz91">JSON æ˜¯ä»€ä¹ˆ</a><br /><a href="https://toutiao.io/k/x0hrwl9">ä¸€æ–‡å¸¦ä½ æ·±ç©¶æ— çº¿ç¼“å†² channel çš„å®ç°</a><br /><a href="https://toutiao.io/k/fi3i498">[è¯‘] Kubernetes çš„è‡ªåŠ¨ä¼¸ç¼©ä½ ç”¨å¯¹äº†å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/0yy5hi2">HarmonyOS é¸¿è’™ App å¼€å‘çœŸæœºæµ‹è¯•ä»¥åŠé‡åˆ°çš„å„ç§å‘</a><br /><a href="https://toutiao.io/k/pcu7stg">å·¥ä½œå¤šå¹´ï¼ŒLinux æ–‡ä»¶ç³»ç»Ÿè¿˜ä¸å¤ªäº†è§£ï¼Ÿ</a><br /><a href="https://toutiao.io/k/0tsphq6">å®æ“ç¬”è®°ï¼šä¸º NSQ é…ç½®ç›‘æ§æœåŠ¡çš„å¿ƒè·¯å†ç¨‹</a><br /><a href="https://toutiao.io/k/ix0c5uk">ä½¿ç”¨ curl è¿›è¡Œç½‘ç«™æµ‹é€Ÿ</a><br /><a href="https://toutiao.io/k/ylywg7x">æ•°æ®ç®¡ç†ï¼šä¸šåŠ¡æ•°æ®æ¸…æ´—ï¼Œè½åœ°å®ç°æ–¹æ¡ˆ</a><br /><a href="https://toutiao.io/k/lii07l7">ç¡…è°·çš„æ•°æ®ç§‘å­¦å®¶ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</a><br /><a href="https://toutiao.io/k/8mw8b3j"> fastHttp æœåŠ¡ç«¯å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ </a><br /><a href="https://toutiao.io/k/8et5vgj">Partition çš„åŸºæœ¬æ¦‚å¿µå’Œå®ç°ä»‹ç»</a><br /><a href="https://toutiao.io/k/xa12iyb">ä¸‰å¼ å›¾å¸¦ä½ å¼„æ‡‚ STL ä¸­å†…å­˜åˆ†é…å™¨</a><br /><a href="https://toutiao.io/k/d5ngnu7">å·¥å…· | ä¸€ä¸ª Golang å®ç°å…¨èƒ½å‹æµé‡ç¼–æ’ç³»ç»Ÿ</a><br /><a href="https://toutiao.io/k/647srsl">ä¸€æ–‡ç†è§£æ¶ˆæ¯é˜Ÿåˆ—å¦‚ä½•ä¿è¯é«˜å¯ç”¨</a><br /><a href="https://toutiao.io/k/c1etzu4">å­—èŠ‚è·³åŠ¨æ‰“é€ çš„è½®å­ï¼šGo è¡¨å•éªŒè¯å™¨</a><br /><a href="https://toutiao.io/k/m7m4s5u">ä¸€æ–‡è¯»æ‡‚ SQL æ‰§è¡Œè®¡åˆ’</a><br /><a href="https://toutiao.io/k/b3kdh9y">Go timer æ˜¯å¦‚ä½•è¢«è°ƒåº¦çš„ï¼Ÿ</a><br /><a href="https://toutiao.io/k/r9qloei">ç»†è¯´ Spring AOP çš„æ ¸å¿ƒç”¨æ³•å’ŒåŸç†è§£æ</a><br /><a href="https://toutiao.io/k/uiew0yv">æ¯”ç‰¹å¸ç™½çš®ä¹¦ï¼šç®€åŒ–çš„æ”¯ä»˜ç¡®è®¤</a><br /><a href="https://toutiao.io/k/aawvqf9">å¿«é€Ÿä¸Šæ‰‹ Linkerd v2  Service Mesh</a><br /><a href="https://toutiao.io/k/msg8jaf">[æ¨è] 2.3 ä¸‡ Starï¼ç›´è¿½å¾®è½¯ Visioï¼Œè¿™ä¸ªç®€æ´å®ç”¨çš„åœ¨çº¿ç»˜å›¾å·¥å…·å¿…é¡»æ¨èç»™ä½ </a><br /><a href="https://toutiao.io/k/d6e55fr">[æ¨è] æœç‹—é¢è¯•é¢˜ï¼šIO å¤šè·¯å¤ç”¨ä¹‹ selectã€pollã€epoll çš„åŒºåˆ«</a><br /><a href="https://toutiao.io/k/3xscqep">[æ¨è] ä¸€æ–‡ç†è§£ Java ä¸­çš„ SPI æœºåˆ¶</a><br /><a href="https://toutiao.io/k/sorcj5w">[æ¨è] æ·±å…¥æºç ï¼Œæ·±åº¦è§£æ Java çº¿ç¨‹æ± çš„å®ç°åŸç†</a><br /><a href="https://toutiao.io/k/6tcdyp9">[æ¨è] Spring Boot åœ¨ K8s ä¸‹å®ç°ä¼˜é›…åœæœº</a><br /><a href="https://toutiao.io/k/q8zmevp">[æ¨è] é«˜æ€§èƒ½ä¸‡äº¿çº§æ¶ˆæ¯åå Pulsar è®¾è®¡åŸç†</a><br /><a href="https://toutiao.io/k/d139zzl">[æ¨è] æœ‰äº†è¿™æ¬¾è¿ç»´è‡ªåŠ¨åŒ–ç¥å™¨ï¼Œå¯ä»¥æŠ›å¼ƒ Ansible äº†</a><br /><a href="https://toutiao.io/k/b70jpzu">[æ¨è] 10 é—® 10 ç­”ï¼šä½ çœŸçš„äº†è§£çº¿ç¨‹æ± å—ï¼Ÿ</a><br /><a href="https://toutiao.io/k/qnyxbs9">[æ¨è] æƒŠï¼è¿™ä¸ª Go å¼€æºé¡¹ç›®å·ç§°ã€Œä¸æ”¹ä¸€è¡Œä»£ç åšç§’æ€ã€</a><br /><a href="https://toutiao.io/k/xha1t37">[æ¨è] æ¶æ„å¸ˆå›¾è°±ï¼ˆä¸Šç¯‡ï¼‰</a><br /><a href="https://toutiao.io/k/b9vlrcu">[æ¨è] ç½‘ç»œè¿æ¥å­˜åœ¨å¤§é‡ time_wait å’Œ close_wait çš„åŸå› ä»¥åŠè§£å†³æ–¹æ³•</a><br /><a href="https://toutiao.io/k/2rcud9q">[æ¨è] Redis å­˜å‚¨å¯¹è±¡ä¿¡æ¯æ˜¯ç”¨ Hash è¿˜æ˜¯ String</a><br /><a href="https://toutiao.io/k/wwmsd4f">[æ¨è] å­¦ä¼šè¿™ 10 ä¸ªè®¾è®¡åŸåˆ™ï¼Œç¦»æ¶æ„å¸ˆåˆè¿›äº†ä¸€æ­¥</a><br /><a href="https://toutiao.io/k/z26byeu">[æ¨è] 25 å¼ å›¾ï¼Œä¸€ä¸‡å­—ï¼Œæ‹†è§£ Linux ç½‘ç»œåŒ…å‘é€è¿‡ç¨‹</a><br /><a href="https://toutiao.io/k/s8xgae9">[æ¨è] æŒé—¨ MySQL æ•°æ®åº“è§„çº¦è½åœ°åŠä¼˜åŒ–å®æˆ˜</a><br /><hr /><a href="https://github.com/madMAx43v3r/chia-plotter"></a><br /><a href="https://github.com/TuSimple/naive-ui">A Vue 3 Component Library. Fairly Complete. Customizable Themes. Uses TypeScript. Not too Slow.</a><br /><a href="https://github.com/maaslalani/slides">Terminal based presentation tool</a><br /><a href="https://github.com/hashicorp/terraform">Terraform enables you to safely and predictably create, change, and improve infrastructure. It is an open source tool that codifies APIs into declarative configuration files that can be shared amongst team members, treated as code, edited, reviewed, and versioned.</a><br /><a href="https://github.com/Charmve/computer-vision-in-action">ã€Šè®¡ç®—æœºè§†è§‰å®æˆ˜æ¼”ç»ƒï¼šç®—æ³•ä¸åº”ç”¨ã€‹ä¸­æ–‡ç”µå­ä¹¦ã€æºç ã€è¯»è€…äº¤æµç¤¾åŒºï¼ˆæ›´æ–°ä¸­ï¼Œå¯ä»¥å…ˆ starï¼‰</a><br /><a href="https://github.com/chinnkarahoi/jd_scripts">lxk0301/jd_scriptså¤‡ä»½ã€‚ä¸è¦starã€‚ä¸è¦forkã€‚è°¢è°¢é…åˆã€‚</a><br /><a href="https://github.com/apple/swift-algorithms">Commonly used sequence and collection algorithms for Swift</a><br /><a href="https://github.com/protocolbuffers/protobuf">Protocol Buffers - Google's data interchange format</a><br /><a href="https://github.com/escape2020/school2021">ESCAPE Summer School 2021</a><br /><a href="https://github.com/microsoft/playwright">Node.js library to automate Chromium, Firefox and WebKit with a single API</a><br /><a href="https://github.com/peng-zhihui/XUAN-Bike"></a><br /><a href="https://github.com/PaddlePaddle/PaddleHub">Awesome pre-trained models toolkit based on PaddlePaddle.(300+ models including Image, Text, Audio and Video with Easy Inference & Serving deployment)</a><br /><a href="https://github.com/danistefanovic/build-your-own-x">ğŸ¤“ Build your own (insert technology here)</a><br /><a href="https://github.com/fmeringdal/nettu-meet">Open source video conferencing system for tutors.</a><br /><a href="https://github.com/snowpackjs/astro">ğŸš€ğŸ§‘â€ğŸš€ Keep your eyes to the skies, astronauts!</a><br /><a href="https://github.com/PaperMC/Paper">High performance Spigot fork that aims to fix gameplay and mechanics inconsistencies</a><br /><a href="https://github.com/udacity/nd064_course_1"></a><br /><a href="https://github.com/actions/virtual-environments">GitHub Actions virtual environments</a><br /><a href="https://github.com/CaffeineMC/sodium-fabric">A Fabric mod designed to improve frame rates and reduce micro-stutter</a><br /><a href="https://github.com/OATML/non-parametric-transformers">Code for "Self-Attention Between Datapoints: Going Beyond Individual Input-Output Pairs in Deep Learning"</a><br /><a href="https://github.com/jwasham/coding-interview-university">A complete computer science study plan to become a software engineer.</a><br /><a href="https://github.com/iamadamdev/bypass-paywalls-chrome">Bypass Paywalls web browser extension for Chrome and Firefox.</a><br /><a href="https://github.com/facebook/folly">An open-source C++ library developed and used at Facebook.</a><br /><a href="https://github.com/PaddlePaddle/PaddleNLP">An NLP library with Awesome pre-trained Transformer models and easy-to-use interface, supporting wide-range of NLP tasks from research to industrial applications.</a><br /><a href="https://github.com/peng-zhihui/HoloCubic">å¸¦ç½‘ç»œåŠŸèƒ½çš„ä¼ªå…¨æ¯é€æ˜æ˜¾ç¤ºæ¡Œé¢ç«™</a><br /><hr />å®Œå…¨å¹³æ–¹æ•°<br /><p>ç»™å®šæ­£æ•´æ•°Â <em>n</em>ï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚Â <code>1, 4, 9, 16, ...</code>ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº<em> n</em>ã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚</p>

<p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>n</code> ï¼Œè¿”å›å’Œä¸º <code>n</code> çš„å®Œå…¨å¹³æ–¹æ•°çš„ <strong>æœ€å°‘æ•°é‡</strong> ã€‚</p>

<p><strong>å®Œå…¨å¹³æ–¹æ•°</strong> æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå…¶å€¼ç­‰äºå¦ä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹ï¼›æ¢å¥è¯è¯´ï¼Œå…¶å€¼ç­‰äºä¸€ä¸ªæ•´æ•°è‡ªä¹˜çš„ç§¯ã€‚ä¾‹å¦‚ï¼Œ<code>1</code>ã€<code>4</code>ã€<code>9</code> å’Œ <code>16</code> éƒ½æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œè€Œ <code>3</code> å’Œ <code>11</code> ä¸æ˜¯ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹Â 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = <code>12</code>
<strong>è¾“å‡ºï¼š</strong>3 
<strong>è§£é‡Šï¼š</strong><code>12 = 4 + 4 + 4</code></pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>n = <code>13</code>
<strong>è¾“å‡ºï¼š</strong>2
<strong>è§£é‡Šï¼š</strong><code>13 = 4 + 9</code></pre>
Â 

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= n <= 10<sup>4</sup></code></li>
</ul>
<br />#### æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’

**æ€è·¯åŠç®—æ³•**

æˆ‘ä»¬å¯ä»¥ä¾æ®é¢˜ç›®çš„è¦æ±‚å†™å‡ºçŠ¶æ€è¡¨è¾¾å¼ï¼š$f[i]$ è¡¨ç¤ºæœ€å°‘éœ€è¦å¤šå°‘ä¸ªæ•°çš„å¹³æ–¹æ¥è¡¨ç¤ºæ•´æ•° $i$ã€‚

è¿™äº›æ•°å¿…ç„¶è½åœ¨åŒºé—´ $[1,\sqrt{n}]$ã€‚æˆ‘ä»¬å¯ä»¥æšä¸¾è¿™äº›æ•°ï¼Œå‡è®¾å½“å‰æšä¸¾åˆ° $j$ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦å–è‹¥å¹²æ•°çš„å¹³æ–¹ï¼Œæ„æˆ $i-j^2$ã€‚æ­¤æ—¶æˆ‘ä»¬å‘ç°è¯¥å­é—®é¢˜å’ŒåŸé—®é¢˜ç±»ä¼¼ï¼Œåªæ˜¯è§„æ¨¡å˜å°äº†ã€‚è¿™ç¬¦åˆäº†åŠ¨æ€è§„åˆ’çš„è¦æ±‚ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚

$$
f[i]=1+\min_{j=1}^{\lfloor\sqrt{i}\rfloor}{f[i-j^2]}
$$

å…¶ä¸­ $f[0]=0$ ä¸ºè¾¹ç•Œæ¡ä»¶ï¼Œå®é™…ä¸Šæˆ‘ä»¬æ— æ³•è¡¨ç¤ºæ•°å­— $0$ï¼Œåªæ˜¯ä¸ºäº†ä¿è¯çŠ¶æ€è½¬ç§»è¿‡ç¨‹ä¸­é‡åˆ° $j$ æ°ä¸º $\sqrt{i}$ çš„æƒ…å†µåˆæ³•ã€‚

åŒæ—¶å› ä¸ºè®¡ç®— $f[i]$ æ—¶æ‰€éœ€è¦ç”¨åˆ°çš„çŠ¶æ€ä»…æœ‰ $f[i-j^2]$ï¼Œå¿…ç„¶å°äº $i$ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ä»å°åˆ°å¤§åœ°æšä¸¾ $i$ æ¥è®¡ç®— $f[i]$ å³å¯ã€‚

**ä»£ç **

```C++ [sol1-C++]
class Solution {
public:
    int numSquares(int n) {
        vector<int> f(n + 1);
        for (int i = 1; i <= n; i++) {
            int minn = INT_MAX;
            for (int j = 1; j * j <= i; j++) {
                minn = min(minn, f[i - j * j]);
            }
            f[i] = minn + 1;
        }
        return f[n];
    }
};
```

```Java [sol1-Java]
class Solution {
    public int numSquares(int n) {
        int[] f = new int[n + 1];
        for (int i = 1; i <= n; i++) {
            int minn = Integer.MAX_VALUE;
            for (int j = 1; j * j <= i; j++) {
                minn = Math.min(minn, f[i - j * j]);
            }
            f[i] = minn + 1;
        }
        return f[n];
    }
}
```

```C# [sol1-C#]
public class Solution {
    public int NumSquares(int n) {
        int[] f = new int[n + 1];
        for (int i = 1; i <= n; i++) {
            int minn = int.MaxValue;
            for (int j = 1; j * j <= i; j++) {
                minn = Math.Min(minn, f[i - j * j]);
            }
            f[i] = minn + 1;
        }
        return f[n];
    }
}
```

```go [sol1-Golang]
func numSquares(n int) int {
    f := make([]int, n+1)
    for i := 1; i <= n; i++ {
        minn := math.MaxInt32
        for j := 1; j*j <= i; j++ {
            minn = min(minn, f[i-j*j])
        }
        f[i] = minn + 1
    }
    return f[n]
}

func min(a, b int) int {
    if a < b {
        return a
    }
    return b
}
```

```JavaScript [sol1-JavaScript]
var numSquares = function(n) {
    const f = new Array(n + 1).fill(0);
    for (let i = 1; i <= n; i++) {
        let minn = Number.MAX_VALUE;
        for (let j = 1; j * j <= i; j++) {
            minn = Math.min(minn, f[i - j * j]);
        }
        f[i] = minn + 1;
    }
    return f[n];
};
```

```C [sol1-C]
int numSquares(int n) {
    int f[n + 1];
    f[0] = 0;
    for (int i = 1; i <= n; i++) {
        int minn = INT_MAX;
        for (int j = 1; j * j <= i; j++) {
            minn = fmin(minn, f[i - j * j]);
        }
        f[i] = minn + 1;
    }
    return f[n];
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n\sqrt{n})$ï¼Œå…¶ä¸­ $n$ ä¸ºç»™å®šçš„æ­£æ•´æ•°ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(\sqrt{n})$ï¼Œå…±éœ€è¦è®¡ç®— $n$ ä¸ªçŠ¶æ€ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(n \sqrt{n})$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚æˆ‘ä»¬éœ€è¦ $O(n)$ çš„ç©ºé—´ä¿å­˜çŠ¶æ€ã€‚

#### æ–¹æ³•äºŒï¼šæ•°å­¦

**æ€è·¯åŠç®—æ³•**

ä¸€ä¸ªæ•°å­¦å®šç†å¯ä»¥å¸®åŠ©è§£å†³æœ¬é¢˜ï¼šã€Œ[å››å¹³æ–¹å’Œå®šç†](https://baike.baidu.com/item/%E5%9B%9B%E5%B9%B3%E6%96%B9%E5%92%8C%E5%AE%9A%E7%90%86)ã€ã€‚

å››å¹³æ–¹å’Œå®šç†è¯æ˜äº†ä»»æ„ä¸€ä¸ªæ­£æ•´æ•°éƒ½å¯ä»¥è¢«è¡¨ç¤ºä¸ºè‡³å¤šå››ä¸ªæ­£æ•´æ•°çš„å¹³æ–¹å’Œã€‚è¿™ç»™å‡ºäº†æœ¬é¢˜çš„ç­”æ¡ˆçš„ä¸Šç•Œã€‚

åŒæ—¶å››å¹³æ–¹å’Œå®šç†åŒ…å«äº†ä¸€ä¸ªæ›´å¼ºçš„ç»“è®ºï¼šå½“ä¸”ä»…å½“ $n \neq 4^k \times (8m+7)$ æ—¶ï¼Œ$n$ å¯ä»¥è¢«è¡¨ç¤ºä¸ºè‡³å¤šä¸‰ä¸ªæ­£æ•´æ•°çš„å¹³æ–¹å’Œã€‚å› æ­¤ï¼Œå½“ $n = 4^k \times (8m+7)$ æ—¶ï¼Œ$n$ åªèƒ½è¢«è¡¨ç¤ºä¸ºå››ä¸ªæ­£æ•´æ•°çš„å¹³æ–¹å’Œã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å› $4$ã€‚

å½“ $n \neq 4^k \times (8m+7)$ æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­åˆ°åº•å¤šå°‘ä¸ªå®Œå…¨å¹³æ–¹æ•°èƒ½å¤Ÿè¡¨ç¤º $n$ï¼Œæˆ‘ä»¬çŸ¥é“ç­”æ¡ˆåªä¼šæ˜¯ $1,2,3$ ä¸­çš„ä¸€ä¸ªï¼š

- ç­”æ¡ˆä¸º $1$ æ—¶ï¼Œåˆ™å¿…æœ‰ $n$ ä¸ºå®Œå…¨å¹³æ–¹æ•°ï¼Œè¿™å¾ˆå¥½åˆ¤æ–­ï¼›

- ç­”æ¡ˆä¸º $2$ æ—¶ï¼Œåˆ™æœ‰ $n=a^2+b^2$ï¼Œæˆ‘ä»¬åªéœ€è¦æšä¸¾æ‰€æœ‰çš„ $a(1 \leq a \leq \sqrt{n})$ï¼Œåˆ¤æ–­ $n-a^2$ æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°å³å¯ï¼›

- ç­”æ¡ˆä¸º $3$ æ—¶ï¼Œæˆ‘ä»¬å¾ˆéš¾åœ¨ä¸€ä¸ªä¼˜ç§€çš„æ—¶é—´å¤æ‚åº¦å†…è§£å†³å®ƒï¼Œä½†æˆ‘ä»¬åªéœ€è¦æ£€æŸ¥ç­”æ¡ˆä¸º $1$ æˆ– $2$ çš„ä¸¤ç§æƒ…å†µï¼Œå³å¯åˆ©ç”¨æ’é™¤æ³•ç¡®å®šç­”æ¡ˆã€‚

**ä»£ç **

```C++ [sol2-C++]
class Solution {
public:
    // åˆ¤æ–­æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°
    bool isPerfectSquare(int x) {
        int y = sqrt(x);
        return y * y == x;
    }

    // åˆ¤æ–­æ˜¯å¦èƒ½è¡¨ç¤ºä¸º 4^k*(8m+7)
    bool checkAnswer4(int x) {
        while (x % 4 == 0) {
            x /= 4;
        }
        return x % 8 == 7;
    }

    int numSquares(int n) {
        if (isPerfectSquare(n)) {
            return 1;
        }
        if (checkAnswer4(n)) {
            return 4;
        }
        for (int i = 1; i * i <= n; i++) {
            int j = n - i * i;
            if (isPerfectSquare(j)) {
                return 2;
            }
        }
        return 3;
    }
};
```

```Java [sol2-Java]
class Solution {
    public int numSquares(int n) {
        if (isPerfectSquare(n)) {
            return 1;
        }
        if (checkAnswer4(n)) {
            return 4;
        }
        for (int i = 1; i * i <= n; i++) {
            int j = n - i * i;
            if (isPerfectSquare(j)) {
                return 2;
            }
        }
        return 3;
    }

    // åˆ¤æ–­æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°
    public boolean isPerfectSquare(int x) {
        int y = (int) Math.sqrt(x);
        return y * y == x;
    }

    // åˆ¤æ–­æ˜¯å¦èƒ½è¡¨ç¤ºä¸º 4^k*(8m+7)
    public boolean checkAnswer4(int x) {
        while (x % 4 == 0) {
            x /= 4;
        }
        return x % 8 == 7;
    }
}
```

```C# [sol2-C#]
public class Solution {
    public int NumSquares(int n) {
        if (IsPerfectSquare(n)) {
            return 1;
        }
        if (CheckAnswer4(n)) {
            return 4;
        }
        for (int i = 1; i * i <= n; i++) {
            int j = n - i * i;
            if (IsPerfectSquare(j)) {
                return 2;
            }
        }
        return 3;
    }

    // åˆ¤æ–­æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°
    public bool IsPerfectSquare(int x) {
        int y = (int) Math.Sqrt(x);
        return y * y == x;
    }

    // åˆ¤æ–­æ˜¯å¦èƒ½è¡¨ç¤ºä¸º 4^k*(8m+7)
    public bool CheckAnswer4(int x) {
        while (x % 4 == 0) {
            x /= 4;
        }
        return x % 8 == 7;
    }
}
```

```go [sol2-Golang]
// åˆ¤æ–­æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°
func isPerfectSquare(x int) bool {
    y := int(math.Sqrt(float64(x)))
    return y*y == x
}

// åˆ¤æ–­æ˜¯å¦èƒ½è¡¨ç¤ºä¸º 4^k*(8m+7)
func checkAnswer4(x int) bool {
    for x%4 == 0 {
        x /= 4
    }
    return x%8 == 7
}

func numSquares(n int) int {
    if isPerfectSquare(n) {
        return 1
    }
    if checkAnswer4(n) {
        return 4
    }
    for i := 1; i*i <= n; i++ {
        j := n - i*i
        if isPerfectSquare(j) {
            return 2
        }
    }
    return 3
}
```

```JavaScript [sol2-JavaScript]
var numSquares = function(n) {
    if (isPerfectSquare(n)) {
        return 1;
    }
    if (checkAnswer4(n)) {
        return 4;
    }
    for (let i = 1; i * i <= n; i++) {
        let j = n - i * i;
        if (isPerfectSquare(j)) {
            return 2;
        }
    }
    return 3;
}

// åˆ¤æ–­æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°
const isPerfectSquare = (x) => {
    const y = Math.floor(Math.sqrt(x));
    return y * y == x;
}

// åˆ¤æ–­æ˜¯å¦èƒ½è¡¨ç¤ºä¸º 4^k*(8m+7)
const checkAnswer4 = (x) => {
    while (x % 4 == 0) {
        x /= 4;
    }
    return x % 8 == 7;
}
```

```C [sol1-C]
// åˆ¤æ–­æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°
bool isPerfectSquare(int x) {
    int y = sqrt(x);
    return y * y == x;
}

// åˆ¤æ–­æ˜¯å¦èƒ½è¡¨ç¤ºä¸º 4^k*(8m+7)
bool checkAnswer4(int x) {
    while (x % 4 == 0) {
        x /= 4;
    }
    return x % 8 == 7;
}

int numSquares(int n) {
    if (isPerfectSquare(n)) {
        return 1;
    }
    if (checkAnswer4(n)) {
        return 4;
    }
    for (int i = 1; i * i <= n; i++) {
        int j = n - i * i;
        if (isPerfectSquare(j)) {
            return 2;
        }
    }
    return 3;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(\sqrt{n})$ï¼Œå…¶ä¸­ $n$ ä¸ºç»™å®šçš„æ­£æ•´æ•°ã€‚æœ€åæƒ…å†µä¸‹ç­”æ¡ˆä¸º $3$ï¼Œæˆ‘ä»¬éœ€è¦è¿è¡Œæ‰€æœ‰çš„åˆ¤æ–­ï¼Œè€Œåˆ¤æ–­ç­”æ¡ˆæ˜¯å¦ä¸º $1$ çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ï¼Œåˆ¤æ–­ç­”æ¡ˆæ˜¯å¦ä¸º $4$ çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(\log n)$ï¼Œå‰©ä½™åˆ¤æ–­ä¸º $O(\sqrt n)$ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(\log n + \sqrt n) = O(\sqrt n)$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°çš„ç©ºé—´ä¿å­˜è‹¥å¹²å˜é‡ã€‚