# 2021年06月14日 code
<a href="https://toutiao.io/k/a7bxrhs">有赞 TCP 网络编程最佳实践</a><br /><a href="https://toutiao.io/k/hv256a2">618 临阵磨刀：Flink 容器化与平台化建设少走弯路</a><br /><a href="https://toutiao.io/k/wxygtif">要将 RocketMQ 中台化，有点小激动</a><br /><a href="https://toutiao.io/k/sljb4c7">前端元编程：使用注解加速你的前端开发</a><br /><a href="https://toutiao.io/k/xrkhat1">多年老 C++ 程序员在静态数组这里翻船了</a><br /><a href="https://toutiao.io/k/pt0q5vx">Go 凭什么不支持三元运算符？</a><br /><a href="https://toutiao.io/k/5a35q81">比特币白皮书：价值的组合与分割</a><br /><a href="https://toutiao.io/k/4otoact">闲鱼商品理解数据分析平台：龙宫</a><br /><a href="https://toutiao.io/k/t74c75w">[译] React 18 发布计划</a><br /><a href="https://toutiao.io/k/cvx7p1o">如何用代码设计一款 Mix 风格的短袖？附指南</a><br /><a href="https://toutiao.io/k/6tcdyp9">[推荐] Spring Boot 在 K8s 下实现优雅停机</a><br /><a href="https://toutiao.io/k/d6e55fr">[推荐] 搜狗面试题：IO 多路复用之 select、poll、epoll 的区别</a><br /><a href="https://toutiao.io/k/2rcud9q">[推荐] Redis 存储对象信息是用 Hash 还是 String</a><br /><a href="https://toutiao.io/k/mr1knwm">[推荐] 微服务拆分之道</a><br /><a href="https://toutiao.io/k/z26byeu">[推荐] 25 张图，一万字，拆解 Linux 网络包发送过程</a><br /><a href="https://toutiao.io/k/b9vlrcu">[推荐] 网络连接存在大量 time_wait 和 close_wait 的原因以及解决方法</a><br /><a href="https://toutiao.io/k/ow2rhiz">[推荐] Linux 调度系统全景指南（终结篇）</a><br /><a href="https://toutiao.io/k/a3gplbq">[推荐] 一文理解 Redis 底层数据结构</a><br /><a href="https://toutiao.io/k/msg8jaf">[推荐] 2.3 万 Star！直追微软 Visio，这个简洁实用的在线绘图工具必须推荐给你</a><br /><a href="https://toutiao.io/k/xjnx4kp">[推荐] 杭州某大厂：MySQL 连环问</a><br /><a href="https://toutiao.io/k/qnyxbs9">[推荐] 惊！这个 Go 开源项目号称「不改一行代码做秒杀」</a><br /><a href="https://toutiao.io/k/wwmsd4f">[推荐] 学会这 10 个设计原则，离架构师又进了一步</a><br /><a href="https://toutiao.io/k/b70jpzu">[推荐] 10 问 10 答：你真的了解线程池吗？</a><br /><a href="https://toutiao.io/k/xha1t37">[推荐] 架构师图谱（上篇）</a><br /><a href="https://toutiao.io/k/85kvlje">[推荐] 面试题：MySQL 一棵 B+ 树能存多少条数据？</a><br /><hr /><a href="https://github.com/PaperMC/Paper">High performance Spigot fork that aims to fix gameplay and mechanics inconsistencies</a><br /><a href="https://github.com/hasura/graphql-engine">Blazing fast, instant realtime GraphQL APIs on your DB with fine grained access control, also trigger webhooks on database events.</a><br /><a href="https://github.com/login?return_to=%2Fneovim%2Fneovim">Vim-fork focused on extensibility and usability</a><br /><a href="https://github.com/udacity/nd064_course_1"></a><br /><a href="https://github.com/alpinejs/alpine">A rugged, minimal framework for composing JavaScript behavior in your markup.</a><br /><a href="https://github.com/madMAx43v3r/chia-plotter"></a><br /><a href="https://github.com/iptv-org/iptv">Collection of publicly available IPTV channels from all over the world</a><br /><a href="https://github.com/zzanehip/The-OldOS-Project">Recreating a fully functional version of iOS 4 in SwiftUI.</a><br /><a href="https://github.com/ytdl-org/youtube-dl">Command-line program to download videos from YouTube.com and other video sites</a><br /><a href="https://github.com/biancangming/wtv">解决电脑、手机看电视直播的苦恼，收集各种直播源，电视直播网站</a><br /><a href="https://github.com/maziarraissi/Applied-Deep-Learning">Applied Deep Learning</a><br /><a href="https://github.com/jwasham/coding-interview-university">A complete computer science study plan to become a software engineer.</a><br /><a href="https://github.com/chrxh/alien">alien is a GPU-accelerated artificial life simulation program.</a><br /><a href="https://github.com/the-hyp0cr1t3/DSA-Training-2021"></a><br /><a href="https://github.com/wuzhi04/MyActions"></a><br /><a href="https://github.com/yangtingxiao/QuantumultX">脚本，自用</a><br /><a href="https://github.com/MuriungiPatrick/Bootstrap-5-portfolio-template">Learning Bootstrap 5 with SASS</a><br /><a href="https://github.com/ashishpatel26/500-AI-Machine-learning-Deep-learning-Computer-vision-NLP-Projects-with-code">500 AI Machine learning Deep learning Computer vision NLP Projects with code</a><br /><a href="https://github.com/jina-ai/jina">An easier way to build neural search on the cloud</a><br /><a href="https://github.com/login?return_to=%2FEbookFoundation%2Ffree-programming-books">📚 Freely available programming books</a><br /><a href="https://github.com/hlissner/doom-emacs">An Emacs framework for the stubborn martian hacker</a><br /><a href="https://github.com/login?return_to=%2Fdrawrowfly%2Ftiktok-scraper">TikTok Scraper. Download video posts, collect user/trend/hashtag/music feed metadata, sign URL and etc.</a><br /><a href="https://github.com/Genymobile/scrcpy">Display and control your Android device</a><br /><a href="https://github.com/atom/atom">The hackable text editor</a><br /><a href="https://github.com/nushell/nushell">A new type of shell</a><br /><hr />猜数字大小<br /><p>猜数字游戏的规则如下：</p>

<ul>
	<li>每轮游戏，我都会从 <strong>1</strong> 到 <em><strong>n</strong></em> 随机选择一个数字。 请你猜选出的是哪个数字。</li>
	<li>如果你猜错了，我会告诉你，你猜测的数字比我选出的数字是大了还是小了。</li>
</ul>

<p>你可以通过调用一个预先定义好的接口 <code>int guess(int num)</code> 来获取猜测结果，返回值一共有 3 种可能的情况（<code>-1</code>，<code>1</code> 或 <code>0</code>）：</p>

<ul>
	<li>-1：我选出的数字比你猜的数字小 <code>pick < num</code></li>
	<li>1：我选出的数字比你猜的数字大 <code>pick > num</code></li>
	<li>0：我选出的数字和你猜的数字一样。恭喜！你猜对了！<code>pick == num</code></li>
</ul>

<p>返回我选出的数字。</p>

<p> </p>

<p><strong>示例 1：</strong></p>

<pre>
<strong>输入：</strong>n = 10, pick = 6
<strong>输出：</strong>6
</pre>

<p><strong>示例 2：</strong></p>

<pre>
<strong>输入：</strong>n = 1, pick = 1
<strong>输出：</strong>1
</pre>

<p><strong>示例 3：</strong></p>

<pre>
<strong>输入：</strong>n = 2, pick = 1
<strong>输出：</strong>1
</pre>

<p><strong>示例 4：</strong></p>

<pre>
<strong>输入：</strong>n = 2, pick = 2
<strong>输出：</strong>2
</pre>

<p> </p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>1 <= n <= 2<sup>31</sup> - 1</code></li>
	<li><code>1 <= pick <= n</code></li>
</ul>
<br />#### 方法一：二分查找

记选出的数字为 $\textit{pick}$，猜测的数字为 $x$。根据题目描述，若 $\texttt{guess}(x)\le 0$ 则说明 $x\ge\textit{pick}$，否则 $x<\textit{pick}$。

根据这一性质我们可以使用二分查找来求出答案 $\textit{pick}$。

二分时，记当前区间为 $[\textit{left},\textit{right}]$，初始时 $\textit{left}=1$，$\textit{right}=n$。记区间中间元素为 $\textit{mid}$，若有 $\texttt{guess}(mid)\le 0$ 则说明 $\textit{pick} \in [\textit{left},\textit{mid}]$，否则 $\textit{pick} \in [\textit{mid}+1,\textit{right}]$。当区间左右端点相同时，则说明我们找到了答案，退出循环。

```C++ [sol1-C++]
class Solution {
public:
    int guessNumber(int n) {
        int left = 1, right = n;
        while (left < right) { // 循环直至区间左右端点相同
            int mid = left + (right - left) / 2; // 防止计算时溢出
            if (guess(mid) <= 0) {
                right = mid; // 答案在区间 [left, mid] 中
            } else {
                left = mid + 1; // 答案在区间 [mid+1, right] 中
            }
        }
        // 此时有 left == right，区间缩为一个点，即为答案
        return left;
    }
};
```

```Java [sol1-Java]
public class Solution extends GuessGame {
    public int guessNumber(int n) {
        int left = 1, right = n;
        while (left < right) { // 循环直至区间左右端点相同
            int mid = left + (right - left) / 2; // 防止计算时溢出
            if (guess(mid) <= 0) {
                right = mid; // 答案在区间 [left, mid] 中
            } else {
                left = mid + 1; // 答案在区间 [mid+1, right] 中
            }
        }
        // 此时有 left == right，区间缩为一个点，即为答案
        return left;
    }
}
```

```C# [sol1-C#]
public class Solution : GuessGame {
    public int GuessNumber(int n) {
        int left = 1, right = n;
        while (left < right) { // 循环直至区间左右端点相同
            int mid = left + (right - left) / 2; // 防止计算时溢出
            if (guess(mid) <= 0) {
                right = mid; // 答案在区间 [left, mid] 中
            } else {
                left = mid + 1; // 答案在区间 [mid+1, right] 中
            }
        }
        // 此时有 left == right，区间缩为一个点，即为答案
        return left;
    }
}
```

```go [sol1-Golang]
func guessNumber(n int) int {
    return sort.Search(n, func(x int) bool { return guess(x) <= 0 })
}
```

```JavaScript [sol1-JavaScript]
var guessNumber = function(n) {
    let left = 1, right = n;
    while (left < right) { // 循环直至区间左右端点相同
        const mid = Math.floor(left + (right - left) / 2); 
        if (guess(mid) <= 0) {
            right = mid; // 答案在区间 [left, mid] 中
        } else {
            left = mid + 1; // 答案在区间 [mid+1, right] 中
        }
    }
    // 此时有 left == right，区间缩为一个点，即为答案
    return left;
};
```

```C [sol1-C]
int guessNumber(int n) {
    int left = 1, right = n;
    while (left < right) {  // 循环直至区间左右端点相同
        int mid = left + (right - left) / 2;  // 防止计算时溢出
        if (guess(mid) <= 0) {
            right = mid;  // 答案在区间 [left, mid] 中
        } else {
            left = mid + 1;  // 答案在区间 [mid+1, right] 中
        }
    }
    // 此时有 left == right，区间缩为一个点，即为答案
    return left;
}
```

```Python [sol1-Python3]
class Solution:
    def guessNumber(self, n: int) -> int:
        left, right = 1, n
        while left < right:
            mid = (left + right) // 2
            if guess(mid) <= 0:
                right = mid   # 答案在区间 [left, mid] 中
            else:
                left = mid + 1   # 答案在区间 [mid+1, right] 中
        
        # 此时有 left == right，区间缩为一个点，即为答案
        return left
```

**复杂度分析**

- 时间复杂度：$O(\log n)$。时间复杂度即为二分的次数，每次二分我们将区间的长度减小一半，直至区间长度为 $1$ 时二分终止，而区间初始长度为 $n$，因此二分次数为 $O(\log n)$。

- 空间复杂度：$O(1)$。